/**
 * @license
 * The AssemblyScript compiler
 * Copyright 2022 Daniel Wirtz / The AssemblyScript Authors
 * SPDX-License-Identifier: Apache-2.0
 */
var Ks=Object.defineProperty;var Du=Object.getOwnPropertyDescriptor;var Rd=Object.getOwnPropertyNames;var Ad=Object.prototype.hasOwnProperty;var Xs=(r,e)=>{for(var t in e)Ks(r,t,{get:e[t],enumerable:!0})},qs=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Rd(e))!Ad.call(r,n)&&(t||n!=="default")&&Ks(r,n,{get:()=>e[n],enumerable:!(i=Du(e,n))||i.enumerable});return r};var Gu=(r,e,t,i)=>{for(var n=i>1?void 0:i?Du(e,t):e,s=r.length-1,a;s>=0;s--)(a=r[s])&&(n=(i?a(e,t,n):a(n))||n);return i&&n&&Ks(e,t,n),n};var Uu={};Xs(Uu,{ASTBuilder:()=>Hs,ArrayLiteralExpression:()=>da,ArrowKind:()=>Ai,AssertionExpression:()=>Ea,AssertionKind:()=>Dr,AtomicRMWOp:()=>Ru,BinaryExpression:()=>ya,BinaryModule:()=>wu,BinaryOp:()=>jr,BlockStatement:()=>Ka,BrOnOp:()=>qc,BreakStatement:()=>Xa,CallExpression:()=>ga,Class:()=>Li,ClassDeclaration:()=>Hn,ClassExpression:()=>Ta,ClassPrototype:()=>Is,CommaExpression:()=>ba,CommentKind:()=>ha,CommentNode:()=>ma,CommonFlags:()=>Pe,CommonNames:()=>w,CompiledExpression:()=>Ya,Compiler:()=>si,ConditionKind:()=>Rl,ConstantValueKind:()=>wl,Constraints:()=>Hl,ConstructorExpression:()=>Ia,ContinueStatement:()=>qa,DEFAULT_STACK_SIZE:()=>rS,DeclarationStatement:()=>ze,DeclaredElement:()=>Dt,DecoratorFlags:()=>Q,DecoratorKind:()=>Et,DecoratorNode:()=>fa,DiagnosticCategory:()=>Dn,DiagnosticCode:()=>tt,DiagnosticEmitter:()=>Ve,DiagnosticMessage:()=>Si,DoStatement:()=>Qa,Element:()=>Ts,ElementAccessExpression:()=>va,ElementKind:()=>J,EmptyStatement:()=>Za,Enum:()=>Ol,EnumDeclaration:()=>ja,EnumValue:()=>Ml,EnumValueDeclaration:()=>Ja,ExportDefaultStatement:()=>ro,ExportImportStatement:()=>$a,ExportMember:()=>eo,ExportNames:()=>ln,ExportStatement:()=>to,Expression:()=>fe,ExpressionId:()=>nr,ExpressionRunnerFlags:()=>ws,ExpressionStatement:()=>io,ExternalKind:()=>Wl,FEATURE_BULK_MEMORY:()=>lS,FEATURE_EXCEPTION_HANDLING:()=>cS,FEATURE_GC:()=>mS,FEATURE_MEMORY64:()=>dS,FEATURE_MULTI_VALUE:()=>hS,FEATURE_MUTABLE_GLOBALS:()=>aS,FEATURE_NONTRAPPING_F2I:()=>oS,FEATURE_REFERENCE_TYPES:()=>fS,FEATURE_SIGN_EXTENSION:()=>sS,FEATURE_SIMD:()=>uS,FEATURE_TAIL_CALLS:()=>_S,FEATURE_THREADS:()=>pS,FalseExpression:()=>Va,Feature:()=>Pt,FeatureFlags:()=>ql,Field:()=>Qn,FieldDeclaration:()=>no,FieldFlags:()=>Sl,FieldPrototype:()=>Ul,File:()=>ys,FloatLiteralExpression:()=>xa,Flow:()=>Me,FlowFlags:()=>hs,ForOfStatement:()=>ao,ForStatement:()=>so,Function:()=>je,FunctionDeclaration:()=>zr,FunctionExpression:()=>Sa,FunctionPrototype:()=>Ke,FunctionTypeNode:()=>pa,GETTER_PREFIX:()=>kn,Global:()=>$r,INDEX_SUFFIX:()=>Ne,INNER_DELIMITER:()=>ta,INSTANCE_DELIMITER:()=>Ii,IdentifierExpression:()=>it,IdentifierHandling:()=>So,IfStatement:()=>oo,ImportDeclaration:()=>lo,ImportStatement:()=>zn,IndexSignature:()=>jn,IndexSignatureNode:()=>Ha,InstanceOfExpression:()=>Ra,IntegerLiteralExpression:()=>Aa,Interface:()=>Jn,InterfaceDeclaration:()=>uo,InterfacePrototype:()=>Bl,JSBuilder:()=>Rr,LIBRARY_PREFIX:()=>Ze,LIBRARY_SUBST:()=>On,LiteralExpression:()=>yt,LiteralKind:()=>we,Local:()=>Ue,LocalFlags:()=>ms,MemorySegment:()=>un,MethodDeclaration:()=>po,Module:()=>lt,ModuleDeclaration:()=>yo,NamedTypeNode:()=>Vn,Namespace:()=>bs,NamespaceDeclaration:()=>co,NewExpression:()=>Na,Node:()=>P,NodeKind:()=>dt,NullExpression:()=>La,ObjectLiteralExpression:()=>Ca,OmittedExpression:()=>Fa,OperatorKind:()=>Le,Options:()=>Ps,PARENT_SUBST:()=>Vd,PATH_DELIMITER:()=>Qe,Parameter:()=>vc,ParameterKind:()=>Br,ParameterNode:()=>_a,ParenthesizedExpression:()=>ka,Parser:()=>Es,Precedence:()=>he,Program:()=>gs,Property:()=>Zn,PropertyAccessExpression:()=>Pa,PropertyPrototype:()=>ei,Range:()=>se,RefAsOp:()=>Xc,RefIsOp:()=>Os,RegexpLiteralExpression:()=>Oa,Relooper:()=>An,ReportMode:()=>Xn,Resolver:()=>qn,ReturnStatement:()=>_o,Runtime:()=>Fn,RuntimeFeatures:()=>Kl,SETTER_PREFIX:()=>Pn,SIMDExtractOp:()=>Au,SIMDLoadOp:()=>Cu,SIMDLoadStoreLaneOp:()=>Fu,SIMDReplaceOp:()=>Nu,SIMDShiftOp:()=>Lu,SIMDTernaryOp:()=>ku,STATIC_DELIMITER:()=>vi,STUB_DELIMITER:()=>ra,SideEffects:()=>pn,Signature:()=>ve,Source:()=>Vr,SourceKind:()=>Gr,State:()=>Ao,Statement:()=>oe,StringLiteralExpression:()=>Ma,SuperExpression:()=>Ua,SwitchBuilder:()=>Ms,SwitchCase:()=>fo,SwitchStatement:()=>ho,TSDBuilder:()=>Ar,Target:()=>wr,TemplateLiteralExpression:()=>Ba,TernaryExpression:()=>wa,ThisExpression:()=>Da,ThrowStatement:()=>mo,Token:()=>Wr,Tokenizer:()=>Kn,TrueExpression:()=>Ga,TryStatement:()=>Eo,Type:()=>u,TypeDeclaration:()=>go,TypeDefinition:()=>bt,TypeFlags:()=>Ot,TypeKind:()=>ir,TypeName:()=>ua,TypeNode:()=>Wn,TypeParameterNode:()=>ca,TypeRef:()=>F,TypedElement:()=>Gt,Typeinfo:()=>Ti,TypeinfoFlags:()=>bi,UnaryExpression:()=>Yn,UnaryOp:()=>Ji,UnaryPostfixExpression:()=>za,UnaryPrefixExpression:()=>Wa,VariableDeclaration:()=>To,VariableLikeDeclarationStatement:()=>Ri,VariableLikeElement:()=>ur,VariableStatement:()=>bo,VoidStatement:()=>Io,WhileStatement:()=>vo,addGlobalAlias:()=>Z2,allocPtrArray:()=>me,buildJS:()=>WS,buildTSD:()=>zS,compile:()=>VS,createType:()=>Oe,diagnosticCategoryToColor:()=>Xu,diagnosticCategoryToString:()=>Bn,diagnosticCodeToString:()=>Ln,disableFeature:()=>yS,enableFeature:()=>ES,expandType:()=>Yl,featureToString:()=>Or,findDecorator:()=>gt,findUsedLocals:()=>st,formatDiagnostic:()=>qu,formatDiagnosticMessage:()=>qu,getBinaryLeft:()=>We,getBinaryOp:()=>qi,getBinaryRight:()=>Ce,getBinaryenModuleRef:()=>YS,getBlockChildAt:()=>rn,getBlockChildCount:()=>tn,getBlockName:()=>en,getBreakCondition:()=>c2,getBreakName:()=>p2,getCallOperandAt:()=>Fe,getCallOperandCount:()=>at,getCallTarget:()=>ji,getConstValueF32:()=>Ye,getConstValueF64:()=>He,getConstValueI32:()=>ie,getConstValueI64High:()=>$e,getConstValueI64Low:()=>Be,getDefaultParameterName:()=>xc,getDependee:()=>DS,getDiagnosticCategory:()=>RS,getDiagnosticCode:()=>SS,getDiagnosticMessage:()=>AS,getDiagnosticRange:()=>NS,getDiagnosticRelatedRange:()=>LS,getDropValue:()=>f2,getExpressionId:()=>ee,getExpressionType:()=>le,getFunctionBody:()=>d2,getFunctionName:()=>E2,getFunctionParams:()=>y2,getFunctionResults:()=>g2,getFunctionVars:()=>T2,getGlobalGetName:()=>$i,getGlobalInit:()=>v2,getGlobalName:()=>b2,getGlobalType:()=>I2,getIfCondition:()=>fs,getIfFalse:()=>Zr,getIfTrue:()=>Zi,getLoadBytes:()=>Al,getLoadOffset:()=>r2,getLoadPtr:()=>i2,getLocalGetIndex:()=>ot,getLocalSetIndex:()=>cs,getLocalSetValue:()=>lr,getLoopBody:()=>u2,getLoopName:()=>l2,getMemoryGrowDelta:()=>m2,getRangeEnd:()=>FS,getRangeSource:()=>kS,getRangeStart:()=>CS,getReturnValue:()=>h2,getSelectCondition:()=>_2,getSelectElse:()=>Cl,getSelectThen:()=>Ll,getSideEffects:()=>ni,getSource:()=>xS,getSourceNormalizedPath:()=>PS,getStoreBytes:()=>n2,getStoreOffset:()=>s2,getStorePtr:()=>a2,getStoreValue:()=>o2,getTagName:()=>x2,getTagParams:()=>S2,getTagResults:()=>R2,getUnaryOp:()=>Qi,getUnaryValue:()=>_s,initializeProgram:()=>GS,isConstNonZero:()=>Je,isConstZero:()=>ge,isDeclaredElement:()=>nn,isError:()=>MS,isGlobalMutable:()=>Ql,isIllegalVariableIdentifier:()=>Ro,isInfo:()=>OS,isLoadSigned:()=>Nl,isLocalTee:()=>Xi,isTypeOmitted:()=>xe,isTypedElement:()=>No,isWarning:()=>wS,mangleInternalName:()=>Te,mangleInternalPath:()=>Ni,mustPreserveSideEffects:()=>Gs,needsExplicitUnreachable:()=>Us,newOptions:()=>M2,newProgram:()=>IS,nextDiagnostic:()=>vS,nextFile:()=>BS,operatorTokenToString:()=>ye,optimize:()=>KS,parse:()=>US,readString:()=>Ge,removeGlobalAlias:()=>j2,setBasenameHint:()=>TS,setBundleVersion:()=>nS,setExportMemory:()=>G2,setExportRuntime:()=>tS,setExportStart:()=>J2,setExportTable:()=>K2,setImportMemory:()=>V2,setImportTable:()=>H2,setInitialMemory:()=>z2,setLowMemoryLimit:()=>eS,setMaximumMemory:()=>W2,setMemoryBase:()=>q2,setNoAssert:()=>D2,setNoUnsafe:()=>$2,setOptimizeLevelHints:()=>gS,setPedantic:()=>bS,setRuntime:()=>B2,setSharedMemory:()=>Y2,setSourceMap:()=>X2,setStackSize:()=>iS,setTableBase:()=>Q2,setTarget:()=>U2,tokenFromKeyword:()=>Qu,tokenIsAlsoIdentifier:()=>Zu,typesToRefs:()=>Ur,typesToString:()=>Gn,util:()=>la,validate:()=>HS});var q=typeof window<"u"&&window||typeof global<"u"&&global||self;if(typeof q.ASC_TARGET>"u"){let r=function(){Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=this.name+": "+this.message+`
`+new Error().stack},e=function(n){this.message=n||"assertion failed",Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=this.name+": "+this.message+`
`+new Error().stack},t=function(n,s){if(n==s){if(n!=0)return 0;n=1/n,s=1/s}else{var a=n!=n,o=s!=s;if(a|o)return a-o;n==null&&(n=String(n)),s==null&&(s=String(s))}return n>s?1:-1};q.ASC_TARGET=0,q.ASC_RUNTIME=0,q.ASC_NO_ASSERT=!1,q.ASC_MEMORY_BASE=0,q.ASC_OPTIMIZE_LEVEL=3,q.ASC_SHRINK_LEVEL=0,q.ASC_FEATURE_MUTABLE_GLOBAL=!1,q.ASC_FEATURE_SIGN_EXTENSION=!1,q.ASC_FEATURE_BULK_MEMORY=!1,q.ASC_FEATURE_SIMD=!1,q.ASC_FEATURE_THREADS=!1,Qs=new Float64Array(1),Vu=new Uint32Array(Qs.buffer),Object.defineProperties(q.i8=function(s){return s<<24>>24},{MIN_VALUE:{value:-128},MAX_VALUE:{value:127}}),Object.defineProperties(q.i16=function(s){return s<<16>>16},{MIN_VALUE:{value:-32768},MAX_VALUE:{value:32767}}),Object.defineProperties(q.i32=q.isize=function(s){return s|0},{MIN_VALUE:{value:-2147483648},MAX_VALUE:{value:2147483647}}),Object.defineProperties(q.u8=function(s){return s&255},{MIN_VALUE:{value:0},MAX_VALUE:{value:255}}),Object.defineProperties(q.u16=function(s){return s&65535},{MIN_VALUE:{value:0},MAX_VALUE:{value:65535}}),Object.defineProperties(q.u32=q.usize=function(s){return s>>>0},{MIN_VALUE:{value:0},MAX_VALUE:{value:4294967295}}),Object.defineProperties(q.bool=function(s){return!!s},{MIN_VALUE:{value:!1},MAX_VALUE:{value:!0}}),Object.defineProperties(q.f32=function(s){return Math.fround(s)},{EPSILON:{value:11920928955078125e-23},MIN_VALUE:{value:1401298464324817e-60},MAX_VALUE:{value:34028234663852886e22},MIN_NORMAL_VALUE:{value:11754943508222875e-54},MIN_SAFE_INTEGER:{value:-16777215},MAX_SAFE_INTEGER:{value:16777215},POSITIVE_INFINITY:{value:1/0},NEGATIVE_INFINITY:{value:-1/0},NaN:{value:NaN}}),Object.defineProperties(q.f64=function(s){return+s},{EPSILON:{value:2220446049250313e-31},MIN_VALUE:{value:5e-324},MAX_VALUE:{value:17976931348623157e292},MIN_NORMAL_VALUE:{value:22250738585072014e-324},MIN_SAFE_INTEGER:{value:-9007199254740991},MAX_SAFE_INTEGER:{value:9007199254740991},POSITIVE_INFINITY:{value:1/0},NEGATIVE_INFINITY:{value:-1/0},NaN:{value:NaN}}),q.clz=Math.clz32,q.ctz=function(s){return 32-Math.clz32(~s&s-1)},q.popcnt=function(s){return s-=s>>>1&1431655765,s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24},q.rotl=function(s,a){return a&=31,s<<a|s>>>32-a},q.rotr=function(s,a){return a&=31,s>>>a|s<<32-a},q.abs=Math.abs,q.max=Math.max,q.min=Math.min,q.ceil=Math.ceil,q.floor=Math.floor,q.nearest=function(s){let o=Math.abs(s);return o<4503599627370496?Math.abs(o+4503599627370496-4503599627370496)*Math.sign(s):s},q.select=function(s,a,o){return o?s:a},q.sqrt=Math.sqrt,q.trunc=Math.trunc,q.copysign=function(s,a){return Math.abs(s)*Math.sign(a)},q.bswap=function(s){var a=s>>8&16711935,o=(s&16711935)<<8;return s=a|o,a=s>>16&65535,o=(s&65535)<<16,a|o},q.bswap16=function(s){return s<<8&65280|s>>8&255|s&4294901760},r.prototype=Object.create(Error.prototype),r.prototype.name="UnreachableError",r.prototype.message="unreachable",q.unreachable=function(){throw new r},e.prototype=Object.create(Error.prototype),e.prototype.name="AssertionError",q.assert=function(s,a){if(s)return s;throw new e(a)},q.changetype=function(s){return s},String.fromCharCodes=function(s){let o=s.length;if(o<=8192)return String.fromCharCode.apply(String,s);let l=0,p="";for(;l<o;)p+=String.fromCharCode.apply(String,s.slice(l,Math.min(l+8192,o))),l+=8192;return p},String.fromCodePoints=function(s){let o=s.length;if(o<=8192)return String.fromCodePoint.apply(String,s);let l=0,p="";for(;l<o;)p+=String.fromCodePoint.apply(String,s.slice(l,Math.min(l+8192,o))),l+=8192;return p},String.prototype.at||Object.defineProperty(String.prototype,"at",{value:function(s){return this.charAt(s>=0?s:s+this.length)},configurable:!0}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(s,a){var o=this.split(s).join(a);return s.length||(o=a+o+a),o},configurable:!0});let i=Array.prototype.sort;Array.prototype.sort=function(s){return i.call(this,s||t)},[Array,Uint8ClampedArray,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array].forEach(n=>{n.prototype.at||Object.defineProperty(n.prototype,"at",{value:function(a){return this[a>=0?a:a+this.length]},configurable:!0}),n.prototype.findLastIndex||Object.defineProperty(n.prototype,"findLastIndex",{value:function(a){for(let o=this.length-1;o>=0;--o)if(a(this[o],o,this))return o;return-1},configurable:!0}),n!=Array&&Object.defineProperty(n,"wrap",{value:function(a,o,l){return new n(a,o,l)},configurable:!0})}),q.isInteger=Number.isInteger,q.isFloat=function(s){return typeof s=="number"},q.isNullable=function(s){return!0},q.isReference=function(s){return typeof s=="object"||typeof s=="string"},q.isFunction=function(s){return typeof s=="function"},q.isString=function(s){return typeof s=="string"||s instanceof String},q.isArray=Array.isArray,q.isArrayLike=function(s){return s&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&Math.trunc(s.length)===s.length},q.isDefined=function(s){return typeof s<"u"},q.isConstant=function(s){return!1},q.unchecked=function(s){return s},q.fmod=function(s,a){return s%a},q.fmodf=function(s,a){return Math.fround(s%a)},q.JSMath=Math,Object.defineProperties(q.JSMath,{sincos_sin:{value:0,writable:!0},sincos_cos:{value:0,writable:!0},signbit:{value:function(s){return Qs[0]=s,Boolean(Vu[1]>>>31)}},sincos:{value:function(s){this.sincos_sin=Math.sin(s),this.sincos_cos=Math.cos(s)}},exp2:{value:function(s){return Math.pow(2,s)}}}),q.unmanaged=function(){},q.trace=function(n,s){s&&(n+=Array.prototype.slice.call(arguments,2,2+s)),console.error("trace: "+n)}}else console.warn("compiler mismatch: std/portable included twice");var Qs,Vu;var di={};Xs(di,{default:()=>Ei});qs(di,CL);import*as CL from"binaryen";import{default as Ei}from"binaryen";var tt=(I=>(I[I.Not_implemented_0=100]="Not_implemented_0",I[I.Operation_is_unsafe=101]="Operation_is_unsafe",I[I.User_defined_0=102]="User_defined_0",I[I.Feature_0_is_not_enabled=103]="Feature_0_is_not_enabled",I[I.Low_memory_limit_exceeded_by_static_data_0_1=104]="Low_memory_limit_exceeded_by_static_data_0_1",I[I.Module_requires_at_least_0_pages_of_initial_memory=105]="Module_requires_at_least_0_pages_of_initial_memory",I[I.Module_requires_at_least_0_pages_of_maximum_memory=106]="Module_requires_at_least_0_pages_of_maximum_memory",I[I.Shared_memory_requires_maximum_memory_to_be_defined=107]="Shared_memory_requires_maximum_memory_to_be_defined",I[I.Shared_memory_requires_feature_threads_to_be_enabled=108]="Shared_memory_requires_feature_threads_to_be_enabled",I[I.Transform_0_1=109]="Transform_0_1",I[I.Start_function_name_0_is_invalid_or_conflicts_with_another_export=110]="Start_function_name_0_is_invalid_or_conflicts_with_another_export",I[I.Conversion_from_type_0_to_1_requires_an_explicit_cast=200]="Conversion_from_type_0_to_1_requires_an_explicit_cast",I[I.Conversion_from_type_0_to_1_will_require_an_explicit_cast_when_switching_between_32_64_bit=201]="Conversion_from_type_0_to_1_will_require_an_explicit_cast_when_switching_between_32_64_bit",I[I.Type_0_cannot_be_changed_to_type_1=202]="Type_0_cannot_be_changed_to_type_1",I[I.Operation_0_cannot_be_applied_to_type_1=203]="Operation_0_cannot_be_applied_to_type_1",I[I.Type_0_cannot_be_nullable=204]="Type_0_cannot_be_nullable",I[I.Mutable_value_cannot_be_inlined=206]="Mutable_value_cannot_be_inlined",I[I.Unmanaged_classes_cannot_extend_managed_classes_and_vice_versa=207]="Unmanaged_classes_cannot_extend_managed_classes_and_vice_versa",I[I.Unmanaged_classes_cannot_implement_interfaces=208]="Unmanaged_classes_cannot_implement_interfaces",I[I.Invalid_regular_expression_flags=209]="Invalid_regular_expression_flags",I[I.Expression_is_never_null=210]="Expression_is_never_null",I[I.Class_0_is_final_and_cannot_be_extended=211]="Class_0_is_final_and_cannot_be_extended",I[I.Decorator_0_is_not_valid_here=212]="Decorator_0_is_not_valid_here",I[I.Duplicate_decorator=213]="Duplicate_decorator",I[I.Type_0_is_illegal_in_this_context=214]="Type_0_is_illegal_in_this_context",I[I.Optional_parameter_must_have_an_initializer=215]="Optional_parameter_must_have_an_initializer",I[I.Class_0_cannot_declare_a_constructor_when_instantiated_from_an_object_literal=216]="Class_0_cannot_declare_a_constructor_when_instantiated_from_an_object_literal",I[I.Function_0_cannot_be_inlined_into_itself=217]="Function_0_cannot_be_inlined_into_itself",I[I.Cannot_access_method_0_without_calling_it_as_it_requires_this_to_be_set=218]="Cannot_access_method_0_without_calling_it_as_it_requires_this_to_be_set",I[I.Optional_properties_are_not_supported=219]="Optional_properties_are_not_supported",I[I.Expression_must_be_a_compile_time_constant=220]="Expression_must_be_a_compile_time_constant",I[I.Type_0_is_not_a_function_index_or_function_reference=221]="Type_0_is_not_a_function_index_or_function_reference",I[I._0_must_be_a_value_between_1_and_2_inclusive=222]="_0_must_be_a_value_between_1_and_2_inclusive",I[I._0_must_be_a_power_of_two=223]="_0_must_be_a_power_of_two",I[I._0_is_not_a_valid_operator=224]="_0_is_not_a_valid_operator",I[I.Expression_cannot_be_represented_by_a_type=225]="Expression_cannot_be_represented_by_a_type",I[I.Expression_resolves_to_unusual_type_0=226]="Expression_resolves_to_unusual_type_0",I[I.Array_literal_expected=227]="Array_literal_expected",I[I.Function_0_is_virtual_and_will_not_be_inlined=228]="Function_0_is_virtual_and_will_not_be_inlined",I[I.Property_0_only_has_a_setter_and_is_missing_a_getter=229]="Property_0_only_has_a_setter_and_is_missing_a_getter",I[I._0_keyword_cannot_be_used_here=230]="_0_keyword_cannot_be_used_here",I[I.A_class_with_a_constructor_explicitly_returning_something_else_than_this_must_be_final=231]="A_class_with_a_constructor_explicitly_returning_something_else_than_this_must_be_final",I[I.Property_0_is_always_assigned_before_being_used=233]="Property_0_is_always_assigned_before_being_used",I[I.Expression_does_not_compile_to_a_value_at_runtime=234]="Expression_does_not_compile_to_a_value_at_runtime",I[I.Only_variables_functions_and_enums_become_WebAssembly_module_exports=235]="Only_variables_functions_and_enums_become_WebAssembly_module_exports",I[I.Importing_the_table_disables_some_indirect_call_optimizations=901]="Importing_the_table_disables_some_indirect_call_optimizations",I[I.Exporting_the_table_disables_some_indirect_call_optimizations=902]="Exporting_the_table_disables_some_indirect_call_optimizations",I[I.Expression_compiles_to_a_dynamic_check_at_runtime=903]="Expression_compiles_to_a_dynamic_check_at_runtime",I[I.Indexed_access_may_involve_bounds_checking=904]="Indexed_access_may_involve_bounds_checking",I[I.Explicitly_returning_constructor_drops_this_allocation=905]="Explicitly_returning_constructor_drops_this_allocation",I[I.Unnecessary_definite_assignment=906]="Unnecessary_definite_assignment",I[I.Unterminated_string_literal=1002]="Unterminated_string_literal",I[I.Identifier_expected=1003]="Identifier_expected",I[I._0_expected=1005]="_0_expected",I[I.A_file_cannot_have_a_reference_to_itself=1006]="A_file_cannot_have_a_reference_to_itself",I[I.Trailing_comma_not_allowed=1009]="Trailing_comma_not_allowed",I[I.Unexpected_token=1012]="Unexpected_token",I[I.A_rest_parameter_must_be_last_in_a_parameter_list=1014]="A_rest_parameter_must_be_last_in_a_parameter_list",I[I.Parameter_cannot_have_question_mark_and_initializer=1015]="Parameter_cannot_have_question_mark_and_initializer",I[I.A_required_parameter_cannot_follow_an_optional_parameter=1016]="A_required_parameter_cannot_follow_an_optional_parameter",I[I._0_modifier_cannot_appear_on_class_elements_of_this_kind=1031]="_0_modifier_cannot_appear_on_class_elements_of_this_kind",I[I.Statements_are_not_allowed_in_ambient_contexts=1036]="Statements_are_not_allowed_in_ambient_contexts",I[I.Initializers_are_not_allowed_in_ambient_contexts=1039]="Initializers_are_not_allowed_in_ambient_contexts",I[I._0_modifier_cannot_be_used_here=1042]="_0_modifier_cannot_be_used_here",I[I.A_rest_parameter_cannot_be_optional=1047]="A_rest_parameter_cannot_be_optional",I[I.A_rest_parameter_cannot_have_an_initializer=1048]="A_rest_parameter_cannot_have_an_initializer",I[I.A_set_accessor_must_have_exactly_one_parameter=1049]="A_set_accessor_must_have_exactly_one_parameter",I[I.A_set_accessor_parameter_cannot_have_an_initializer=1052]="A_set_accessor_parameter_cannot_have_an_initializer",I[I.A_get_accessor_cannot_have_parameters=1054]="A_get_accessor_cannot_have_parameters",I[I.Enum_member_must_have_initializer=1061]="Enum_member_must_have_initializer",I[I.Type_parameters_cannot_appear_on_a_constructor_declaration=1092]="Type_parameters_cannot_appear_on_a_constructor_declaration",I[I.Type_annotation_cannot_appear_on_a_constructor_declaration=1093]="Type_annotation_cannot_appear_on_a_constructor_declaration",I[I.An_accessor_cannot_have_type_parameters=1094]="An_accessor_cannot_have_type_parameters",I[I.A_set_accessor_cannot_have_a_return_type_annotation=1095]="A_set_accessor_cannot_have_a_return_type_annotation",I[I.Type_parameter_list_cannot_be_empty=1098]="Type_parameter_list_cannot_be_empty",I[I.Type_argument_list_cannot_be_empty=1099]="Type_argument_list_cannot_be_empty",I[I.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement=1104]="A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement",I[I.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement=1105]="A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement",I[I.A_return_statement_can_only_be_used_within_a_function_body=1108]="A_return_statement_can_only_be_used_within_a_function_body",I[I.Expression_expected=1109]="Expression_expected",I[I.Type_expected=1110]="Type_expected",I[I.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement=1113]="A_default_clause_cannot_appear_more_than_once_in_a_switch_statement",I[I.Duplicate_label_0=1114]="Duplicate_label_0",I[I.An_export_assignment_cannot_have_modifiers=1120]="An_export_assignment_cannot_have_modifiers",I[I.Octal_literals_are_not_allowed_in_strict_mode=1121]="Octal_literals_are_not_allowed_in_strict_mode",I[I.Digit_expected=1124]="Digit_expected",I[I.Hexadecimal_digit_expected=1125]="Hexadecimal_digit_expected",I[I.Unexpected_end_of_text=1126]="Unexpected_end_of_text",I[I.Invalid_character=1127]="Invalid_character",I[I._case_or_default_expected=1130]="_case_or_default_expected",I[I._super_must_be_followed_by_an_argument_list_or_member_access=1034]="_super_must_be_followed_by_an_argument_list_or_member_access",I[I.A_declare_modifier_cannot_be_used_in_an_already_ambient_context=1038]="A_declare_modifier_cannot_be_used_in_an_already_ambient_context",I[I.Type_argument_expected=1140]="Type_argument_expected",I[I.String_literal_expected=1141]="String_literal_expected",I[I.Line_break_not_permitted_here=1142]="Line_break_not_permitted_here",I[I.Declaration_expected=1146]="Declaration_expected",I[I._const_declarations_must_be_initialized=1155]="_const_declarations_must_be_initialized",I[I.Unterminated_regular_expression_literal=1161]="Unterminated_regular_expression_literal",I[I.Interface_declaration_cannot_have_implements_clause=1176]="Interface_declaration_cannot_have_implements_clause",I[I.Binary_digit_expected=1177]="Binary_digit_expected",I[I.Octal_digit_expected=1178]="Octal_digit_expected",I[I.An_implementation_cannot_be_declared_in_ambient_contexts=1183]="An_implementation_cannot_be_declared_in_ambient_contexts",I[I.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer=1190]="The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer",I[I.An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive=1198]="An_extended_Unicode_escape_value_must_be_between_0x0_and_0x10FFFF_inclusive",I[I.Unterminated_Unicode_escape_sequence=1199]="Unterminated_Unicode_escape_sequence",I[I.Decorators_are_not_valid_here=1206]="Decorators_are_not_valid_here",I[I._abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration=1242]="_abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration",I[I.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract=1245]="Method_0_cannot_have_an_implementation_because_it_is_marked_abstract",I[I.A_definite_assignment_assertion_is_not_permitted_in_this_context=1255]="A_definite_assignment_assertion_is_not_permitted_in_this_context",I[I.A_class_may_only_extend_another_class=1311]="A_class_may_only_extend_another_class",I[I.A_parameter_property_cannot_be_declared_using_a_rest_parameter=1317]="A_parameter_property_cannot_be_declared_using_a_rest_parameter",I[I.An_identifier_or_keyword_cannot_immediately_follow_a_numeric_literal=1351]="An_identifier_or_keyword_cannot_immediately_follow_a_numeric_literal",I[I.Duplicate_identifier_0=2300]="Duplicate_identifier_0",I[I.Cannot_find_name_0=2304]="Cannot_find_name_0",I[I.Module_0_has_no_exported_member_1=2305]="Module_0_has_no_exported_member_1",I[I.An_interface_can_only_extend_an_interface=2312]="An_interface_can_only_extend_an_interface",I[I.Generic_type_0_requires_1_type_argument_s=2314]="Generic_type_0_requires_1_type_argument_s",I[I.Type_0_is_not_generic=2315]="Type_0_is_not_generic",I[I.Type_0_is_not_assignable_to_type_1=2322]="Type_0_is_not_assignable_to_type_1",I[I.Property_0_is_private_in_type_1_but_not_in_type_2=2325]="Property_0_is_private_in_type_1_but_not_in_type_2",I[I.Index_signature_is_missing_in_type_0=2329]="Index_signature_is_missing_in_type_0",I[I._this_cannot_be_referenced_in_current_location=2332]="_this_cannot_be_referenced_in_current_location",I[I._this_cannot_be_referenced_in_constructor_arguments=2333]="_this_cannot_be_referenced_in_constructor_arguments",I[I._super_can_only_be_referenced_in_a_derived_class=2335]="_super_can_only_be_referenced_in_a_derived_class",I[I._super_cannot_be_referenced_in_constructor_arguments=2336]="_super_cannot_be_referenced_in_constructor_arguments",I[I.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors=2337]="Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors",I[I.Property_0_does_not_exist_on_type_1=2339]="Property_0_does_not_exist_on_type_1",I[I.Property_0_is_private_and_only_accessible_within_class_1=2341]="Property_0_is_private_and_only_accessible_within_class_1",I[I.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures=2349]="Cannot_invoke_an_expression_whose_type_lacks_a_call_signature_Type_0_has_no_compatible_call_signatures",I[I.This_expression_is_not_constructable=2351]="This_expression_is_not_constructable",I[I.A_function_whose_declared_type_is_not_void_must_return_a_value=2355]="A_function_whose_declared_type_is_not_void_must_return_a_value",I[I.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access=2357]="The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access",I[I.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access=2364]="The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access",I[I.Operator_0_cannot_be_applied_to_types_1_and_2=2365]="Operator_0_cannot_be_applied_to_types_1_and_2",I[I.A_super_call_must_be_the_first_statement_in_the_constructor=2376]="A_super_call_must_be_the_first_statement_in_the_constructor",I[I.Constructors_for_derived_classes_must_contain_a_super_call=2377]="Constructors_for_derived_classes_must_contain_a_super_call",I[I.Getter_and_setter_accessors_do_not_agree_in_visibility=2379]="Getter_and_setter_accessors_do_not_agree_in_visibility",I[I._get_and_set_accessor_must_have_the_same_type=2380]="_get_and_set_accessor_must_have_the_same_type",I[I.Overload_signatures_must_all_be_public_private_or_protected=2385]="Overload_signatures_must_all_be_public_private_or_protected",I[I.Constructor_implementation_is_missing=2390]="Constructor_implementation_is_missing",I[I.Function_implementation_is_missing_or_not_immediately_following_the_declaration=2391]="Function_implementation_is_missing_or_not_immediately_following_the_declaration",I[I.Multiple_constructor_implementations_are_not_allowed=2392]="Multiple_constructor_implementations_are_not_allowed",I[I.Duplicate_function_implementation=2393]="Duplicate_function_implementation",I[I.This_overload_signature_is_not_compatible_with_its_implementation_signature=2394]="This_overload_signature_is_not_compatible_with_its_implementation_signature",I[I.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local=2395]="Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local",I[I.Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2=2416]="Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2",I[I.A_class_can_only_implement_an_interface=2422]="A_class_can_only_implement_an_interface",I[I.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged=2434]="A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged",I[I.Types_have_separate_declarations_of_a_private_property_0=2442]="Types_have_separate_declarations_of_a_private_property_0",I[I.Property_0_is_protected_in_type_1_but_public_in_type_2=2444]="Property_0_is_protected_in_type_1_but_public_in_type_2",I[I.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses=2445]="Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses",I[I.Variable_0_used_before_its_declaration=2448]="Variable_0_used_before_its_declaration",I[I.Cannot_redeclare_block_scoped_variable_0=2451]="Cannot_redeclare_block_scoped_variable_0",I[I.The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly=2453]="The_type_argument_for_type_parameter_0_cannot_be_inferred_from_the_usage_Consider_specifying_the_type_arguments_explicitly",I[I.Type_0_has_no_property_1=2460]="Type_0_has_no_property_1",I[I.The_0_operator_cannot_be_applied_to_type_1=2469]="The_0_operator_cannot_be_applied_to_type_1",I[I.In_const_enum_declarations_member_initializer_must_be_constant_expression=2474]="In_const_enum_declarations_member_initializer_must_be_constant_expression",I[I.Export_declaration_conflicts_with_exported_declaration_of_0=2484]="Export_declaration_conflicts_with_exported_declaration_of_0",I[I._0_is_referenced_directly_or_indirectly_in_its_own_base_expression=2506]="_0_is_referenced_directly_or_indirectly_in_its_own_base_expression",I[I.Cannot_create_an_instance_of_an_abstract_class=2511]="Cannot_create_an_instance_of_an_abstract_class",I[I.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_2=2515]="Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_2",I[I.Object_is_possibly_null=2531]="Object_is_possibly_null",I[I.Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property=2540]="Cannot_assign_to_0_because_it_is_a_constant_or_a_read_only_property",I[I.The_target_of_an_assignment_must_be_a_variable_or_a_property_access=2541]="The_target_of_an_assignment_must_be_a_variable_or_a_property_access",I[I.Index_signature_in_type_0_only_permits_reading=2542]="Index_signature_in_type_0_only_permits_reading",I[I.Expected_0_arguments_but_got_1=2554]="Expected_0_arguments_but_got_1",I[I.Expected_at_least_0_arguments_but_got_1=2555]="Expected_at_least_0_arguments_but_got_1",I[I.Expected_0_type_arguments_but_got_1=2558]="Expected_0_type_arguments_but_got_1",I[I.Property_0_has_no_initializer_and_is_not_assigned_in_the_constructor_before_this_is_used_or_returned=2564]="Property_0_has_no_initializer_and_is_not_assigned_in_the_constructor_before_this_is_used_or_returned",I[I.Property_0_is_used_before_being_assigned=2565]="Property_0_is_used_before_being_assigned",I[I.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums=2651]="A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums",I[I.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration=2673]="Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration",I[I.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration=2674]="Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration",I[I.The_this_types_of_each_signature_are_incompatible=2685]="The_this_types_of_each_signature_are_incompatible",I[I.Namespace_0_has_no_exported_member_1=2694]="Namespace_0_has_no_exported_member_1",I[I.Required_type_parameters_may_not_follow_optional_type_parameters=2706]="Required_type_parameters_may_not_follow_optional_type_parameters",I[I.Duplicate_property_0=2718]="Duplicate_property_0",I[I.Property_0_is_missing_in_type_1_but_required_in_type_2=2741]="Property_0_is_missing_in_type_1_but_required_in_type_2",I[I.Type_0_has_no_call_signatures=2757]="Type_0_has_no_call_signatures",I[I.File_0_not_found=6054]="File_0_not_found",I[I.Numeric_separators_are_not_allowed_here=6188]="Numeric_separators_are_not_allowed_here",I[I.Multiple_consecutive_numeric_separators_are_not_permitted=6189]="Multiple_consecutive_numeric_separators_are_not_permitted",I[I._super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class=17009]="_super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class",I[I._super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class=17011]="_super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class",I))(tt||{});function Ln(r){switch(r){case 100:return"Not implemented: {0}";case 101:return"Operation is unsafe.";case 102:return"User-defined: {0}";case 103:return"Feature '{0}' is not enabled.";case 104:return"Low memory limit exceeded by static data: {0} > {1}";case 105:return"Module requires at least '{0}' pages of initial memory.";case 106:return"Module requires at least '{0}' pages of maximum memory.";case 107:return"Shared memory requires maximum memory to be defined.";case 108:return"Shared memory requires feature 'threads' to be enabled.";case 109:return"Transform '{0}': {1}";case 110:return"Start function name '{0}' is invalid or conflicts with another export.";case 200:return"Conversion from type '{0}' to '{1}' requires an explicit cast.";case 201:return"Conversion from type '{0}' to '{1}' will require an explicit cast when switching between 32/64-bit.";case 202:return"Type '{0}' cannot be changed to type '{1}'.";case 203:return"Operation '{0}' cannot be applied to type '{1}'.";case 204:return"Type '{0}' cannot be nullable.";case 206:return"Mutable value cannot be inlined.";case 207:return"Unmanaged classes cannot extend managed classes and vice-versa.";case 208:return"Unmanaged classes cannot implement interfaces.";case 209:return"Invalid regular expression flags.";case 210:return"Expression is never 'null'.";case 211:return"Class '{0}' is final and cannot be extended.";case 212:return"Decorator '{0}' is not valid here.";case 213:return"Duplicate decorator.";case 214:return"Type '{0}' is illegal in this context.";case 215:return"Optional parameter must have an initializer.";case 216:return"Class '{0}' cannot declare a constructor when instantiated from an object literal.";case 217:return"Function '{0}' cannot be inlined into itself.";case 218:return"Cannot access method '{0}' without calling it as it requires 'this' to be set.";case 219:return"Optional properties are not supported.";case 220:return"Expression must be a compile-time constant.";case 221:return"Type '{0}' is not a function index or function reference.";case 222:return"'{0}' must be a value between '{1}' and '{2}' inclusive.";case 223:return"'{0}' must be a power of two.";case 224:return"'{0}' is not a valid operator.";case 225:return"Expression cannot be represented by a type.";case 226:return"Expression resolves to unusual type '{0}'.";case 227:return"Array literal expected.";case 228:return"Function '{0}' is virtual and will not be inlined.";case 229:return"Property '{0}' only has a setter and is missing a getter.";case 230:return"'{0}' keyword cannot be used here.";case 231:return"A class with a constructor explicitly returning something else than 'this' must be '@final'.";case 233:return"Property '{0}' is always assigned before being used.";case 234:return"Expression does not compile to a value at runtime.";case 235:return"Only variables, functions and enums become WebAssembly module exports.";case 901:return"Importing the table disables some indirect call optimizations.";case 902:return"Exporting the table disables some indirect call optimizations.";case 903:return"Expression compiles to a dynamic check at runtime.";case 904:return"Indexed access may involve bounds checking.";case 905:return"Explicitly returning constructor drops 'this' allocation.";case 906:return"Unnecessary definite assignment.";case 1002:return"Unterminated string literal.";case 1003:return"Identifier expected.";case 1005:return"'{0}' expected.";case 1006:return"A file cannot have a reference to itself.";case 1009:return"Trailing comma not allowed.";case 1012:return"Unexpected token.";case 1014:return"A rest parameter must be last in a parameter list.";case 1015:return"Parameter cannot have question mark and initializer.";case 1016:return"A required parameter cannot follow an optional parameter.";case 1031:return"'{0}' modifier cannot appear on class elements of this kind.";case 1036:return"Statements are not allowed in ambient contexts.";case 1039:return"Initializers are not allowed in ambient contexts.";case 1042:return"'{0}' modifier cannot be used here.";case 1047:return"A rest parameter cannot be optional.";case 1048:return"A rest parameter cannot have an initializer.";case 1049:return"A 'set' accessor must have exactly one parameter.";case 1052:return"A 'set' accessor parameter cannot have an initializer.";case 1054:return"A 'get' accessor cannot have parameters.";case 1061:return"Enum member must have initializer.";case 1092:return"Type parameters cannot appear on a constructor declaration.";case 1093:return"Type annotation cannot appear on a constructor declaration.";case 1094:return"An accessor cannot have type parameters.";case 1095:return"A 'set' accessor cannot have a return type annotation.";case 1098:return"Type parameter list cannot be empty.";case 1099:return"Type argument list cannot be empty.";case 1104:return"A 'continue' statement can only be used within an enclosing iteration statement.";case 1105:return"A 'break' statement can only be used within an enclosing iteration or switch statement.";case 1108:return"A 'return' statement can only be used within a function body.";case 1109:return"Expression expected.";case 1110:return"Type expected.";case 1113:return"A 'default' clause cannot appear more than once in a 'switch' statement.";case 1114:return"Duplicate label '{0}'.";case 1120:return"An export assignment cannot have modifiers.";case 1121:return"Octal literals are not allowed in strict mode.";case 1124:return"Digit expected.";case 1125:return"Hexadecimal digit expected.";case 1126:return"Unexpected end of text.";case 1127:return"Invalid character.";case 1130:return"'case' or 'default' expected.";case 1034:return"'super' must be followed by an argument list or member access.";case 1038:return"A 'declare' modifier cannot be used in an already ambient context.";case 1140:return"Type argument expected.";case 1141:return"String literal expected.";case 1142:return"Line break not permitted here.";case 1146:return"Declaration expected.";case 1155:return"'const' declarations must be initialized.";case 1161:return"Unterminated regular expression literal.";case 1176:return"Interface declaration cannot have 'implements' clause.";case 1177:return"Binary digit expected.";case 1178:return"Octal digit expected.";case 1183:return"An implementation cannot be declared in ambient contexts.";case 1190:return"The variable declaration of a 'for...of' statement cannot have an initializer.";case 1198:return"An extended Unicode escape value must be between 0x0 and 0x10FFFF inclusive.";case 1199:return"Unterminated Unicode escape sequence.";case 1206:return"Decorators are not valid here.";case 1242:return"'abstract' modifier can only appear on a class, method, or property declaration.";case 1245:return"Method '{0}' cannot have an implementation because it is marked abstract.";case 1255:return"A definite assignment assertion '!' is not permitted in this context.";case 1311:return"A class may only extend another class.";case 1317:return"A parameter property cannot be declared using a rest parameter.";case 1351:return"An identifier or keyword cannot immediately follow a numeric literal.";case 2300:return"Duplicate identifier '{0}'.";case 2304:return"Cannot find name '{0}'.";case 2305:return"Module '{0}' has no exported member '{1}'.";case 2312:return"An interface can only extend an interface.";case 2314:return"Generic type '{0}' requires {1} type argument(s).";case 2315:return"Type '{0}' is not generic.";case 2322:return"Type '{0}' is not assignable to type '{1}'.";case 2325:return"Property '{0}' is private in type '{1}' but not in type '{2}'.";case 2329:return"Index signature is missing in type '{0}'.";case 2332:return"'this' cannot be referenced in current location.";case 2333:return"'this' cannot be referenced in constructor arguments.";case 2335:return"'super' can only be referenced in a derived class.";case 2336:return"'super' cannot be referenced in constructor arguments.";case 2337:return"Super calls are not permitted outside constructors or in nested functions inside constructors.";case 2339:return"Property '{0}' does not exist on type '{1}'.";case 2341:return"Property '{0}' is private and only accessible within class '{1}'.";case 2349:return"Cannot invoke an expression whose type lacks a call signature. Type '{0}' has no compatible call signatures.";case 2351:return"This expression is not constructable.";case 2355:return"A function whose declared type is not 'void' must return a value.";case 2357:return"The operand of an increment or decrement operator must be a variable or a property access.";case 2364:return"The left-hand side of an assignment expression must be a variable or a property access.";case 2365:return"Operator '{0}' cannot be applied to types '{1}' and '{2}'.";case 2376:return"A 'super' call must be the first statement in the constructor.";case 2377:return"Constructors for derived classes must contain a 'super' call.";case 2379:return"Getter and setter accessors do not agree in visibility.";case 2380:return"'get' and 'set' accessor must have the same type.";case 2385:return"Overload signatures must all be public, private or protected.";case 2390:return"Constructor implementation is missing.";case 2391:return"Function implementation is missing or not immediately following the declaration.";case 2392:return"Multiple constructor implementations are not allowed.";case 2393:return"Duplicate function implementation.";case 2394:return"This overload signature is not compatible with its implementation signature.";case 2395:return"Individual declarations in merged declaration '{0}' must be all exported or all local.";case 2416:return"Property '{0}' in type '{1}' is not assignable to the same property in base type '{2}'.";case 2422:return"A class can only implement an interface.";case 2434:return"A namespace declaration cannot be located prior to a class or function with which it is merged.";case 2442:return"Types have separate declarations of a private property '{0}'.";case 2444:return"Property '{0}' is protected in type '{1}' but public in type '{2}'.";case 2445:return"Property '{0}' is protected and only accessible within class '{1}' and its subclasses.";case 2448:return"Variable '{0}' used before its declaration.";case 2451:return"Cannot redeclare block-scoped variable '{0}'";case 2453:return"The type argument for type parameter '{0}' cannot be inferred from the usage. Consider specifying the type arguments explicitly.";case 2460:return"Type '{0}' has no property '{1}'.";case 2469:return"The '{0}' operator cannot be applied to type '{1}'.";case 2474:return"In 'const' enum declarations member initializer must be constant expression.";case 2484:return"Export declaration conflicts with exported declaration of '{0}'.";case 2506:return"'{0}' is referenced directly or indirectly in its own base expression.";case 2511:return"Cannot create an instance of an abstract class.";case 2515:return"Non-abstract class '{0}' does not implement inherited abstract member '{1}' from '{2}'.";case 2531:return"Object is possibly 'null'.";case 2540:return"Cannot assign to '{0}' because it is a constant or a read-only property.";case 2541:return"The target of an assignment must be a variable or a property access.";case 2542:return"Index signature in type '{0}' only permits reading.";case 2554:return"Expected {0} arguments, but got {1}.";case 2555:return"Expected at least {0} arguments, but got {1}.";case 2558:return"Expected {0} type arguments, but got {1}.";case 2564:return"Property '{0}' has no initializer and is not assigned in the constructor before 'this' is used or returned.";case 2565:return"Property '{0}' is used before being assigned.";case 2651:return"A member initializer in a enum declaration cannot reference members declared after it, including members defined in other enums.";case 2673:return"Constructor of class '{0}' is private and only accessible within the class declaration.";case 2674:return"Constructor of class '{0}' is protected and only accessible within the class declaration.";case 2685:return"The 'this' types of each signature are incompatible.";case 2694:return"Namespace '{0}' has no exported member '{1}'.";case 2706:return"Required type parameters may not follow optional type parameters.";case 2718:return"Duplicate property '{0}'.";case 2741:return"Property '{0}' is missing in type '{1}' but required in type '{2}'.";case 2757:return"Type '{0}' has no call signatures.";case 6054:return"File '{0}' not found.";case 6188:return"Numeric separators are not allowed here.";case 6189:return"Multiple consecutive numeric separators are not permitted.";case 17009:return"'super' must be called before accessing 'this' in the constructor of a derived class.";case 17011:return"'super' must be called before accessing a property of 'super' in the constructor of a derived class.";default:return""}}var la={};Xs(la,{COLOR_BLUE:()=>Yd,COLOR_CYAN:()=>sa,COLOR_GRAY:()=>zd,COLOR_GREEN:()=>Wd,COLOR_MAGENTA:()=>na,COLOR_RED:()=>Mn,COLOR_RESET:()=>xi,COLOR_WHITE:()=>Hd,COLOR_YELLOW:()=>ia,CharCode:()=>rt,SURROGATE_HIGH:()=>yi,SURROGATE_LOW:()=>Cr,colorize:()=>Kd,combineSurrogates:()=>Js,dirname:()=>Hu,escapeString:()=>de,indent:()=>V,isAlpha:()=>$s,isAlphaOrDecimal:()=>Wu,isColorsEnabled:()=>Mr,isDecimal:()=>kt,isHex:()=>wd,isHighSurrogate:()=>Fr,isIdentifier:()=>ke,isIdentifierPart:()=>Pr,isIdentifierStart:()=>gi,isLineBreak:()=>mt,isLowSurrogate:()=>kr,isOctal:()=>ea,isPowerOf2:()=>ht,isSurrogate:()=>kd,isSurrogateHigh:()=>Pd,isSurrogateLow:()=>Od,isWhiteSpace:()=>js,normalizePath:()=>rr,readF32:()=>Cd,readF64:()=>Fd,readI16:()=>Ld,readI32:()=>Nr,readI64:()=>zu,readI8:()=>Nd,resolvePath:()=>wn,setColorsEnabled:()=>Un,uniqueMap:()=>re,v128_zero:()=>oa,writeF32:()=>$t,writeF64:()=>er,writeI16:()=>Ft,writeI32:()=>ce,writeI32AsI64:()=>Cn,writeI64:()=>Lr,writeI64AsI32:()=>Zs,writeI8:()=>pe});function Nd(r,e){return r[e]}function pe(r,e,t){e[t]=r}function Ld(r,e){return i32(r[e])|i32(r[e+1])<<8}function Ft(r,e,t){e[t]=r,e[t+1]=r>>>8}function Nr(r,e){return i32(r[e])|i32(r[e+1])<<8|i32(r[e+2])<<16|i32(r[e+3])<<24}function ce(r,e,t){e[t]=r,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24}function Cn(r,e,t,i=!1){ce(r,e,t),ce(i||r>=0?0:-1,e,t+4)}function zu(r,e){var t=Nr(r,e),i=Nr(r,e+4);return i64_new(t,i)}function Lr(r,e,t){ce(i64_low(r),e,t),ce(i64_high(r),e,t+4)}function Zs(r,e,t,i=!1){assert(i?i64_is_u32(r):i64_is_i32(r)),ce(i64_low(r),e,t)}function Cd(r,e){return i32_as_f32(Nr(r,e))}function $t(r,e,t){ce(f32_as_i32(r),e,t)}function Fd(r,e){return i64_as_f64(zu(r,e))}function er(r,e,t){var i=f64_as_i64(r);ce(i64_low(i),e,t),ce(i64_high(i),e,t+4)}function re(r=null,e=null){var t=new Map;if(r)for(let i=Map_keys(r),n=0,s=i.length;n<s;++n){let a=unchecked(i[n]),o=assert(r.get(a));t.set(a,o)}if(e)for(let i=Map_keys(e),n=0,s=i.length;n<s;++n){let a=unchecked(i[n]),o=assert(e.get(a));t.set(a,o)}return t}function ht(r){return r!=0&&(r&r-1)==0}var rt=(A=>(A[A.NULL=0]="NULL",A[A.LINEFEED=10]="LINEFEED",A[A.CARRIAGERETURN=13]="CARRIAGERETURN",A[A.LINESEPARATOR=8232]="LINESEPARATOR",A[A.PARAGRAPHSEPARATOR=8233]="PARAGRAPHSEPARATOR",A[A.NEXTLINE=133]="NEXTLINE",A[A.SPACE=32]="SPACE",A[A.NONBREAKINGSPACE=160]="NONBREAKINGSPACE",A[A.ENQUAD=8192]="ENQUAD",A[A.EMQUAD=8193]="EMQUAD",A[A.ENSPACE=8194]="ENSPACE",A[A.EMSPACE=8195]="EMSPACE",A[A.THREEPEREMSPACE=8196]="THREEPEREMSPACE",A[A.FOURPEREMSPACE=8197]="FOURPEREMSPACE",A[A.SIXPEREMSPACE=8198]="SIXPEREMSPACE",A[A.FIGURESPACE=8199]="FIGURESPACE",A[A.PUNCTUATIONSPACE=8200]="PUNCTUATIONSPACE",A[A.THINSPACE=8201]="THINSPACE",A[A.HAIRSPACE=8202]="HAIRSPACE",A[A.ZEROWIDTHSPACE=8203]="ZEROWIDTHSPACE",A[A.NARROWNOBREAKSPACE=8239]="NARROWNOBREAKSPACE",A[A.IDEOGRAPHICSPACE=12288]="IDEOGRAPHICSPACE",A[A.MATHEMATICALSPACE=8287]="MATHEMATICALSPACE",A[A.OGHAM=5760]="OGHAM",A[A._=95]="_",A[A._0=48]="_0",A[A._1=49]="_1",A[A._2=50]="_2",A[A._3=51]="_3",A[A._4=52]="_4",A[A._5=53]="_5",A[A._6=54]="_6",A[A._7=55]="_7",A[A._8=56]="_8",A[A._9=57]="_9",A[A.a=97]="a",A[A.b=98]="b",A[A.c=99]="c",A[A.d=100]="d",A[A.e=101]="e",A[A.f=102]="f",A[A.g=103]="g",A[A.h=104]="h",A[A.i=105]="i",A[A.j=106]="j",A[A.k=107]="k",A[A.l=108]="l",A[A.m=109]="m",A[A.n=110]="n",A[A.o=111]="o",A[A.p=112]="p",A[A.q=113]="q",A[A.r=114]="r",A[A.s=115]="s",A[A.t=116]="t",A[A.u=117]="u",A[A.v=118]="v",A[A.w=119]="w",A[A.x=120]="x",A[A.y=121]="y",A[A.z=122]="z",A[A.A=65]="A",A[A.B=66]="B",A[A.C=67]="C",A[A.D=68]="D",A[A.E=69]="E",A[A.F=70]="F",A[A.G=71]="G",A[A.H=72]="H",A[A.I=73]="I",A[A.J=74]="J",A[A.K=75]="K",A[A.L=76]="L",A[A.M=77]="M",A[A.N=78]="N",A[A.O=79]="O",A[A.P=80]="P",A[A.Q=81]="Q",A[A.R=82]="R",A[A.S=83]="S",A[A.T=84]="T",A[A.U=85]="U",A[A.V=86]="V",A[A.W=87]="W",A[A.X=88]="X",A[A.Y=89]="Y",A[A.Z=90]="Z",A[A.AMPERSAND=38]="AMPERSAND",A[A.ASTERISK=42]="ASTERISK",A[A.AT=64]="AT",A[A.BACKSLASH=92]="BACKSLASH",A[A.BACKTICK=96]="BACKTICK",A[A.BAR=124]="BAR",A[A.CARET=94]="CARET",A[A.CLOSEBRACE=125]="CLOSEBRACE",A[A.CLOSEBRACKET=93]="CLOSEBRACKET",A[A.CLOSEPAREN=41]="CLOSEPAREN",A[A.COLON=58]="COLON",A[A.COMMA=44]="COMMA",A[A.DOLLAR=36]="DOLLAR",A[A.DOT=46]="DOT",A[A.DOUBLEQUOTE=34]="DOUBLEQUOTE",A[A.EQUALS=61]="EQUALS",A[A.EXCLAMATION=33]="EXCLAMATION",A[A.GREATERTHAN=62]="GREATERTHAN",A[A.HASH=35]="HASH",A[A.LESSTHAN=60]="LESSTHAN",A[A.MINUS=45]="MINUS",A[A.OPENBRACE=123]="OPENBRACE",A[A.OPENBRACKET=91]="OPENBRACKET",A[A.OPENPAREN=40]="OPENPAREN",A[A.PERCENT=37]="PERCENT",A[A.PLUS=43]="PLUS",A[A.QUESTION=63]="QUESTION",A[A.SEMICOLON=59]="SEMICOLON",A[A.SINGLEQUOTE=39]="SINGLEQUOTE",A[A.SLASH=47]="SLASH",A[A.TILDE=126]="TILDE",A[A.BACKSPACE=8]="BACKSPACE",A[A.FORMFEED=12]="FORMFEED",A[A.BYTEORDERMARK=65279]="BYTEORDERMARK",A[A.TAB=9]="TAB",A[A.VERTICALTAB=11]="VERTICALTAB",A))(rt||{});function mt(r){switch(r){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function js(r){switch(r){case 32:case 9:case 11:case 12:case 160:case 133:case 5760:case 8239:case 8287:case 12288:case 65279:return!0;default:return r>=8192&&r<=8203}}var yi=55296,Cr=56320;function kd(r){return(r&63488)==yi}function Pd(r){return r<Cr}function Od(r){return r>=Cr}function Fr(r){return(r&64512)==yi}function kr(r){return(r&64512)==Cr}function Js(r,e){return 65536+((r&1023)<<10)|e&1023}function $s(r){let e=r|32;return e>=97&&e<=122}function kt(r){return r>=48&&r<=57}function ea(r){return r>=48&&r<=55}function wd(r){let e=r|32;return kt(r)||e>=97&&e<=102}function Wu(r){return $s(r)||kt(r)}function gi(r){return $s(r)||r==95||r==36||r>=170&&r<=65500&&Yu(r,Md)}function Pr(r){return Wu(r)||r==95||r==36||r>=170&&r<=65500&&Yu(r,Ud)}function ke(r){var e=r.length;if(!e||!gi(r.charCodeAt(0)))return!1;for(let t=1;t<e;++t)if(!Pr(r.charCodeAt(t)))return!1;return!0}var Md=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],Ud=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500];function Yu(r,e){for(var t=0,i=e.length,n,s;t+1<i;){if(n=t+(i-t>>>1),n-=n&1,s=e[n],s<=r&&r<=e[n+1])return!0;r<s?i=n:t=n+2}return!1}var Bd="  ",Dd="    ",Gd="        ";function V(r,e){for(;e>=4;)r.push(Gd),e-=4;e>=2&&(r.push(Dd),e-=2),e&&r.push(Bd)}function de(r,e){var t=new Array,i=0,n=0;for(let s=r.length;n<s;)switch(r.charCodeAt(n)){case 0:{n>i&&t.push(r.substring(i,i=n+1)),t.push("\\0"),i=++n;break}case 8:{n>i&&t.push(r.substring(i,n)),i=++n,t.push("\\b");break}case 9:{n>i&&t.push(r.substring(i,n)),i=++n,t.push("\\t");break}case 10:{n>i&&t.push(r.substring(i,n)),i=++n,t.push("\\n");break}case 11:{n>i&&t.push(r.substring(i,n)),i=++n,t.push("\\v");break}case 12:{n>i&&t.push(r.substring(i,n)),i=++n,t.push("\\f");break}case 13:{n>i&&t.push(r.substring(i,n)),t.push("\\r"),i=++n;break}case 34:{e==34?(n>i&&t.push(r.substring(i,n)),t.push('\\"'),i=++n):++n;break}case 39:{e==39?(n>i&&t.push(r.substring(i,n)),t.push("\\'"),i=++n):++n;break}case 92:{n>i&&t.push(r.substring(i,n)),t.push("\\\\"),i=++n;break}case 96:{e==96?(n>i&&t.push(r.substring(i,n)),t.push("\\`"),i=++n):++n;break}default:{++n;break}}return n>i&&t.push(r.substring(i,n)),t.join("")}var Pt=(E=>(E[E.NONE=0]="NONE",E[E.SIGN_EXTENSION=1]="SIGN_EXTENSION",E[E.MUTABLE_GLOBALS=2]="MUTABLE_GLOBALS",E[E.NONTRAPPING_F2I=4]="NONTRAPPING_F2I",E[E.BULK_MEMORY=8]="BULK_MEMORY",E[E.SIMD=16]="SIMD",E[E.THREADS=32]="THREADS",E[E.EXCEPTION_HANDLING=64]="EXCEPTION_HANDLING",E[E.TAIL_CALLS=128]="TAIL_CALLS",E[E.REFERENCE_TYPES=256]="REFERENCE_TYPES",E[E.MULTI_VALUE=512]="MULTI_VALUE",E[E.GC=1024]="GC",E[E.MEMORY64=2048]="MEMORY64",E))(Pt||{});function Or(r){switch(r){case 1:return"sign-extension";case 2:return"mutable-globals";case 4:return"nontrapping-f2i";case 8:return"bulk-memory";case 16:return"simd";case 32:return"threads";case 64:return"exception-handling";case 128:return"tail-calls";case 256:return"reference-types";case 512:return"multi-value";case 1024:return"gc";case 2048:return"memory64"}return assert(!1),""}var wr=(i=>(i[i.JS=0]="JS",i[i.WASM32=1]="WASM32",i[i.WASM64=2]="WASM64",i))(wr||{});var Fn=(i=>(i[i.Stub=0]="Stub",i[i.Minimal=1]="Minimal",i[i.Incremental=2]="Incremental",i))(Fn||{});var Ti=class{constructor(){this.flags=bi.NONE;this.base=0}};Ti=Gu([unmanaged],Ti);var bi=(z=>(z[z.NONE=0]="NONE",z[z.ARRAYBUFFERVIEW=1]="ARRAYBUFFERVIEW",z[z.ARRAY=2]="ARRAY",z[z.STATICARRAY=4]="STATICARRAY",z[z.SET=8]="SET",z[z.MAP=16]="MAP",z[z.POINTERFREE=32]="POINTERFREE",z[z.VALUE_ALIGN_0=64]="VALUE_ALIGN_0",z[z.VALUE_ALIGN_1=128]="VALUE_ALIGN_1",z[z.VALUE_ALIGN_2=256]="VALUE_ALIGN_2",z[z.VALUE_ALIGN_3=512]="VALUE_ALIGN_3",z[z.VALUE_ALIGN_4=1024]="VALUE_ALIGN_4",z[z.VALUE_SIGNED=2048]="VALUE_SIGNED",z[z.VALUE_FLOAT=4096]="VALUE_FLOAT",z[z.VALUE_NULLABLE=8192]="VALUE_NULLABLE",z[z.VALUE_MANAGED=16384]="VALUE_MANAGED",z[z.KEY_ALIGN_0=32768]="KEY_ALIGN_0",z[z.KEY_ALIGN_1=65536]="KEY_ALIGN_1",z[z.KEY_ALIGN_2=131072]="KEY_ALIGN_2",z[z.KEY_ALIGN_3=262144]="KEY_ALIGN_3",z[z.KEY_ALIGN_4=524288]="KEY_ALIGN_4",z[z.KEY_SIGNED=1048576]="KEY_SIGNED",z[z.KEY_FLOAT=2097152]="KEY_FLOAT",z[z.KEY_NULLABLE=4194304]="KEY_NULLABLE",z[z.KEY_MANAGED=8388608]="KEY_MANAGED",z))(bi||{});var Pe=(U=>(U[U.NONE=0]="NONE",U[U.IMPORT=1]="IMPORT",U[U.EXPORT=2]="EXPORT",U[U.DECLARE=4]="DECLARE",U[U.CONST=8]="CONST",U[U.LET=16]="LET",U[U.STATIC=32]="STATIC",U[U.READONLY=64]="READONLY",U[U.ABSTRACT=128]="ABSTRACT",U[U.PUBLIC=256]="PUBLIC",U[U.PRIVATE=512]="PRIVATE",U[U.PROTECTED=1024]="PROTECTED",U[U.GET=2048]="GET",U[U.SET=4096]="SET",U[U.DEFINITELY_ASSIGNED=8192]="DEFINITELY_ASSIGNED",U[U.AMBIENT=16384]="AMBIENT",U[U.GENERIC=32768]="GENERIC",U[U.GENERIC_CONTEXT=65536]="GENERIC_CONTEXT",U[U.INSTANCE=131072]="INSTANCE",U[U.CONSTRUCTOR=262144]="CONSTRUCTOR",U[U.MODULE_EXPORT=524288]="MODULE_EXPORT",U[U.MODULE_IMPORT=1048576]="MODULE_IMPORT",U[U.RESOLVED=2097152]="RESOLVED",U[U.COMPILED=4194304]="COMPILED",U[U.ERRORED=8388608]="ERRORED",U[U.INLINED=16777216]="INLINED",U[U.SCOPED=33554432]="SCOPED",U[U.STUB=67108864]="STUB",U[U.VIRTUAL=134217728]="VIRTUAL",U[U.CLOSURE=268435456]="CLOSURE",U[U.QUOTED=536870912]="QUOTED",U))(Pe||{}),Qe="/",Vd="..",kn="get:",Pn="set:",Ii="#",vi=".",ta="~",On="~lib",Ze=On+Qe,Ne=Qe+"index",ra="@",w;(B=>(B.EMPTY="",B.i8="i8",B.i16="i16",B.i32="i32",B.i64="i64",B.isize="isize",B.u8="u8",B.u16="u16",B.u32="u32",B.u64="u64",B.usize="usize",B.bool="bool",B.f32="f32",B.f64="f64",B.v128="v128",B.funcref="funcref",B.externref="externref",B.anyref="anyref",B.eqref="eqref",B.i31ref="i31ref",B.dataref="dataref",B.i8x16="i8x16",B.u8x16="u8x16",B.i16x8="i16x8",B.u16x8="u16x8",B.i32x4="i32x4",B.u32x4="u32x4",B.i64x2="i64x2",B.u64x2="u64x2",B.f32x4="f32x4",B.f64x2="f64x2",B.void_="void",B.number="number",B.boolean="boolean",B.string="string",B.native="native",B.indexof="indexof",B.valueof="valueof",B.returnof="returnof",B.nonnull="nonnull",B.null_="null",B.true_="true",B.false_="false",B.this_="this",B.super_="super",B.constructor="constructor",B.ASC_TARGET="ASC_TARGET",B.ASC_RUNTIME="ASC_RUNTIME",B.ASC_NO_ASSERT="ASC_NO_ASSERT",B.ASC_MEMORY_BASE="ASC_MEMORY_BASE",B.ASC_TABLE_BASE="ASC_TABLE_BASE",B.ASC_OPTIMIZE_LEVEL="ASC_OPTIMIZE_LEVEL",B.ASC_SHRINK_LEVEL="ASC_SHRINK_LEVEL",B.ASC_LOW_MEMORY_LIMIT="ASC_LOW_MEMORY_LIMIT",B.ASC_EXPORT_RUNTIME="ASC_EXPORT_RUNTIME",B.ASC_WASI="ASC_WASI",B.ASC_FEATURE_SIGN_EXTENSION="ASC_FEATURE_SIGN_EXTENSION",B.ASC_FEATURE_MUTABLE_GLOBALS="ASC_FEATURE_MUTABLE_GLOBALS",B.ASC_FEATURE_NONTRAPPING_F2I="ASC_FEATURE_NONTRAPPING_F2I",B.ASC_FEATURE_BULK_MEMORY="ASC_FEATURE_BULK_MEMORY",B.ASC_FEATURE_SIMD="ASC_FEATURE_SIMD",B.ASC_FEATURE_THREADS="ASC_FEATURE_THREADS",B.ASC_FEATURE_EXCEPTION_HANDLING="ASC_FEATURE_EXCEPTION_HANDLING",B.ASC_FEATURE_TAIL_CALLS="ASC_FEATURE_TAIL_CALLS",B.ASC_FEATURE_REFERENCE_TYPES="ASC_FEATURE_REFERENCE_TYPES",B.ASC_FEATURE_MULTI_VALUE="ASC_FEATURE_MULTI_VALUE",B.ASC_FEATURE_GC="ASC_FEATURE_GC",B.ASC_FEATURE_MEMORY64="ASC_FEATURE_MEMORY64",B.ASC_VERSION_MAJOR="ASC_VERSION_MAJOR",B.ASC_VERSION_MINOR="ASC_VERSION_MINOR",B.ASC_VERSION_PATCH="ASC_VERSION_PATCH",B.I8="I8",B.I16="I16",B.I32="I32",B.I64="I64",B.Isize="Isize",B.U8="U8",B.U16="U16",B.U32="U32",B.U64="U64",B.Usize="Usize",B.Bool="Bool",B.F32="F32",B.F64="F64",B.V128="V128",B.Funcref="Funcref",B.Externref="Externref",B.Anyref="Anyref",B.Eqref="Eqref",B.I31ref="I31ref",B.Dataref="Dataref",B.String="String",B.Object="Object",B.Array="Array",B.StaticArray="StaticArray",B.Set="Set",B.Map="Map",B.Function="Function",B.ArrayBufferView="ArrayBufferView",B.ArrayBuffer="ArrayBuffer",B.Math="Math",B.Mathf="Mathf",B.NativeMath="NativeMath",B.NativeMathf="NativeMathf",B.Int8Array="Int8Array",B.Int16Array="Int16Array",B.Int32Array="Int32Array",B.Int64Array="Int64Array",B.Uint8Array="Uint8Array",B.Uint8ClampedArray="Uint8ClampedArray",B.Uint16Array="Uint16Array",B.Uint32Array="Uint32Array",B.Uint64Array="Uint64Array",B.Float32Array="Float32Array",B.Float64Array="Float64Array",B.TemplateStringsArray="TemplateStringsArray",B.Error="Error",B.abort="abort",B.trace="trace",B.seed="seed",B.pow="pow",B.ipow32="ipow32",B.ipow64="ipow64",B.mod="mod",B.alloc="__alloc",B.realloc="__realloc",B.free="__free",B.new_="__new",B.renew="__renew",B.link="__link",B.collect="__collect",B.typeinfo="__typeinfo",B.instanceof_="__instanceof",B.visit="__visit",B.newBuffer="__newBuffer",B.newArray="__newArray",B.BLOCK="~lib/rt/common/BLOCK",B.OBJECT="~lib/rt/common/OBJECT"))(w||={});var tr=47;function rr(r){for(var e=0,t=r.length;e+1<t&&r.charCodeAt(e)==46&&r.charCodeAt(e+1)==tr;)e+=2;(e>0||t<r.length)&&(r=r.substring(e,t),t-=e,e=0);for(var i;e+1<t;){if(i=!1,r.charCodeAt(e)==tr&&r.charCodeAt(e+1)==46){if(i=e+2==t,i||e+2<t&&r.charCodeAt(e+2)==tr){r=i?r.substring(0,e):r.substring(0,e)+r.substring(e+2),t-=2;continue}if(i=e+3==t,i&&r.charCodeAt(e+2)==46||e+3<t&&r.charCodeAt(e+2)==46&&r.charCodeAt(e+3)==tr){let n=e;for(;--n>=0;)if(r.charCodeAt(n)==tr){(e-n!=3||r.charCodeAt(n+1)!=46||r.charCodeAt(n+2)!=46)&&(r=i?r.substring(0,n):r.substring(0,n)+r.substring(e+3),t-=e+3-n,e=n-1);break}if(n<0&&e>0&&(e!=2||r.charCodeAt(0)!=46||r.charCodeAt(1)!=46)){r=r.substring(e+4),t=r.length;continue}}}e++}return t>0?r:"."}function wn(r,e){return r.startsWith("std/")?r:rr(Hu(e)+Qe+r)}function Hu(r){var e=r.length;if(e<=1){if(e==0)return".";if(r.charCodeAt(0)==tr)return r}for(;--e>0;)if(r.charCodeAt(e)==tr)return r.substring(0,e);return"."}var zd="\x1B[90m",Mn="\x1B[91m",Wd="\x1B[92m",ia="\x1B[93m",Yd="\x1B[94m",na="\x1B[95m",sa="\x1B[96m",Hd="\x1B[97m",xi="\x1B[0m",aa=!0;function Mr(){return aa}function Un(r){var e=r;return aa=r,e}function Kd(r,e){return aa?e+r+xi:r}var oa=new Uint8Array(16);var Dn=(n=>(n[n.PEDANTIC=0]="PEDANTIC",n[n.INFO=1]="INFO",n[n.WARNING=2]="WARNING",n[n.ERROR=3]="ERROR",n))(Dn||{});function Bn(r){switch(r){case 0:return"PEDANTIC";case 1:return"INFO";case 2:return"WARNING";case 3:return"ERROR";default:return assert(!1),""}}function Xu(r){switch(r){case 0:return na;case 1:return sa;case 2:return ia;case 3:return Mn;default:return assert(!1),""}}var Si=class{constructor(e,t,i){this.range=null;this.relatedRange=null;this.code=e,this.category=t,this.message=i}static create(e,t,i=null,n=null,s=null){var a=Ln(e);return i!=null&&(a=a.replace("{0}",i)),n!=null&&(a=a.replace("{1}",n)),s!=null&&(a=a.replace("{2}",s)),new Si(e,t,a)}equals(e){if(this.code!=e.code)return!1;var t=this.range,i=e.range;if(t){if(!i||!t.equals(i))return!1}else if(i)return!1;var n=this.relatedRange,s=e.relatedRange;if(n){if(!s||!n.equals(s))return!1}else if(s)return!1;return this.message==e.message}withRange(e){return this.range=e,this}withRelatedRange(e){return this.relatedRange=e,this}toString(){var e=this.range;if(e){let t=e.source;return Bn(this.category)+" "+this.code.toString()+': "'+this.message+'" in '+t.normalizedPath+"("+t.lineAt(e.start).toString()+","+t.columnAt().toString()+"+"+(e.end-e.start).toString()+")"}return Bn(this.category)+" "+this.code.toString()+": "+this.message}};function qu(r,e=!1,t=!1){var i=Un(e),n=[];Mr()&&n.push(Xu(r.category)),n.push(Bn(r.category)),Mr()&&n.push(xi),n.push(r.code<1e3?" AS":" TS"),n.push(r.code.toString()),n.push(": "),n.push(r.message);var s=r.range;if(s){let a=s.source;t&&(n.push(`
`),n.push(Ku(s))),n.push(`
`),n.push(" in "),n.push(a.normalizedPath),n.push("("),n.push(a.lineAt(s.start).toString()),n.push(","),n.push(a.columnAt().toString()),n.push(")");let o=r.relatedRange;if(o){let l=o.source;t&&(n.push(`
`),n.push(Ku(o))),n.push(`
`),n.push(" in "),n.push(l.normalizedPath),n.push("("),n.push(l.lineAt(o.start).toString()),n.push(","),n.push(l.columnAt().toString()),n.push(")")}}return Un(i),n.join("")}function Ku(r){for(var e=r.source.text,t=e.length,i=r.start,n=r.end;i>0&&!mt(e.charCodeAt(i-1));)i--;for(;n<t&&!mt(e.charCodeAt(n));)n++;for(var s=[`
 `,e.substring(i,n),`
 `];i<r.start;)s.push(" "),i++;if(Mr()&&s.push(Mn),r.start==r.end)s.push("^");else for(;i++<r.end;){if(mt(e.charCodeAt(i))){s.push(i==r.start+1?"^":"~");break}s.push("~")}return Mr()&&s.push(xi),s.join("")}var Ve=class{constructor(e=null){this.seen=new Map;e||(e=[]),this.diagnostics=e}emitDiagnostic(e,t,i,n,s=null,a=null,o=null){var l=Si.create(e,t,s,a,o);if(i&&(l=l.withRange(i)),n&&(l.relatedRange=n),i){let p=this.seen;if(p.has(i.source)){let c=assert(p.get(i.source));if(c.has(i.start)){let _=assert(c.get(i.start));for(let f=0,E=_.length;f<E;++f)if(_[f].equals(l))return;_.push(l)}else c.set(i.start,[l])}else{let c=new Map;c.set(i.start,[l]),p.set(i.source,c)}}this.diagnostics.push(l)}pedantic(e,t,i=null,n=null,s=null){this.emitDiagnostic(e,0,t,null,i,n,s)}pedanticRelated(e,t,i,n=null,s=null,a=null){this.emitDiagnostic(e,0,t,i,n,s,a)}info(e,t,i=null,n=null,s=null){this.emitDiagnostic(e,1,t,null,i,n,s)}infoRelated(e,t,i,n=null,s=null,a=null){this.emitDiagnostic(e,1,t,i,n,s,a)}warning(e,t,i=null,n=null,s=null){this.emitDiagnostic(e,2,t,null,i,n,s)}warningRelated(e,t,i,n=null,s=null,a=null){this.emitDiagnostic(e,2,t,i,n,s,a)}error(e,t,i=null,n=null,s=null){this.emitDiagnostic(e,3,t,null,i,n,s)}errorRelated(e,t,i,n=null,s=null,a=null){this.emitDiagnostic(e,3,t,i,n,s,a)}};var ir=(C=>(C[C.I8=0]="I8",C[C.I16=1]="I16",C[C.I32=2]="I32",C[C.I64=3]="I64",C[C.ISIZE=4]="ISIZE",C[C.U8=5]="U8",C[C.U16=6]="U16",C[C.U32=7]="U32",C[C.U64=8]="U64",C[C.USIZE=9]="USIZE",C[C.BOOL=10]="BOOL",C[C.F32=11]="F32",C[C.F64=12]="F64",C[C.V128=13]="V128",C[C.FUNCREF=14]="FUNCREF",C[C.EXTERNREF=15]="EXTERNREF",C[C.ANYREF=16]="ANYREF",C[C.EQREF=17]="EQREF",C[C.I31REF=18]="I31REF",C[C.DATAREF=19]="DATAREF",C[C.VOID=20]="VOID",C))(ir||{}),Ot=(b=>(b[b.NONE=0]="NONE",b[b.SIGNED=1]="SIGNED",b[b.UNSIGNED=2]="UNSIGNED",b[b.INTEGER=4]="INTEGER",b[b.FLOAT=8]="FLOAT",b[b.VARYING=16]="VARYING",b[b.SHORT=32]="SHORT",b[b.LONG=64]="LONG",b[b.VALUE=128]="VALUE",b[b.REFERENCE=256]="REFERENCE",b[b.NULLABLE=512]="NULLABLE",b[b.VECTOR=1024]="VECTOR",b[b.EXTERNAL=2048]="EXTERNAL",b[b.CLASS=4096]="CLASS",b[b.FUNCTION=8192]="FUNCTION",b))(Ot||{}),$=class{constructor(e,t,i){this._nonNullableType=null;this._nullableType=null;this.kind=e,this.flags=t,this.size=i,this.byteSize=ceil(i/8),this.classReference=null,this.signatureReference=null,t&512?this._nullableType=this:this._nonNullableType=this}get intType(){if(this==$.auto)return this;switch(this.kind){case 0:return $.i8;case 1:return $.i16;case 11:case 2:return $.i32;case 12:case 3:return $.i64;case 4:return this.size==64?$.isize64:$.isize32;case 5:return $.u8;case 6:return $.u16;case 7:return $.u32;case 8:return $.u64;case 9:return this.size==64?$.usize64:$.usize32;case 10:default:return $.i32}}get exceptVoid(){return this.kind==20?$.auto:this}get alignLog2(){return 31-clz(this.byteSize)}get isValue(){return this.is(128)}get isIntegerValue(){return this.is(132)}get isShortIntegerValue(){return this.is(164)}get isLongIntegerValue(){return this.is(196)}get isSignedIntegerValue(){return this.is(133)}get isUnsignedIntegerValue(){return this.is(134)}get isVaryingIntegerValue(){return this.is(148)}get isIntegerInclReference(){return this.is(4)}get isFloatValue(){return this.is(136)}get isNumericValue(){return this.isIntegerValue||this.isFloatValue}get isBooleanValue(){return this==$.bool}get isVectorValue(){return this.is(1152)}get isReference(){return this.is(256)}get isNullableReference(){return this.is(768)}get isInternalReference(){return this.is(260)}get isExternalReference(){return this.is(2304)}get isClass(){return this.isInternalReference?this.classReference!=null:!1}getClass(){return this.isInternalReference?this.classReference:null}getClassOrWrapper(e){let t=this.getClass();if(t)return t;{let i=this.getSignature();if(i){let n=i.type,s=assert(e.resolver.resolveClass(e.functionPrototype,[n]));return s.wrappedType=n,s}else{let n=e.wrapperClasses;if(n.has(this))return assert(n.get(this))}}return null}get isFunction(){return this.isInternalReference?this.signatureReference!=null:!1}getSignature(){return this.isInternalReference?this.signatureReference:null}get isManaged(){if(this.isInternalReference){let e=this.classReference;return e?!e.hasDecorator(16):this.signatureReference!=null}return!1}get isUnmanaged(){var e=this.classReference;return e!=null&&e.hasDecorator(16)}get nonNullableType(){return this.isExternalReference?this:assert(this._nonNullableType)}get nullableType(){return this._nullableType}computeSmallIntegerShift(e){return e.size-this.size}computeSmallIntegerMask(e){var t=this.is(2)?this.size:this.size-1;return-1>>>e.size-t}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}asNullable(){assert(this.isInternalReference);var e=this._nullableType;return e||(assert(!this.isNullableReference),this._nullableType=e=new $(this.kind,this.flags|512,this.size),e.classReference=this.classReference,e.signatureReference=this.signatureReference,e._nonNullableType=this),e}equals(e){return this.kind!=e.kind?!1:this.isReference?this.classReference==e.classReference&&this.signatureReference==e.signatureReference&&this.isNullableReference==e.isNullableReference:!0}isAssignableTo(e,t=!1){var i,n,s,a;if(this.isReference){if(e.isReference&&(!this.isNullableReference||e.isNullableReference)){if(i=this.getClass()){if(n=e.getClass())return i.isAssignableTo(n)}else if(s=this.getSignature()){if(a=e.getSignature())return s.isAssignableTo(a)}else if(this.isExternalReference&&(this.kind==e.kind||e.kind==16&&this.kind!=15))return!0}}else if(!e.isReference){if(this.isIntegerValue)if(e.isIntegerValue){if(!t||this.isBooleanValue||this.isSignedIntegerValue==e.isSignedIntegerValue)return this.size<=e.size}else{if(e.kind==11)return this.size<=23;if(e.kind==12)return this.size<=52}else if(this.isFloatValue){if(e.isFloatValue)return this.size<=e.size}else if(this.isVectorValue&&e.isVectorValue)return this.size==e.size}return!1}isStrictlyAssignableTo(e,t=!1){return this.isReference?this.isAssignableTo(e):e.isReference?!1:this.isIntegerValue?e.isIntegerValue&&e.size==this.size&&(!t||this.isSignedIntegerValue==e.isSignedIntegerValue):this.kind==e.kind}isChangeableTo(e){if(this.is(4)&&e.is(4)){let t=this.size;return t==e.size&&(t>=32||this.is(1)==e.is(1))}return this.kind==e.kind}static commonDenominator(e,t,i){return t.isAssignableTo(e,i)?e:e.isAssignableTo(t,i)?t:null}toString(e=!1){let t=e?"|null":" | null";if(this.isReference){let i=this.getClass();if(i)return this.isNullableReference?i.internalName+t:i.internalName;{let n=this.getSignature();if(n)return this.isNullableReference?"("+n.toString(e)+")"+t:n.toString(e)}}switch(this.kind){case 0:return"i8";case 1:return"i16";case 2:return"i32";case 3:return"i64";case 4:return"isize";case 5:return"u8";case 6:return"u16";case 7:return"u32";case 8:return"u64";case 9:return"usize";case 10:return"bool";case 11:return"f32";case 12:return"f64";case 13:return"v128";case 14:return"funcref";case 15:return"externref";case 16:return"anyref";case 17:return"eqref";case 18:return"i31ref";case 19:return"dataref";default:assert(!1);case 20:return"void"}}toRef(){switch(this.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:case 10:return F.I32;case 4:case 9:if(this.size!=64)return F.I32;case 3:case 8:return F.I64;case 11:return F.F32;case 12:return F.F64;case 13:return F.V128;case 14:return F.Funcref;case 15:return F.Externref;case 16:return F.Anyref;case 17:return F.Eqref;case 18:return F.I31ref;case 19:return F.Dataref;case 20:return F.None}}},u=$;u.i8=new $(0,165,8),u.i16=new $(1,165,16),u.i32=new $(2,133,32),u.i64=new $(3,197,64),u.isize32=new $(4,149,32),u.isize64=new $(4,213,64),u.u8=new $(5,166,8),u.u16=new $(6,166,16),u.u32=new $(7,134,32),u.u64=new $(8,198,64),u.usize32=new $(9,150,32),u.usize64=new $(9,214,64),u.bool=new $(10,166,1),u.f32=new $(11,137,32),u.f64=new $(12,201,64),u.v128=new $(13,1152,128),u.funcref=new $(14,2816,0),u.externref=new $(15,2816,0),u.anyref=new $(16,2816,0),u.eqref=new $(17,2816,0),u.i31ref=new $(18,2304,0),u.dataref=new $(19,2816,0),u.void=new $(20,0,0),u.auto=new $($.i32.kind,$.i32.flags,$.i32.size);function Ur(r){var e=r.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=r[i].toRef();return t}function Gn(r){var e=r.length;if(!e)return"";var t=new Array(e);for(let i=0;i<e;++i)t[i]=r[i].toString(!0);return t.join(",")}var ve=class{constructor(e,t=null,i=null,n=null){this.id=0;this.parameterTypes=t||[],this.requiredParameters=0,this.returnType=i||u.void,this.thisType=n,this.program=e,this.hasRest=!1;var s=e.options.usizeType,a=new u(s.kind,s.flags&-129|256,s.size);this.type=a,a.signatureReference=this;var o=e.uniqueSignatures,l=o.length;for(let p=0;p<l;p++){let c=o[p];if(this.equals(c))return this.id=c.id,this}this.id=e.nextSignatureId++,e.uniqueSignatures.push(this)}get paramRefs(){var e=this.thisType,t=this.parameterTypes,i=t.length;if(!i)return e?e.toRef():F.None;if(e){let n=new Array(1+i);n[0]=e.toRef();for(let s=0;s<i;++s)n[s+1]=t[s].toRef();return Oe(n)}return Oe(Ur(t))}get resultRefs(){return this.returnType.toRef()}equals(e){var t=this.thisType,i=e.thisType;if(t){if(!i||!t.equals(i))return!1}else if(i)return!1;if(this.hasRest!=e.hasRest)return!1;var n=this.parameterTypes,s=e.parameterTypes,a=n.length;if(a!=s.length)return!1;for(let o=0;o<a;++o)if(!n[o].equals(s[o]))return!1;return this.returnType.equals(e.returnType)}isAssignableTo(e,t=!1){var i=this.thisType,n=e.thisType;if(i){if(!n||!i.isAssignableTo(n))return!1}else if(n)return!1;if(this.hasRest!=e.hasRest)return!1;var s=this.parameterTypes,a=e.parameterTypes,o=s.length;if(o!=a.length)return!1;for(let c=0;c<o;++c){let _=s[c],f=a[c];if(!_.isAssignableTo(f))return!1}var l=this.returnType,p=e.returnType;return l==p||l.isAssignableTo(p)}get hasManagedOperands(){var e=this.thisType;if(e&&e.isManaged)return!0;var t=this.parameterTypes;for(let i=0,n=t.length;i<n;++i)if(t[i].isManaged)return!0;return!1}getManagedOperandIndices(){var e=new Array,t=0,i=this.thisType;i&&(i.isManaged&&e.push(t),++t);var n=this.parameterTypes;for(let s=0,a=n.length;s<a;++s)n[s].isManaged&&e.push(t),++t;return e}toString(e=!1){var t=new Array;t.push(e?"%28":"(");var i=0,n=this.thisType;n&&(t.push(e?"this:":"this: "),assert(!n.signatureReference),t.push(n.toString(e)),i=1);var s=this.parameterTypes,a=s.length;if(a){let o=this.requiredParameters,l=this.hasRest?a-1:-1;for(let p=0;p<a;++p,++i)i&&t.push(e?"%2C":", "),p==l&&t.push("..."),t.push(s[p].toString(e)),p>=o&&p!=l&&t.push("?")}return t.push(e?"%29=>":") => "),t.push(this.returnType.toString(e)),t.join("")}clone(){var e=this.parameterTypes,t=e.length,i=new Array(t);for(let n=0;n<t;++n)i[n]=e[n];return new ve(this.program,i,this.returnType,this.thisType)}};var dt=(G=>(G[G.SOURCE=0]="SOURCE",G[G.NAMEDTYPE=1]="NAMEDTYPE",G[G.FUNCTIONTYPE=2]="FUNCTIONTYPE",G[G.TYPENAME=3]="TYPENAME",G[G.TYPEPARAMETER=4]="TYPEPARAMETER",G[G.PARAMETER=5]="PARAMETER",G[G.IDENTIFIER=6]="IDENTIFIER",G[G.ASSERTION=7]="ASSERTION",G[G.BINARY=8]="BINARY",G[G.CALL=9]="CALL",G[G.CLASS=10]="CLASS",G[G.COMMA=11]="COMMA",G[G.ELEMENTACCESS=12]="ELEMENTACCESS",G[G.FALSE=13]="FALSE",G[G.FUNCTION=14]="FUNCTION",G[G.INSTANCEOF=15]="INSTANCEOF",G[G.LITERAL=16]="LITERAL",G[G.NEW=17]="NEW",G[G.NULL=18]="NULL",G[G.OMITTED=19]="OMITTED",G[G.PARENTHESIZED=20]="PARENTHESIZED",G[G.PROPERTYACCESS=21]="PROPERTYACCESS",G[G.TERNARY=22]="TERNARY",G[G.SUPER=23]="SUPER",G[G.THIS=24]="THIS",G[G.TRUE=25]="TRUE",G[G.CONSTRUCTOR=26]="CONSTRUCTOR",G[G.UNARYPOSTFIX=27]="UNARYPOSTFIX",G[G.UNARYPREFIX=28]="UNARYPREFIX",G[G.COMPILED=29]="COMPILED",G[G.BLOCK=30]="BLOCK",G[G.BREAK=31]="BREAK",G[G.CONTINUE=32]="CONTINUE",G[G.DO=33]="DO",G[G.EMPTY=34]="EMPTY",G[G.EXPORT=35]="EXPORT",G[G.EXPORTDEFAULT=36]="EXPORTDEFAULT",G[G.EXPORTIMPORT=37]="EXPORTIMPORT",G[G.EXPRESSION=38]="EXPRESSION",G[G.FOR=39]="FOR",G[G.FOROF=40]="FOROF",G[G.IF=41]="IF",G[G.IMPORT=42]="IMPORT",G[G.RETURN=43]="RETURN",G[G.SWITCH=44]="SWITCH",G[G.THROW=45]="THROW",G[G.TRY=46]="TRY",G[G.VARIABLE=47]="VARIABLE",G[G.VOID=48]="VOID",G[G.WHILE=49]="WHILE",G[G.MODULE=50]="MODULE",G[G.CLASSDECLARATION=51]="CLASSDECLARATION",G[G.ENUMDECLARATION=52]="ENUMDECLARATION",G[G.ENUMVALUEDECLARATION=53]="ENUMVALUEDECLARATION",G[G.FIELDDECLARATION=54]="FIELDDECLARATION",G[G.FUNCTIONDECLARATION=55]="FUNCTIONDECLARATION",G[G.IMPORTDECLARATION=56]="IMPORTDECLARATION",G[G.INTERFACEDECLARATION=57]="INTERFACEDECLARATION",G[G.METHODDECLARATION=58]="METHODDECLARATION",G[G.NAMESPACEDECLARATION=59]="NAMESPACEDECLARATION",G[G.TYPEDECLARATION=60]="TYPEDECLARATION",G[G.VARIABLEDECLARATION=61]="VARIABLEDECLARATION",G[G.DECORATOR=62]="DECORATOR",G[G.EXPORTMEMBER=63]="EXPORTMEMBER",G[G.SWITCHCASE=64]="SWITCHCASE",G[G.INDEXSIGNATURE=65]="INDEXSIGNATURE",G[G.COMMENT=66]="COMMENT",G))(dt||{}),P=class{constructor(e,t){this.kind=e;this.range=t}static createSimpleTypeName(e,t){return new ua(P.createIdentifierExpression(e,t),null,t)}static createNamedType(e,t,i,n){return new Vn(e,t,i,n)}static createFunctionType(e,t,i,n,s){return new pa(e,t,i,n,s)}static createOmittedType(e){return new Vn(P.createSimpleTypeName("",e),null,!1,e)}static createTypeParameter(e,t,i,n){return new ca(e,t,i,n)}static createParameter(e,t,i,n,s){return new _a(e,t,i,n,s)}static createDecorator(e,t,i){return new fa(Et.fromNode(e),e,t,i)}static createComment(e,t,i){return new ma(e,t,i)}static createIdentifierExpression(e,t,i=!1){return new it(e,i,t)}static createEmptyIdentifierExpression(e){return new it("",!1,e)}static createArrayLiteralExpression(e,t){return new da(e,t)}static createAssertionExpression(e,t,i,n){return new Ea(e,t,i,n)}static createBinaryExpression(e,t,i,n){return new ya(e,t,i,n)}static createCallExpression(e,t,i,n){return new ga(e,t,i,n)}static createClassExpression(e){return new Ta(e)}static createCommaExpression(e,t){return new ba(e,t)}static createConstructorExpression(e){return new Ia(e)}static createElementAccessExpression(e,t,i){return new va(e,t,i)}static createFalseExpression(e){return new Va(e)}static createFloatLiteralExpression(e,t){return new xa(e,t)}static createFunctionExpression(e){return new Sa(e)}static createInstanceOfExpression(e,t,i){return new Ra(e,t,i)}static createIntegerLiteralExpression(e,t){return new Aa(e,t)}static createNewExpression(e,t,i,n){return new Na(e,t,i,n)}static createNullExpression(e){return new La(e)}static createObjectLiteralExpression(e,t,i){return new Ca(e,t,i)}static createOmittedExpression(e){return new Fa(e)}static createParenthesizedExpression(e,t){return new ka(e,t)}static createPropertyAccessExpression(e,t,i){return new Pa(e,t,i)}static createRegexpLiteralExpression(e,t,i){return new Oa(e,t,i)}static createTernaryExpression(e,t,i,n){return new wa(e,t,i,n)}static createStringLiteralExpression(e,t){return new Ma(e,t)}static createSuperExpression(e){return new Ua(e)}static createTemplateLiteralExpression(e,t,i,n,s){return new Ba(e,t,i,n,s)}static createThisExpression(e){return new Da(e)}static createTrueExpression(e){return new Ga(e)}static createUnaryPostfixExpression(e,t,i){return new za(e,t,i)}static createUnaryPrefixExpression(e,t,i){return new Wa(e,t,i)}static createCompiledExpression(e,t,i){return new Ya(e,t,i)}static createBlockStatement(e,t){return new Ka(e,t)}static createBreakStatement(e,t){return new Xa(e,t)}static createClassDeclaration(e,t,i,n,s,a,o,l){return new Hn(e,t,i,n,s,a,o,l)}static createContinueStatement(e,t){return new qa(e,t)}static createDoStatement(e,t,i){return new Qa(e,t,i)}static createEmptyStatement(e){return new Za(e)}static createEnumDeclaration(e,t,i,n,s){return new ja(e,t,i,n,s)}static createEnumValueDeclaration(e,t,i,n){return new Ja(e,t,i,n)}static createExportStatement(e,t,i,n){return new to(e,t,i,n)}static createExportDefaultStatement(e,t){return new ro(e,t)}static createExportImportStatement(e,t,i){return new $a(e,t,i)}static createExportMember(e,t,i){return t||(t=e),new eo(e,t,i)}static createExpressionStatement(e){return new io(e)}static createIfStatement(e,t,i,n){return new oo(e,t,i,n)}static createImportStatement(e,t,i){return new zn(e,null,t,i)}static createWildcardImportStatement(e,t,i){return new zn(null,e,t,i)}static createImportDeclaration(e,t,i){return t||(t=e),new lo(t,e,i)}static createInterfaceDeclaration(e,t,i,n,s,a,o,l){return new uo(e,t,i,n,s,a,o,l)}static createFieldDeclaration(e,t,i,n,s,a){return new no(e,t,i,n,s,-1,a)}static createForStatement(e,t,i,n,s){return new so(e,t,i,n,s)}static createForOfStatement(e,t,i,n){return new ao(e,t,i,n)}static createFunctionDeclaration(e,t,i,n,s,a,o,l){return new zr(e,t,i,n,s,a,o,l)}static createIndexSignature(e,t,i,n){return new Ha(e,t,i,n)}static createMethodDeclaration(e,t,i,n,s,a,o){return new po(e,t,i,n,s,a,o)}static createNamespaceDeclaration(e,t,i,n,s){return new co(e,t,i,n,s)}static createReturnStatement(e,t){return new _o(e,t)}static createSwitchStatement(e,t,i){return new ho(e,t,i)}static createSwitchCase(e,t,i){return new fo(e,t,i)}static createThrowStatement(e,t){return new mo(e,t)}static createTryStatement(e,t,i,n,s){return new Eo(e,t,i,n,s)}static createTypeDeclaration(e,t,i,n,s,a){return new go(e,t,i,n,s,a)}static createModuleDeclaration(e,t,i){return new yo(e,t,i)}static createVariableStatement(e,t,i){return new bo(e,t,i)}static createVariableDeclaration(e,t,i,n,s,a){return new To(e,t,i,n,s,a)}static createVoidStatement(e,t){return new Io(e,t)}static createWhileStatement(e,t,i){return new vo(e,t,i)}isLiteralKind(e){return this.kind==16&&changetype(this).literalKind==e}get isNumericLiteral(){if(this.kind==16)switch(changetype(this).literalKind){case we.FLOAT:case we.INTEGER:return!0}return!1}get compilesToConst(){switch(this.kind){case 16:{switch(changetype(this).literalKind){case we.FLOAT:case we.INTEGER:case we.STRING:return!0}break}case 18:case 25:case 13:return!0}return!1}isAccessOn(e){let t=changetype(this);return t.kind==9&&(t=t.expression),t.kind==21&&t.expression.kind==e}get isAccessOnThis(){return this.isAccessOn(24)}get isAccessOnSuper(){return this.isAccessOn(23)}},Wn=class extends P{constructor(e,t,i){super(e,i);this.isNullable=t}hasGenericComponent(e){if(this.kind==1){let t=changetype(this);if(!t.name.next){let i=t.typeArguments;if(i&&i.length>0){for(let n=0,s=i.length;n<s;++n)if(i[n].hasGenericComponent(e))return!0}else{let n=t.name.identifier.text;for(let s=0,a=e.length;s<a;++s)if(e[s].name.text==n)return!0}}}else if(this.kind==2){let t=changetype(this),i=t.parameters;for(let s=0,a=i.length;s<a;++s)if(i[s].type.hasGenericComponent(e))return!0;if(t.returnType.hasGenericComponent(e))return!0;let n=t.explicitThisType;if(n&&n.hasGenericComponent(e))return!0}else assert(!1);return!1}},ua=class extends P{constructor(e,t,i){super(3,i);this.identifier=e;this.next=t}},Vn=class extends Wn{constructor(e,t,i,n){super(1,i,n);this.name=e;this.typeArguments=t}get hasTypeArguments(){var e=this.typeArguments;return e!=null&&e.length>0}},pa=class extends Wn{constructor(e,t,i,n,s){super(2,n,s);this.parameters=e;this.returnType=t;this.explicitThisType=i}},ca=class extends P{constructor(e,t,i,n){super(4,n);this.name=e;this.extendsType=t;this.defaultType=i}},Br=(i=>(i[i.DEFAULT=0]="DEFAULT",i[i.OPTIONAL=1]="OPTIONAL",i[i.REST=2]="REST",i))(Br||{}),_a=class extends P{constructor(e,t,i,n,s){super(5,s);this.parameterKind=e;this.name=t;this.type=i;this.initializer=n;this.implicitFieldDeclaration=null;this.flags=0}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}},Et=(g=>(g[g.CUSTOM=0]="CUSTOM",g[g.GLOBAL=1]="GLOBAL",g[g.OPERATOR=2]="OPERATOR",g[g.OPERATOR_BINARY=3]="OPERATOR_BINARY",g[g.OPERATOR_PREFIX=4]="OPERATOR_PREFIX",g[g.OPERATOR_POSTFIX=5]="OPERATOR_POSTFIX",g[g.UNMANAGED=6]="UNMANAGED",g[g.FINAL=7]="FINAL",g[g.INLINE=8]="INLINE",g[g.EXTERNAL=9]="EXTERNAL",g[g.EXTERNAL_JS=10]="EXTERNAL_JS",g[g.BUILTIN=11]="BUILTIN",g[g.LAZY=12]="LAZY",g[g.UNSAFE=13]="UNSAFE",g))(Et||{});(e=>{function r(t){if(t.kind==6){let i=t.text;switch(assert(i.length),i.charCodeAt(0)){case 98:{if(i=="builtin")return 11;break}case 101:{if(i=="external")return 9;break}case 102:{if(i=="final")return 7;break}case 103:{if(i=="global")return 1;break}case 105:{if(i=="inline")return 8;break}case 108:{if(i=="lazy")return 12;break}case 111:{if(i=="operator")return 2;break}case 117:{if(i=="unmanaged")return 6;if(i=="unsafe")return 13;break}}}else if(t.kind==21){let i=t,n=i.expression;if(n.kind==6){let s=n.text;assert(s.length);let a=i.property.text;if(assert(a.length),s=="operator")switch(a.charCodeAt(0)){case 98:{if(a=="binary")return 3;break}case 112:{if(a=="prefix")return 4;if(a=="postfix")return 5;break}}else if(s=="external")switch(a.charCodeAt(0)){case 106:{if(a=="js")return 10;break}}}}return 0}e.fromNode=r})(Et||={});var fa=class extends P{constructor(e,t,i,n){super(62,n);this.decoratorKind=e;this.name=t;this.args=i}},ha=(i=>(i[i.LINE=0]="LINE",i[i.TRIPLE=1]="TRIPLE",i[i.BLOCK=2]="BLOCK",i))(ha||{}),ma=class extends P{constructor(e,t,i){super(66,i);this.commentKind=e;this.text=t}},fe=class extends P{},it=class extends fe{constructor(e,t,i){super(6,i);this.text=e;this.isQuoted=t}},we=(o=>(o[o.FLOAT=0]="FLOAT",o[o.INTEGER=1]="INTEGER",o[o.STRING=2]="STRING",o[o.TEMPLATE=3]="TEMPLATE",o[o.REGEXP=4]="REGEXP",o[o.ARRAY=5]="ARRAY",o[o.OBJECT=6]="OBJECT",o))(we||{}),yt=class extends fe{constructor(e,t){super(16,t);this.literalKind=e}},da=class extends yt{constructor(e,t){super(5,t);this.elementExpressions=e}},Dr=(n=>(n[n.PREFIX=0]="PREFIX",n[n.AS=1]="AS",n[n.NONNULL=2]="NONNULL",n[n.CONST=3]="CONST",n))(Dr||{}),Ea=class extends fe{constructor(e,t,i,n){super(7,n);this.assertionKind=e;this.expression=t;this.toType=i}},ya=class extends fe{constructor(e,t,i,n){super(8,n);this.operator=e;this.left=t;this.right=i}},ga=class extends fe{constructor(e,t,i,n){super(9,n);this.expression=e;this.typeArguments=t;this.args=i}get typeArgumentsRange(){var e=this.typeArguments,t;return e&&(t=e.length)?se.join(e[0].range,e[t-1].range):this.expression.range}get argumentsRange(){var e=this.args,t=e.length;return t?se.join(e[0].range,e[t-1].range):this.expression.range}},Ta=class extends fe{constructor(e){super(10,e.range);this.declaration=e}},ba=class extends fe{constructor(e,t){super(11,t);this.expressions=e}},Ia=class extends it{constructor(e){super("constructor",!1,e);this.kind=26}},va=class extends fe{constructor(e,t,i){super(12,i);this.expression=e;this.elementExpression=t}},xa=class extends yt{constructor(e,t){super(0,t);this.value=e}},Sa=class extends fe{constructor(e){super(14,e.range);this.declaration=e}},Ra=class extends fe{constructor(e,t,i){super(15,i);this.expression=e;this.isType=t}},Aa=class extends yt{constructor(e,t){super(1,t);this.value=e}},Na=class extends fe{constructor(e,t,i,n){super(17,n);this.typeName=e;this.typeArguments=t;this.args=i}get typeArgumentsRange(){var e=this.typeArguments,t;return e&&(t=e.length)>0?se.join(e[0].range,e[t-1].range):this.typeName.range}get argumentsRange(){var e=this.args,t=e.length;return t?se.join(e[0].range,e[t-1].range):this.typeName.range}},La=class extends it{constructor(e){super("null",!1,e);this.kind=18}},Ca=class extends yt{constructor(e,t,i){super(6,i);this.names=e;this.values=t}},Fa=class extends fe{constructor(e){super(19,e)}},ka=class extends fe{constructor(e,t){super(20,t);this.expression=e}},Pa=class extends fe{constructor(e,t,i){super(21,i);this.expression=e;this.property=t}},Oa=class extends yt{constructor(e,t,i){super(4,i);this.pattern=e;this.patternFlags=t}},wa=class extends fe{constructor(e,t,i,n){super(22,n);this.condition=e;this.ifThen=t;this.ifElse=i}},Ma=class extends yt{constructor(e,t){super(2,t);this.value=e}},Ua=class extends it{constructor(e){super("super",!1,e);this.kind=23}},Ba=class extends yt{constructor(e,t,i,n,s){super(3,s);this.tag=e;this.parts=t;this.rawParts=i;this.expressions=n}},Da=class extends it{constructor(e){super("this",!1,e);this.kind=24}},Ga=class extends it{constructor(e){super("true",!1,e);this.kind=25}},Va=class extends it{constructor(e){super("false",!1,e);this.kind=13}},Yn=class extends fe{constructor(e,t,i,n){super(e,n);this.operator=t;this.operand=i}},za=class extends Yn{constructor(e,t,i){super(27,e,t,i)}},Wa=class extends Yn{constructor(e,t,i){super(28,e,t,i)}},Ya=class extends fe{constructor(e,t,i){super(29,i);this.expr=e;this.type=t}},oe=class extends P{},Gr=(n=>(n[n.USER=0]="USER",n[n.USER_ENTRY=1]="USER_ENTRY",n[n.LIBRARY=2]="LIBRARY",n[n.LIBRARY_ENTRY=3]="LIBRARY_ENTRY",n))(Gr||{}),Vr=class extends P{constructor(e,t,i){super(0,new se(0,i.length));this.sourceKind=e;this.normalizedPath=t;this.text=i;this.statements=new Array;this.debugInfoIndex=-1;this.exportPaths=null;this.lineCache=null;this.lineColumn=1;var n=Ni(t);this.internalPath=n;var s=n.lastIndexOf(Qe);this.simplePath=s>=0?n.substring(s+1):n,this.range.source=this}get isNative(){return this.internalPath==On}get isLibrary(){var e=this.sourceKind;return e==2||e==3}lineAt(e){assert(e>=0&&e<2147483647);var t=this.lineCache;if(!t){this.lineCache=t=[0];let s=this.text,a=0,o=s.length;for(;a<o;)s.charCodeAt(a++)==10&&t.push(a);t.push(2147483647)}for(var i=0,n=t.length-1;i<n;){let s=i+(n-i>>1),a=unchecked(t[s]);if(e<a)n=s;else{if(e<unchecked(t[s+1]))return this.lineColumn=e-a+1,s+1;i=s+1}}return assert(0)}columnAt(){return this.lineColumn}},ze=class extends oe{constructor(e,t,i,n,s){super(e,s);this.name=t;this.decorators=i;this.flags=n;this.overriddenModuleName=null}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}},Ha=class extends P{constructor(e,t,i,n){super(65,n);this.keyType=e;this.valueType=t;this.flags=i}},Ri=class extends ze{constructor(e,t,i,n,s,a,o){super(e,t,i,n,o);this.type=s;this.initializer=a}},Ka=class extends oe{constructor(e,t){super(30,t);this.statements=e}},Xa=class extends oe{constructor(e,t){super(31,t);this.label=e}},Hn=class extends ze{constructor(e,t,i,n,s,a,o,l){super(51,e,t,i,l);this.typeParameters=n;this.extendsType=s;this.implementsTypes=a;this.members=o;this.indexSignature=null}get isGeneric(){var e=this.typeParameters;return e!=null&&e.length>0}},qa=class extends oe{constructor(e,t){super(32,t);this.label=e}},Qa=class extends oe{constructor(e,t,i){super(33,i);this.statement=e;this.condition=t}},Za=class extends oe{constructor(e){super(34,e)}},ja=class extends ze{constructor(e,t,i,n,s){super(52,e,t,i,s);this.values=n}},Ja=class extends Ri{constructor(e,t,i,n){super(53,e,null,t,null,i,n)}},$a=class extends oe{constructor(e,t,i){super(37,i);this.name=e;this.externalName=t}},eo=class extends P{constructor(e,t,i){super(63,i);this.localName=e;this.exportedName=t}},to=class extends oe{constructor(e,t,i,n){super(35,n);this.members=e;this.path=t;this.isDeclare=i;if(t){let s=rr(t.value);t.value.startsWith(".")?s=wn(s,n.source.internalPath):s.startsWith(Ze)||(s=Ze+s),this.internalPath=s}else this.internalPath=null}},ro=class extends oe{constructor(e,t){super(36,t);this.declaration=e}},io=class extends oe{constructor(e){super(38,e.range);this.expression=e}},no=class extends Ri{constructor(e,t,i,n,s,a,o){super(54,e,t,i,n,s,o);this.parameterIndex=a}},so=class extends oe{constructor(e,t,i,n,s){super(39,s);this.initializer=e;this.condition=t;this.incrementor=i;this.statement=n}},ao=class extends oe{constructor(e,t,i,n){super(40,n);this.variable=e;this.iterable=t;this.statement=i}},Ai=(i=>(i[i.NONE=0]="NONE",i[i.ARROW_PARENTHESIZED=1]="ARROW_PARENTHESIZED",i[i.ARROW_SINGLE=2]="ARROW_SINGLE",i))(Ai||{}),zr=class extends ze{constructor(e,t,i,n,s,a,o,l){super(55,e,t,i,l);this.typeParameters=n;this.signature=s;this.body=a;this.arrowKind=o}get isGeneric(){var e=this.typeParameters;return e!=null&&e.length>0}clone(){return new zr(this.name,this.decorators,this.flags,this.typeParameters,this.signature,this.body,this.arrowKind,this.range)}},oo=class extends oe{constructor(e,t,i,n){super(41,n);this.condition=e;this.ifTrue=t;this.ifFalse=i}},lo=class extends ze{constructor(e,t,i){super(56,e,null,0,i);this.foreignName=t}},zn=class extends oe{constructor(e,t,i,n){super(42,n);this.declarations=e;this.namespaceName=t;this.path=i;var s=rr(i.value);i.value.startsWith(".")?s=wn(s,n.source.internalPath):s.startsWith(Ze)||(s=Ze+s),this.internalPath=Ni(s)}},uo=class extends Hn{constructor(e,t,i,n,s,a,o,l){super(e,t,i,n,s,a,o,l);this.kind=57}},po=class extends zr{constructor(e,t,i,n,s,a,o){super(e,t,i,n,s,a,0,o);this.kind=58}},co=class extends ze{constructor(e,t,i,n,s){super(59,e,t,i,s);this.members=n}},_o=class extends oe{constructor(e,t){super(43,t);this.value=e}},fo=class extends P{constructor(e,t,i){super(64,i);this.label=e;this.statements=t}},ho=class extends oe{constructor(e,t,i){super(44,i);this.condition=e;this.cases=t}},mo=class extends oe{constructor(e,t){super(45,t);this.value=e}},Eo=class extends oe{constructor(e,t,i,n,s){super(46,s);this.statements=e;this.catchVariable=t;this.catchStatements=i;this.finallyStatements=n}},yo=class extends oe{constructor(e,t,i){super(50,i);this.moduleName=e;this.flags=t}},go=class extends ze{constructor(e,t,i,n,s,a){super(60,e,t,i,a);this.typeParameters=n;this.type=s}},To=class extends Ri{constructor(e,t,i,n,s,a){super(61,e,t,i,n,s,a)}},bo=class extends oe{constructor(e,t,i){super(47,i);this.decorators=e;this.declarations=t}},Io=class extends oe{constructor(e,t){super(48,t);this.expression=e}},vo=class extends oe{constructor(e,t,i){super(49,i);this.condition=e;this.statement=t}};function gt(r,e){if(e)for(let t=0,i=e.length;t<i;++t){let n=e[t];if(n.decoratorKind==r)return n}return null}function Ni(r){return r.endsWith("/")?r+="index":r.endsWith(".ts")&&(r=r.substring(0,r.length-3)),r}function xe(r){if(r.kind==1){let e=r.name;return!(e.next||e.identifier.text.length>0)}return!1}var Wr=(N=>(N[N.ABSTRACT=0]="ABSTRACT",N[N.AS=1]="AS",N[N.ASYNC=2]="ASYNC",N[N.AWAIT=3]="AWAIT",N[N.BREAK=4]="BREAK",N[N.CASE=5]="CASE",N[N.CATCH=6]="CATCH",N[N.CLASS=7]="CLASS",N[N.CONST=8]="CONST",N[N.CONTINUE=9]="CONTINUE",N[N.CONSTRUCTOR=10]="CONSTRUCTOR",N[N.DEBUGGER=11]="DEBUGGER",N[N.DECLARE=12]="DECLARE",N[N.DEFAULT=13]="DEFAULT",N[N.DELETE=14]="DELETE",N[N.DO=15]="DO",N[N.ELSE=16]="ELSE",N[N.ENUM=17]="ENUM",N[N.EXPORT=18]="EXPORT",N[N.EXTENDS=19]="EXTENDS",N[N.FALSE=20]="FALSE",N[N.FINALLY=21]="FINALLY",N[N.FOR=22]="FOR",N[N.FROM=23]="FROM",N[N.FUNCTION=24]="FUNCTION",N[N.GET=25]="GET",N[N.IF=26]="IF",N[N.IMPLEMENTS=27]="IMPLEMENTS",N[N.IMPORT=28]="IMPORT",N[N.IN=29]="IN",N[N.INSTANCEOF=30]="INSTANCEOF",N[N.INTERFACE=31]="INTERFACE",N[N.IS=32]="IS",N[N.KEYOF=33]="KEYOF",N[N.LET=34]="LET",N[N.MODULE=35]="MODULE",N[N.NAMESPACE=36]="NAMESPACE",N[N.NEW=37]="NEW",N[N.NULL=38]="NULL",N[N.OF=39]="OF",N[N.PACKAGE=40]="PACKAGE",N[N.PRIVATE=41]="PRIVATE",N[N.PROTECTED=42]="PROTECTED",N[N.PUBLIC=43]="PUBLIC",N[N.READONLY=44]="READONLY",N[N.RETURN=45]="RETURN",N[N.SET=46]="SET",N[N.STATIC=47]="STATIC",N[N.SUPER=48]="SUPER",N[N.SWITCH=49]="SWITCH",N[N.THIS=50]="THIS",N[N.THROW=51]="THROW",N[N.TRUE=52]="TRUE",N[N.TRY=53]="TRY",N[N.TYPE=54]="TYPE",N[N.TYPEOF=55]="TYPEOF",N[N.VAR=56]="VAR",N[N.VOID=57]="VOID",N[N.WHILE=58]="WHILE",N[N.WITH=59]="WITH",N[N.YIELD=60]="YIELD",N[N.OPENBRACE=61]="OPENBRACE",N[N.CLOSEBRACE=62]="CLOSEBRACE",N[N.OPENPAREN=63]="OPENPAREN",N[N.CLOSEPAREN=64]="CLOSEPAREN",N[N.OPENBRACKET=65]="OPENBRACKET",N[N.CLOSEBRACKET=66]="CLOSEBRACKET",N[N.DOT=67]="DOT",N[N.DOT_DOT_DOT=68]="DOT_DOT_DOT",N[N.SEMICOLON=69]="SEMICOLON",N[N.COMMA=70]="COMMA",N[N.LESSTHAN=71]="LESSTHAN",N[N.GREATERTHAN=72]="GREATERTHAN",N[N.LESSTHAN_EQUALS=73]="LESSTHAN_EQUALS",N[N.GREATERTHAN_EQUALS=74]="GREATERTHAN_EQUALS",N[N.EQUALS_EQUALS=75]="EQUALS_EQUALS",N[N.EXCLAMATION_EQUALS=76]="EXCLAMATION_EQUALS",N[N.EQUALS_EQUALS_EQUALS=77]="EQUALS_EQUALS_EQUALS",N[N.EXCLAMATION_EQUALS_EQUALS=78]="EXCLAMATION_EQUALS_EQUALS",N[N.EQUALS_GREATERTHAN=79]="EQUALS_GREATERTHAN",N[N.PLUS=80]="PLUS",N[N.MINUS=81]="MINUS",N[N.ASTERISK_ASTERISK=82]="ASTERISK_ASTERISK",N[N.ASTERISK=83]="ASTERISK",N[N.SLASH=84]="SLASH",N[N.PERCENT=85]="PERCENT",N[N.PLUS_PLUS=86]="PLUS_PLUS",N[N.MINUS_MINUS=87]="MINUS_MINUS",N[N.LESSTHAN_LESSTHAN=88]="LESSTHAN_LESSTHAN",N[N.GREATERTHAN_GREATERTHAN=89]="GREATERTHAN_GREATERTHAN",N[N.GREATERTHAN_GREATERTHAN_GREATERTHAN=90]="GREATERTHAN_GREATERTHAN_GREATERTHAN",N[N.AMPERSAND=91]="AMPERSAND",N[N.BAR=92]="BAR",N[N.CARET=93]="CARET",N[N.EXCLAMATION=94]="EXCLAMATION",N[N.TILDE=95]="TILDE",N[N.AMPERSAND_AMPERSAND=96]="AMPERSAND_AMPERSAND",N[N.BAR_BAR=97]="BAR_BAR",N[N.QUESTION=98]="QUESTION",N[N.COLON=99]="COLON",N[N.EQUALS=100]="EQUALS",N[N.PLUS_EQUALS=101]="PLUS_EQUALS",N[N.MINUS_EQUALS=102]="MINUS_EQUALS",N[N.ASTERISK_EQUALS=103]="ASTERISK_EQUALS",N[N.ASTERISK_ASTERISK_EQUALS=104]="ASTERISK_ASTERISK_EQUALS",N[N.SLASH_EQUALS=105]="SLASH_EQUALS",N[N.PERCENT_EQUALS=106]="PERCENT_EQUALS",N[N.LESSTHAN_LESSTHAN_EQUALS=107]="LESSTHAN_LESSTHAN_EQUALS",N[N.GREATERTHAN_GREATERTHAN_EQUALS=108]="GREATERTHAN_GREATERTHAN_EQUALS",N[N.GREATERTHAN_GREATERTHAN_GREATERTHAN_EQUALS=109]="GREATERTHAN_GREATERTHAN_GREATERTHAN_EQUALS",N[N.AMPERSAND_EQUALS=110]="AMPERSAND_EQUALS",N[N.BAR_EQUALS=111]="BAR_EQUALS",N[N.CARET_EQUALS=112]="CARET_EQUALS",N[N.AT=113]="AT",N[N.IDENTIFIER=114]="IDENTIFIER",N[N.STRINGLITERAL=115]="STRINGLITERAL",N[N.INTEGERLITERAL=116]="INTEGERLITERAL",N[N.FLOATLITERAL=117]="FLOATLITERAL",N[N.TEMPLATELITERAL=118]="TEMPLATELITERAL",N[N.INVALID=119]="INVALID",N[N.ENDOFFILE=120]="ENDOFFILE",N))(Wr||{}),So=(i=>(i[i.DEFAULT=0]="DEFAULT",i[i.PREFER=1]="PREFER",i[i.ALWAYS=2]="ALWAYS",i))(So||{});function Qu(r){let e=r.length;switch(assert(e),r.charCodeAt(0)){case 97:{if(e==5){if(r=="async")return 2;if(r=="await")return 3;break}if(r=="as")return 1;if(r=="abstract")return 0;break}case 98:{if(r=="break")return 4;break}case 99:{if(e==5){if(r=="const")return 8;if(r=="class")return 7;if(r=="catch")return 6;break}if(r=="case")return 5;if(r=="continue")return 9;if(r=="constructor")return 10;break}case 100:{if(e==7){if(r=="default")return 13;if(r=="declare")return 12;break}if(r=="do")return 15;if(r=="delete")return 14;if(r=="debugger")return 11;break}case 101:{if(e==4){if(r=="else")return 16;if(r=="enum")return 17;break}if(r=="export")return 18;if(r=="extends")return 19;break}case 102:{if(e<=5){if(r=="false")return 20;if(r=="for")return 22;if(r=="from")return 23;break}if(r=="function")return 24;if(r=="finally")return 21;break}case 103:{if(r=="get")return 25;break}case 105:{if(e==2){if(r=="if")return 26;if(r=="in")return 29;if(r=="is")return 32;break}switch(r.charCodeAt(3)){case 108:{if(r=="implements")return 27;break}case 111:{if(r=="import")return 28;break}case 116:{if(r=="instanceof")return 30;break}case 101:{if(r=="interface")return 31;break}}break}case 107:{if(r=="keyof")return 33;break}case 108:{if(r=="let")return 34;break}case 109:{if(r=="module")return 35;break}case 110:{if(r=="new")return 37;if(r=="null")return 38;if(r=="namespace")return 36;break}case 111:{if(r=="of")return 39;break}case 112:{if(e==7){if(r=="private")return 41;if(r=="package")return 40;break}if(r=="public")return 43;if(r=="protected")return 42;break}case 114:{if(r=="return")return 45;if(r=="readonly")return 44;break}case 115:{if(e==6){if(r=="switch")return 49;if(r=="static")return 47;break}if(r=="set")return 46;if(r=="super")return 48;break}case 116:{if(e==4){if(r=="true")return 52;if(r=="this")return 50;if(r=="type")return 54;break}if(r=="try")return 53;if(r=="throw")return 51;if(r=="typeof")return 55;break}case 118:{if(r=="var")return 56;if(r=="void")return 57;break}case 119:{if(r=="while")return 58;if(r=="with")return 59;break}case 121:{if(r=="yield")return 60;break}}return 119}function Zu(r){switch(r){case 0:case 1:case 10:case 12:case 14:case 23:case 22:case 25:case 30:case 32:case 33:case 35:case 36:case 38:case 44:case 46:case 54:case 57:return!0;default:return!1}}function Ro(r){switch(assert(r.length),r.charCodeAt(0)){case 100:return r=="delete";case 102:return r=="for";case 105:return r=="instanceof";case 110:return r=="null";case 118:return r=="void"}return!1}function ye(r){switch(r){case 14:return"delete";case 29:return"in";case 30:return"instanceof";case 37:return"new";case 55:return"typeof";case 57:return"void";case 60:return"yield";case 68:return"...";case 70:return",";case 71:return"<";case 72:return">";case 73:return"<=";case 74:return">=";case 75:return"==";case 76:return"!=";case 77:return"===";case 78:return"!==";case 80:return"+";case 81:return"-";case 82:return"**";case 83:return"*";case 84:return"/";case 85:return"%";case 86:return"++";case 87:return"--";case 88:return"<<";case 89:return">>";case 90:return">>>";case 91:return"&";case 92:return"|";case 93:return"^";case 94:return"!";case 95:return"~";case 96:return"&&";case 97:return"||";case 100:return"=";case 101:return"+=";case 102:return"-=";case 103:return"*=";case 104:return"**=";case 105:return"/=";case 106:return"%=";case 107:return"<<=";case 108:return">>=";case 109:return">>>=";case 110:return"&=";case 111:return"|=";case 112:return"^=";default:return assert(!1),""}}var se=class{constructor(e,t){this.debugInfoRef=0;this.start=e,this.end=t}static join(e,t){if(e.source!=t.source)throw new Error("source mismatch");let i=new se(e.start<t.start?e.start:t.start,e.end>t.end?e.end:t.end);return i.source=e.source,i}equals(e){return this.source==e.source&&this.start==e.start&&this.end==e.end}get atStart(){let e=new se(this.start,this.start);return e.source=this.source,e}get atEnd(){let e=new se(this.end,this.end);return e.source=this.source,e}toString(){return this.source.text.substring(this.start,this.end)}},Kn=class extends Ve{constructor(e,t=null){super(t);this.end=0;this.pos=0;this.token=-1;this.tokenPos=0;this.nextToken=-1;this.nextTokenPos=0;this.nextTokenOnNewLine=!1;this.onComment=null;this.readingTemplateString=!1;this.readStringStart=0;this.readStringEnd=0;t||(t=[]),this.diagnostics=t,this.source=e;var i=e.text,n=i.length,s=0;if(s<n&&i.charCodeAt(s)==65279&&++s,s+1<n&&i.charCodeAt(s)==35&&i.charCodeAt(s+1)==33)for(s+=2;s<n&&i.charCodeAt(s)!=10;)++s;this.pos=s,this.end=n}next(e=0){this.nextToken=-1;var t;do t=this.unsafeNext(e);while(t==119);return this.token=t,t}unsafeNext(e=0,t=i32.MAX_VALUE){for(var i=this.source.text,n=this.end,s=this.pos;s<n;){this.tokenPos=s;let a=i.charCodeAt(s);switch(a){case 13:if(!(++s<n&&i.charCodeAt(s)==10))break;case 10:case 9:case 11:case 12:case 32:{++s;break}case 33:return++s,t>1&&s<n&&i.charCodeAt(s)==61?(++s,t>2&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,78):(this.pos=s,76)):(this.pos=s,94);case 34:case 39:return this.pos=s,115;case 96:return this.pos=s,118;case 37:return++s,t>1&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,106):(this.pos=s,85);case 38:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==38)return this.pos=s+1,96;if(o==61)return this.pos=s+1,110}return this.pos=s,91}case 40:return this.pos=s+1,63;case 41:return this.pos=s+1,64;case 42:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==61)return this.pos=s+1,103;if(o==42)return++s,t>2&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,104):(this.pos=s,82)}return this.pos=s,83}case 43:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==43)return this.pos=s+1,86;if(o==61)return this.pos=s+1,101}return this.pos=s,80}case 44:return this.pos=s+1,70;case 45:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==45)return this.pos=s+1,87;if(o==61)return this.pos=s+1,102}return this.pos=s,81}case 46:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(kt(o))return this.pos=s-1,117;if(t>2&&s+1<n&&o==46&&i.charCodeAt(s+1)==46)return this.pos=s+2,68}return this.pos=s,67}case 47:{let o=s;if(++s,t>1&&s<n){let l=i.charCodeAt(s);if(l==47){let p=0;for(s+1<n&&i.charCodeAt(s+1)==47&&(++s,p=1);++s<n;)if(i.charCodeAt(s)==10){++s;break}this.onComment&&this.onComment(p,i.substring(o,s),this.range(o,s));break}if(l==42){let p=!1;for(;++s<n;)if(a=i.charCodeAt(s),a==42&&s+1<n&&i.charCodeAt(s+1)==47){s+=2,p=!0;break}p?this.onComment&&this.onComment(2,i.substring(o,s),this.range(o,s)):this.error(1005,this.range(s),"*/");break}if(l==61)return this.pos=s+1,105}return this.pos=s,84}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.pos=s,this.testInteger()?116:117;case 58:return this.pos=s+1,99;case 59:return this.pos=s+1,69;case 60:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==60)return++s,t>2&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,107):(this.pos=s,88);if(o==61)return this.pos=s+1,73}return this.pos=s,71}case 61:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==61)return++s,t>2&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,77):(this.pos=s,75);if(o==62)return this.pos=s+1,79}return this.pos=s,100}case 62:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==62){if(++s,t>2&&s<n){if(o=i.charCodeAt(s),o==62)return++s,t>3&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,109):(this.pos=s,90);if(o==61)return this.pos=s+1,108}return this.pos=s,89}if(o==61)return this.pos=s+1,74}return this.pos=s,72}case 63:return this.pos=s+1,98;case 91:return this.pos=s+1,65;case 93:return this.pos=s+1,66;case 94:return++s,t>1&&s<n&&i.charCodeAt(s)==61?(this.pos=s+1,112):(this.pos=s,93);case 123:return this.pos=s+1,61;case 124:{if(++s,t>1&&s<n){let o=i.charCodeAt(s);if(o==124)return this.pos=s+1,97;if(o==61)return this.pos=s+1,111}return this.pos=s,92}case 125:return this.pos=s+1,62;case 126:return this.pos=s+1,95;case 64:return this.pos=s+1,113;default:{if(gi(a)){let l=s;for(;++s<n&&Pr(a=i.charCodeAt(s)););if(e!=2){let p=Qu(i.substring(l,s));if(p!=119&&!(e==1&&Zu(p)))return this.pos=s,p}return this.pos=l,114}else if(js(a)){++s;break}let o=s++;return Fr(a)&&s<n&&kr(i.charCodeAt(s))&&++s,this.error(1127,this.range(o,s)),this.pos=s,119}}}return this.pos=s,120}peek(e=!1,t=0,i=i32.MAX_VALUE){var n=this.source.text;if(this.nextToken<0){let s=this.pos,a=this.token,o=this.tokenPos,l;do l=this.unsafeNext(t,i);while(l==119);if(this.nextToken=l,this.nextTokenPos=this.tokenPos,e){this.nextTokenOnNewLine=!1;for(let p=s,c=this.nextTokenPos;p<c;++p)if(mt(n.charCodeAt(p))){this.nextTokenOnNewLine=!0;break}}this.pos=s,this.token=a,this.tokenPos=o}return this.nextToken}skipIdentifier(e=1){return this.skip(114,e)}skip(e,t=0){var i=this.pos,n=this.token,s=this.tokenPos,a=i32.MAX_VALUE;e==72&&(a=1);var o;do o=this.unsafeNext(t,a);while(o==119);return o==e?(this.token=e,this.nextToken=-1,!0):(this.pos=i,this.token=n,this.tokenPos=s,!1)}mark(){var e=xo;return e?(xo=null,e.pos=this.pos,e.token=this.token,e.tokenPos=this.tokenPos):e=new Ao(this.pos,this.token,this.tokenPos),e}discard(e){xo=e}reset(e){this.pos=e.pos,this.token=e.token,this.tokenPos=e.tokenPos,this.nextToken=-1}range(e=-1,t=-1){e<0?(e=this.tokenPos,t=this.pos):t<0&&(t=e);let i=new se(e,t);return i.source=this.source,i}readIdentifier(){for(var e=this.source.text,t=this.end,i=this.pos,n=i;++i<t&&Pr(e.charCodeAt(i)););return this.pos=i,e.substring(n,i)}readString(e=0,t=!1){var i=this.source.text,n=this.end,s=this.pos;e||(e=i.charCodeAt(s++));var a=s;this.readStringStart=a;for(var o="";;){if(s>=n){o+=i.substring(a,s),this.error(1002,this.range(a-1,n)),this.readStringEnd=n;break}let l=i.charCodeAt(s);if(l==e){this.readStringEnd=s,o+=i.substring(a,s++);break}if(l==92){o+=i.substring(a,s),this.pos=s,o+=this.readEscapeSequence(t),s=this.pos,a=s;continue}if(e==96){if(l==36&&s+1<n&&i.charCodeAt(s+1)==123)return o+=i.substring(a,s),this.readStringEnd=s,this.pos=s+2,this.readingTemplateString=!0,o}else if(mt(l)){o+=i.substring(a,s),this.error(1002,this.range(a-1,s)),this.readStringEnd=s;break}++s}return this.pos=s,this.readingTemplateString=!1,o}readEscapeSequence(e=!1){var t=this.pos,i=this.end;if(++this.pos>=i)return this.error(1126,this.range(i)),"";var n=this.source.text,s=n.charCodeAt(this.pos++);switch(s){case 48:return e&&this.pos<i&&kt(n.charCodeAt(this.pos))?(++this.pos,n.substring(t,this.pos)):"\0";case 98:return"\b";case 116:return"	";case 110:return`
`;case 118:return"\v";case 102:return"\f";case 114:return"\r";case 39:return"'";case 34:return'"';case 117:return this.pos<i&&n.charCodeAt(this.pos)==123?(++this.pos,this.readExtendedUnicodeEscape(e?t:-1)):this.readUnicodeEscape(e?t:-1);case 120:return this.readHexadecimalEscape(2,e?t:-1);case 13:this.pos<i&&n.charCodeAt(this.pos)==10&&++this.pos;case 10:case 8232:case 8233:return"";default:return String.fromCodePoint(s)}}readRegexpPattern(){for(var e=this.source.text,t=this.pos,i=this.end,n=!1;;){if(this.pos>=i){this.error(1161,this.range(t,i));break}if(e.charCodeAt(this.pos)==92){++this.pos,n=!0;continue}let s=e.charCodeAt(this.pos);if(!n&&s==47)break;if(mt(s)){this.error(1161,this.range(t,this.pos));break}++this.pos,n=!1}return e.substring(t,this.pos)}readRegexpFlags(){for(var e=this.source.text,t=this.pos,i=this.end,n=0;this.pos<i;){let s=e.charCodeAt(this.pos);if(!Pr(s))break;switch(++this.pos,s){case 103:{n|=n&1?-1:1;break}case 105:{n|=n&2?-1:2;break}case 109:{n|=n&4?-1:4;break}default:{n=-1;break}}}return n==-1&&this.error(209,this.range(t,this.pos)),e.substring(t,this.pos)}testInteger(){var e=this.source.text,t=this.pos,i=this.end;if(t+1<i&&e.charCodeAt(t)==48)switch(e.charCodeAt(t+2)|32){case 120:case 98:case 111:return!0}for(;t<i;){let n=e.charCodeAt(t);if(n==46||(n|32)==101)return!1;if(n!=95&&(n<48||n>57))break;t++}return!0}readInteger(){var e=this.source.text,t=this.pos;if(t+2<this.end&&e.charCodeAt(t)==48){switch(e.charCodeAt(t+1)|32){case 120:return this.pos=t+2,this.readHexInteger();case 98:return this.pos=t+2,this.readBinaryInteger();case 111:return this.pos=t+2,this.readOctalInteger()}if(ea(e.charCodeAt(t+1))){let i=t;this.pos=t+1;let n=this.readOctalInteger();return this.error(1121,this.range(i,this.pos)),n}}return this.readDecimalInteger()}readHexInteger(){var e=this.source.text;let t=this.pos;for(var i=this.end,n=t,s=n,a=i64_new(0),o=i64_new(4);t<i;){let l=e.charCodeAt(t);if(l>=48&&l<=57)a=i64_add(i64_shl(a,o),i64_new(l-48));else if(l>=65&&l<=70)a=i64_add(i64_shl(a,o),i64_new(10+l-65));else if(l>=97&&l<=102)a=i64_add(i64_shl(a,o),i64_new(10+l-97));else if(l==95)s==t&&this.error(s==n?6188:6189,this.range(t)),s=t+1;else break;++t}return t==n?this.error(1125,this.range(n)):s==t&&this.error(6188,this.range(s-1)),this.pos=t,a}readDecimalInteger(){for(var e=this.source.text,t=this.pos,i=this.end,n=t,s=n,a=i64_new(0),o=i64_new(10);t<i;){let l=e.charCodeAt(t);if(l>=48&&l<=57)a=i64_add(i64_mul(a,o),i64_new(l-48));else if(l==95)s==t?this.error(s==n?6188:6189,this.range(t)):t-1==n&&e.charCodeAt(t-1)==48&&this.error(6188,this.range(t)),s=t+1;else break;++t}return t==n?this.error(1124,this.range(n)):s==t&&this.error(6188,this.range(s-1)),this.pos=t,a}readOctalInteger(){for(var e=this.source.text,t=this.pos,i=this.end,n=t,s=n,a=i64_new(0),o=i64_new(3);t<i;){let l=e.charCodeAt(t);if(l>=48&&l<=55)a=i64_add(i64_shl(a,o),i64_new(l-48));else if(l==95)s==t&&this.error(s==n?6188:6189,this.range(t)),s=t+1;else break;++t}return t==n?this.error(1178,this.range(n)):s==t&&this.error(6188,this.range(s-1)),this.pos=t,a}readBinaryInteger(){for(var e=this.source.text,t=this.pos,i=this.end,n=t,s=n,a=i64_new(0),o=i64_new(1);t<i;){let l=e.charCodeAt(t);if(l==48)a=i64_shl(a,o);else if(l==49)a=i64_add(i64_shl(a,o),o);else if(l==95)s==t&&this.error(s==n?6188:6189,this.range(t)),s=t+1;else break;++t}return t==n?this.error(1177,this.range(n)):s==t&&this.error(6188,this.range(s-1)),this.pos=t,a}readFloat(){return this.readDecimalFloat()}readDecimalFloat(){var e=this.source.text,t=this.end,i=this.pos,n=this.readDecimalFloatPartial(!1);if(this.pos<t&&e.charCodeAt(this.pos)==46&&(++this.pos,n+=this.readDecimalFloatPartial()),this.pos<t){let a=e.charCodeAt(this.pos);(a|32)==101&&((++this.pos<t&&(a=e.charCodeAt(this.pos))==45||a==43&&kt(e.charCodeAt(this.pos+1)))&&++this.pos,n+=this.readDecimalFloatPartial())}let s=e.substring(i,this.pos);return n&&(s=s.replaceAll("_","")),parseFloat(s)}readDecimalFloatPartial(e=!0){for(var t=this.source.text,i=this.pos,n=i,s=this.end,a=n,o=0;i<s;){let l=t.charCodeAt(i);if(l==95)a==i?this.error(a==n?6188:6189,this.range(i)):!e&&i-1==n&&t.charCodeAt(i-1)==48&&this.error(6188,this.range(i)),a=i+1,++o;else if(!kt(l))break;++i}return i!=n&&a==i&&this.error(6188,this.range(a-1)),this.pos=i,o}readHexFloat(){throw new Error("not implemented")}readHexadecimalEscape(e=2,t=-1){for(var i=0,n=this.source.text,s=this.pos,a=this.end;s<a;){let o=n.charCodeAt(s++);if(o>=48&&o<=57)i=(i<<4)+o-48;else if(o>=65&&o<=70)i=(i<<4)+o+(10-65);else if(o>=97&&o<=102)i=(i<<4)+o+(10-97);else return~t?(this.pos=--s,n.substring(t,s)):(this.pos=s,this.error(1125,this.range(s-1,s)),"");if(--e==0)break}return e?(this.pos=s,~t?n.substring(t,s):(this.error(1126,this.range(s)),"")):(this.pos=s,String.fromCodePoint(i))}checkForIdentifierStartAfterNumericLiteral(){var e=this.pos;e<this.end&&gi(this.source.text.charCodeAt(e))&&this.error(1351,this.range(e))}readUnicodeEscape(e=-1){return this.readHexadecimalEscape(4,e)}readExtendedUnicodeEscape(e=-1){var t=this.pos,i=this.readHexInteger(),n=i64_low(i),s=!1;assert(!i64_high(i)),n>1114111&&(e==-1&&this.error(1198,this.range(t,this.pos)),s=!0);var a=this.end,o=this.source.text;return this.pos>=a?(e==-1&&this.error(1126,this.range(t,a)),s=!0):o.charCodeAt(this.pos)==125?++this.pos:(e==-1&&this.error(1199,this.range(t,this.pos)),s=!0),s?~e?o.substring(e,this.pos):"":String.fromCodePoint(n)}},Ao=class{constructor(e,t,i){this.pos=e;this.token=t;this.tokenPos=i}},xo=null;var Xn=(t=>(t[t.REPORT=0]="REPORT",t[t.SWALLOW=1]="SWALLOW",t))(Xn||{}),qn=class extends Ve{constructor(e){super(e.diagnostics);this.currentThisExpression=null;this.currentElementExpression=null;this.discoveredOverload=!1;this.resolveClassPending=new Set;this.program=e}resolveType(e,t,i=null,n=0){switch(e.kind){case 1:return this.resolveNamedType(e,t,i,n);case 2:return this.resolveFunctionType(e,t,i,n);default:assert(!1)}return null}resolveNamedType(e,t,i=null,n=0){var s=e.name,a=e.typeArguments,o=!s.next;if(o){let c=s.identifier.text;if(i&&i.has(c)){let _=assert(i.get(c));if(a&&a.length>0&&n==0&&this.error(2315,e.range,_.toString()),e.isNullable){if(_.isInternalReference)return _.asNullable();n==0&&this.error(204,e.range,_.toString())}return _}}var l=this.resolveTypeName(s,t,n);if(!l)return null;var p=l.shadowType;if(p)l=p;else{if(l.kind==2)return a&&a.length>0&&n==0&&this.error(2315,e.range,l.internalName),e.isNullable&&n==0&&this.error(204,e.range,l.name+"/i32"),u.i32;if(l.kind==6||l.kind==8){let c=this.resolveClassInclTypeArguments(l,a,t,re(i),e,n);return c?e.isNullable?c.type.asNullable():c.type:null}}if(l.kind==16){let c=l;if(l.is(2097152)){a&&a.length>0&&n==0&&this.error(2315,e.range,l.internalName);let g=c.type;if(e.isNullable){if(g.isInternalReference)return g.asNullable();n==0&&this.error(204,s.range,s.identifier.text)}return g}if(o){let g=s.identifier.text;if(g==w.native)return this.resolveBuiltinNativeType(e,t,i,n);if(g==w.indexof)return this.resolveBuiltinIndexofType(e,t,i,n);if(g==w.valueof)return this.resolveBuiltinValueofType(e,t,i,n);if(g==w.returnof)return this.resolveBuiltinReturnTypeType(e,t,i,n);if(g==w.nonnull)return this.resolveBuiltinNotNullableType(e,t,i,n)}let _=c.typeParameterNodes,f=null;if(_){if(f=this.resolveTypeArguments(_,a,t,i=re(i),e,n),!f)return null}else a&&a.length>0&&this.error(2315,e.range,s.identifier.text);let E=this.resolveType(c.typeNode,l,i,n);if(!E)return null;if(e.isNullable){if(E.isInternalReference)return E.asNullable();n==0&&this.error(204,s.range,s.identifier.text)}return E}return n==0&&this.error(2304,s.range,s.identifier.text),null}resolveFunctionType(e,t,i=null,n=0){var s=e.explicitThisType,a=null;if(s&&(a=this.resolveType(s,t,i,n),!a))return null;var o=e.parameters,l=o.length,p=new Array(l),c=0,_=!1;for(let b=0;b<l;++b){let x=o[b];switch(x.parameterKind){case 0:{c=b+1;break}case 2:{assert(b==l),_=!0;break}}let S=x.type;if(xe(S))return n==0&&this.error(1110,S.range),null;let v=this.resolveType(S,t,i,n);if(!v)return null;p[b]=v}var f=e.returnType,E;if(xe(f))n==0&&this.error(1110,f.range),E=u.void;else if(E=this.resolveType(f,t,i,n),!E)return null;var g=new ve(this.program,p,E,a);return g.requiredParameters=c,g.hasRest=_,e.isNullable?g.type.asNullable():g.type}resolveBuiltinNativeType(e,t,i=null,n=0){let s=this.ensureOneTypeArgument(e,n);if(!s)return null;var a=this.resolveType(s,t,i,n);if(!a)return null;switch(a.kind){case 0:case 1:case 2:return u.i32;case 4:if(!this.program.options.isWasm64)return u.i32;case 3:return u.i64;case 5:case 6:case 7:case 10:return u.u32;case 9:if(!this.program.options.isWasm64)return u.u32;case 8:return u.u64;case 11:return u.f32;case 12:return u.f64;case 13:return u.v128;case 20:return u.void;default:assert(!1)}return null}resolveBuiltinIndexofType(e,t,i=null,n=0){let s=this.ensureOneTypeArgument(e,n);if(!s)return null;var a=this.resolveType(s,t,i,n);if(!a)return null;var o=a.classReference;if(!o)return n==0&&this.error(2329,s.range,a.toString()),null;var l=o.lookupOverload(1);return l?l.is(32)?(assert(l.signature.parameterTypes.length==2),l.signature.parameterTypes[1]):(assert(l.signature.parameterTypes.length==1),l.signature.parameterTypes[0]):(n==0&&this.error(2329,s.range,a.toString()),null)}resolveBuiltinValueofType(e,t,i=null,n=0){let s=this.ensureOneTypeArgument(e,n);if(!s)return null;var a=this.resolveType(s,t,i,n);if(!a)return null;var o=a.getClassOrWrapper(this.program);if(o){let l=o.lookupOverload(1);if(l)return l.signature.returnType}return n==0&&this.error(2329,s.range,a.toString()),null}resolveBuiltinReturnTypeType(e,t,i=null,n=0){let s=this.ensureOneTypeArgument(e,n);if(!s)return null;var a=this.resolveType(s,t,i,n);if(!a)return null;var o=a.getSignature();return o?o.returnType:(n==0&&this.error(2757,s.range,a.toString()),null)}resolveBuiltinNotNullableType(e,t,i=null,n=0){let s=this.ensureOneTypeArgument(e,n);if(!s)return null;var a=this.resolveType(s,t,i,n);return a?a.isNullableReference?a.nonNullableType:a:null}resolveTypeName(e,t,i=0){var n=t.lookup(e.identifier.text,!0);if(!n)return i==0&&this.error(2304,e.range,e.identifier.text),null;for(var s=e,a=e.next;a;){if(!(n=n.getMember(a.identifier.text)))return i==0&&this.error(2339,a.range,a.identifier.text,s.identifier.text),null;s=a,a=a.next}return n}resolveTypeArguments(e,t,i,n=re(),s=null,a=0){var o=0,l=0;for(let f=0,E=e.length;f<E;++f)e[f].defaultType||++o,++l;var p=t?t.length:0;if(p<o||p>l)return a==0&&this.error(2558,p?se.join(t[0].range,t[p-1].range):s.range,(p<o?o:l).toString(),p.toString()),null;var c=new Array(l),_=re(n);n.clear();for(let f=0;f<l;++f){let E=f<p?this.resolveType(t[f],i,_,a):this.resolveType(assert(e[f].defaultType),i,re(n),a);if(!E)return null;n.set(e[f].name.text,E),c[f]=E}return c}maybeInferCall(e,t,i,n=0){var s=e.typeArguments;if(s)return t.is(32768)?this.resolveFunctionInclTypeArguments(t,s,i.actualFunction,re(i.contextualTypeArguments),e,n):(n==0&&this.error(2315,e.expression.range,t.internalName),null);if(t.is(32768)){let a=re(i.contextualTypeArguments),o=assert(t.typeParameterNodes),l=o.length,p=new Set;for(let b=0;b<l;++b){let x=o[b].name.text;a.set(x,u.auto),p.add(x)}let c=t.functionTypeNode.parameters,_=c.length,f=e.args,E=f.length;for(let b=0;b<_;++b){let x=b<E?f[b]:c[b].initializer;if(!x)return n==0&&this.error(2554,e.range,_.toString(),E.toString()),null;let S=c[b].type;if(S.hasGenericComponent(o)){let v=this.resolveExpression(x,i,u.auto,1);v&&this.propagateInferredGenericTypes(S,v,i,a,p)}}let g=new Array(l);for(let b=0;b<l;++b){let x=o[b],S=x.name.text;if(a.has(S)){let v=assert(a.get(S));if(v!=u.auto){g[b]=v;continue}let L=x.defaultType;if(L){let O=this.resolveType(L,i.actualFunction,a,n);if(!O)return null;g[b]=O;continue}}return n==0&&this.error(1140,e.expression.range.atEnd),null}return this.resolveFunction(t,g,re(i.contextualTypeArguments),n)}return this.resolveFunction(t,null,re(),n)}propagateInferredGenericTypes(e,t,i,n,s){if(e.kind==1){let a=e,o=a.typeArguments;if(o&&o.length>0){let l=t.classReference;if(l){let p=this.resolveTypeName(a.name,i.actualFunction);if(!p||p.kind!=6)return;if(l.prototype==p){let c=l.typeArguments;if(c&&c.length==o.length){for(let _=0,f=c.length;_<f;++_)this.propagateInferredGenericTypes(o[_],c[_],i,n,s);return}}}}else{let l=a.name.identifier.text;if(n.has(l)){let p=assert(n.get(l));(p==u.auto||s.has(l)&&p.isAssignableTo(t))&&n.set(l,t)}}}else if(e.kind==2){let a=e,o=a.parameters;if(o&&o.length>0){let l=t.signatureReference;if(l){let p=l.parameterTypes,c=l.thisType;if(p.length==o.length&&!c==!a.explicitThisType){for(let _=0,f=p.length;_<f;++_)this.propagateInferredGenericTypes(o[_].type,p[_],i,n,s);this.propagateInferredGenericTypes(a.returnType,l.returnType,i,n,s),c&&this.propagateInferredGenericTypes(a.explicitThisType,c,i,n,s);return}}}}}getTypeOfElement(e){var t=e.kind;if(t==0&&!this.ensureResolvedLazyGlobal(e,1))return null;if(No(t)){let i=e.type,n=i.getClassOrWrapper(this.program);if(n){let s=n.wrappedType;s&&(i=s)}return i}return null}getElementOfType(e){let t=e.getClassOrWrapper(this.program);return t||null}lookupExpression(e,t,i=u.auto,n=0){for(;e.kind==20;)e=e.expression;switch(e.kind){case 7:return this.lookupAssertionExpression(e,t,i,n);case 8:return this.lookupBinaryExpression(e,t,i,n);case 9:return this.lookupCallExpression(e,t,i,n);case 11:return this.lookupCommaExpression(e,t,i,n);case 12:return this.lookupElementAccessExpression(e,t,i,n);case 14:return this.lookupFunctionExpression(e,t,i,n);case 6:case 13:case 18:case 25:return this.lookupIdentifierExpression(e,t,t.actualFunction,n);case 24:return this.lookupThisExpression(e,t,i,n);case 23:return this.lookupSuperExpression(e,t,i,n);case 15:return this.lookupInstanceOfExpression(e,t,i,n);case 16:return this.lookupLiteralExpression(e,t,i,n);case 17:return this.lookupNewExpression(e,t,i,n);case 21:return this.lookupPropertyAccessExpression(e,t,i,n);case 22:return this.lookupTernaryExpression(e,t,i,n);case 27:return this.lookupUnaryPostfixExpression(e,t,i,n);case 28:return this.lookupUnaryPrefixExpression(e,t,i,n)}return assert(!1),null}resolveExpression(e,t,i=u.auto,n=0){for(;e.kind==20;)e=e.expression;switch(e.kind){case 7:return this.resolveAssertionExpression(e,t,i,n);case 8:return this.resolveBinaryExpression(e,t,i,n);case 9:return this.resolveCallExpression(e,t,i,n);case 11:return this.resolveCommaExpression(e,t,i,n);case 12:return this.resolveElementAccessExpression(e,t,i,n);case 14:return this.resolveFunctionExpression(e,t,i,n);case 6:case 13:case 18:case 25:return this.resolveIdentifierExpression(e,t,i,t.actualFunction,n);case 24:return this.resolveThisExpression(e,t,i,n);case 23:return this.resolveSuperExpression(e,t,i,n);case 15:return this.resolveInstanceOfExpression(e,t,i,n);case 16:return this.resolveLiteralExpression(e,t,i,n);case 17:return this.resolveNewExpression(e,t,i,n);case 21:return this.resolvePropertyAccessExpression(e,t,i,n);case 22:return this.resolveTernaryExpression(e,t,i,n);case 27:return this.resolveUnaryPostfixExpression(e,t,i,n);case 28:return this.resolveUnaryPrefixExpression(e,t,i,n)}return assert(!1),null}lookupIdentifierExpression(e,t,i=t.actualFunction,n=0){switch(e.kind){case 25:case 13:case 18:{let l=this.resolveIdentifierExpression(e,t,u.auto,i,n);return l?this.getElementOfType(l):null}}var s=e.text,a;if(a=t.lookup(s))return this.currentThisExpression=null,this.currentElementExpression=null,a;var o=t.outer;return o&&(a=o.lookup(s))?(this.currentThisExpression=null,this.currentElementExpression=null,a):(a=i.lookup(s))?(this.currentThisExpression=null,this.currentElementExpression=null,a):(a=this.program.lookup(s))?(this.currentThisExpression=null,this.currentElementExpression=null,a):(n==0&&this.error(2304,e.range,s),null)}resolveIdentifierExpression(e,t,i=u.auto,n=t.actualFunction,s=0){switch(e.kind){case 25:case 13:return u.bool;case 18:{let l=i.getClass();if(l)return l.type.asNullable();{let p=i.getSignature();if(p)return p.type.asNullable();if(i.isExternalReference)return i}return this.program.options.usizeType}}var a=this.lookupIdentifierExpression(e,t,n,s);if(!a)return null;if(a.kind==4){let l=this.resolveFunction(a,null,re(),s);if(!l)return null;a=l}var o=this.getTypeOfElement(a);return o||s==0&&this.error(225,e.range),o}ensureResolvedLazyGlobal(e,t=0){if(e.is(2097152))return!0;var i,n=e.typeNode;return n?i=this.resolveType(n,e.parent,null,t):i=this.resolveExpression(assert(e.initializerNode),e.file.startFunction.flow,u.auto,t),i?(e.setType(i),!0):!1}lookupPropertyAccessExpression(e,t,i,n=0){var s=e.expression,a=this.lookupExpression(s,t,i,n);if(!a)return null;var o=e.property.text;switch(a.kind){case 0:if(!this.ensureResolvedLazyGlobal(a,n))return null;case 3:case 1:case 11:{let l=a,p=l.type;assert(p!=u.void);let c=p.getClassOrWrapper(this.program);if(!c)return n==0&&this.error(2339,e.property.range,o,l.type.toString()),null;a=c;break}case 12:{let l=this.resolveProperty(a,n);if(!l)return null;a=l}case 13:{let l=a,c=assert(l.getterInstance).signature.returnType,_=c.getClassOrWrapper(this.program);if(!_)return n==0&&this.error(2339,e.property.range,o,c.toString()),null;a=_;break}case 17:{let p=a.parent;assert(p.kind==7);let c=p,_=assert(this.currentElementExpression),f=c.lookupOverload(1);if(!f)return n==0&&this.error(2329,_.range,p.internalName),null;let E=f.signature.returnType,g=E.getClassOrWrapper(this.program);if(!g)return n==0&&this.error(2339,e.property.range,o,E.toString()),null;a=g;break}case 4:{let l=a.shadowType;if(l){if(!l.is(2097152)){let c=this.resolveType(l.typeNode,l.parent,null,n);c&&l.setType(c)}let p=l.type.classReference;p&&(a=p.prototype);break}else if(!a.is(32768)&&!a.getMember(o)){let c=this.resolveFunction(a,null,re(),1);if(c){let _=c.type.getClassOrWrapper(this.program);_&&(a=_)}}break}}switch(a.kind){case 6:case 8:case 7:case 9:{do{let l=a.getMember(o);if(l){if(l.kind==12){let p=this.resolveProperty(l,n);if(!p)return null;l=p,p.is(32)?this.currentThisExpression=null:this.currentThisExpression=s}else this.currentThisExpression=s;return this.currentElementExpression=null,l}if(a.kind==6||a.kind==8){let c=a.basePrototype;if(c)a=c;else break}else if(a.kind==7||a.kind==9){let c=a.base;if(c)a=c;else break}else break}while(!0);break}default:{let l=a.getMember(o);if(l)return this.currentThisExpression=s,this.currentElementExpression=null,l;break}}return n==0&&this.error(2339,e.property.range,o,a.internalName),null}resolvePropertyAccessExpression(e,t,i,n=0){var s=this.lookupPropertyAccessExpression(e,t,i,n);if(!s)return null;var a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}lookupElementAccessExpression(e,t,i,n=0){var s=e.expression,a=this.resolveExpression(s,t,i,n);if(!a)return null;let o=a.getClassOrWrapper(this.program);if(o)do{let l=o.indexSignature;if(l)return this.currentThisExpression=s,this.currentElementExpression=e.elementExpression,l;o=o.base}while(o);return n==0&&this.error(2329,s.range,a.toString()),null}resolveElementAccessExpression(e,t,i,n=0){var s=this.lookupElementAccessExpression(e,t,i,n);if(!s)return null;var a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}determineIntegerLiteralType(e,t){if(t.isValue)switch(t.kind){case 0:{if(i64_is_i8(e))return u.i8;break}case 5:{if(i64_is_u8(e))return u.u8;break}case 1:{if(i64_is_i16(e))return u.i16;break}case 6:{if(i64_is_u16(e))return u.u16;break}case 2:{if(i64_is_i32(e))return u.i32;break}case 7:{if(i64_is_u32(e))return u.u32;break}case 10:{if(i64_is_bool(e))return u.bool;break}case 4:{if(!this.program.options.isWasm64){if(i64_is_i32(e))return u.isize32;break}return u.isize64}case 9:{if(!this.program.options.isWasm64){if(i64_is_u32(e))return u.usize32;break}return u.usize64}case 3:return u.i64;case 8:return u.u64;case 11:return u.f32;case 12:return u.f64}return i64_is_i32(e)?u.i32:i64_is_u32(e)?u.u32:u.i64}lookupAssertionExpression(e,t,i=u.auto,n=0){switch(e.assertionKind){case 1:case 0:{let s=this.resolveType(assert(e.toType),t.actualFunction,t.contextualTypeArguments,n);if(!s)return null;let a=this.getElementOfType(s);return a||(n==0&&this.error(214,e.range,s.toString()),this.currentThisExpression=null,this.currentElementExpression=null,null)}case 2:return this.lookupExpression(e.expression,t,i,n);case 3:return this.error(100,e.range,"Const assertion"),null}return assert(!1),null}resolveAssertionExpression(e,t,i=u.auto,n=0){switch(e.assertionKind){case 1:case 0:return this.resolveType(assert(e.toType),t.actualFunction,t.contextualTypeArguments,n);case 2:{let s=this.resolveExpression(e.expression,t,i,n);return s?s.nonNullableType:null}case 3:{let s=this.lookupExpression(e,t,i,n);if(!s)return null;let a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}default:assert(!1)}return null}lookupUnaryPrefixExpression(e,t,i=u.auto,n=0){var s=this.resolveUnaryPrefixExpression(e,t,i,n);if(!s)return null;var a=this.getElementOfType(s);return a||n==0&&this.error(2469,e.range,ye(e.operator),s.toString()),a}resolveUnaryPrefixExpression(e,t,i=u.auto,n=0){var s=e.operand,a=e.operator;switch(a){case 81:if(s.isLiteralKind(1))return this.determineIntegerLiteralType(i64_sub(i64_zero,s.value),i);case 80:case 86:case 87:{let o=this.resolveExpression(s,t,i,n);if(!o)return null;let l=o.getClassOrWrapper(this.program);if(l){let p=l.lookupOverload(Le.fromUnaryPrefixToken(a));if(p)return p.signature.returnType}return o.isNumericValue?o:(n==0&&this.error(2469,e.range,ye(a),o.toString()),null)}case 94:{let o=this.resolveExpression(s,t,i,n);if(!o)return null;let l=o.getClassOrWrapper(this.program);if(l){let p=l.lookupOverload(25);if(p)return p.signature.returnType}return u.bool}case 95:{let o=this.resolveExpression(s,t,i,n);if(!o)return null;let l=o.getClassOrWrapper(this.program);if(l){let p=l.lookupOverload(26);if(p)return p.signature.returnType}return o.isNumericValue?o.intType:(n==0&&this.error(2469,e.range,"~",o.toString()),null)}case 68:return n==0&&this.error(100,e.range,"Spread operator"),null;default:assert(!1)}return null}lookupUnaryPostfixExpression(e,t,i=u.auto,n=0){var s=this.resolveUnaryPostfixExpression(e,t,i,n);if(!s)return null;var a=this.getElementOfType(s);return a||n==0&&this.error(2469,e.range,ye(e.operator),s.toString()),a}resolveUnaryPostfixExpression(e,t,i=u.auto,n=0){var s=e.operator;switch(s){case 86:case 87:{let a=this.resolveExpression(e.operand,t,i,n);if(!a)return null;let o=a.getClassOrWrapper(this.program);if(o){let l=o.lookupOverload(Le.fromUnaryPostfixToken(s));if(l)return l.signature.returnType}return a.isNumericValue?a:(n==0&&this.error(2469,e.range,ye(s),a.toString()),null)}}return assert(!1),null}lookupBinaryExpression(e,t,i=u.auto,n=0){var s=this.resolveBinaryExpression(e,t,i,n);if(!s)return null;var a=this.getElementOfType(s);return a||(n==0&&this.error(214,e.range,s.toString()),null)}resolveBinaryExpression(e,t,i=u.auto,n=0){var s=e.left,a=e.right,o=e.operator;switch(o){case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:return this.resolveExpression(s,t,i,n);case 71:case 72:case 73:case 74:{let l=this.resolveExpression(s,t,i,n);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(Le.fromBinaryToken(o));if(c)return c.signature.returnType}return l.isNumericValue?u.bool:(n==0&&this.error(2469,e.range,ye(o),l.toString()),null)}case 75:case 76:{let l=this.resolveExpression(s,t,i,n);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(Le.fromBinaryToken(o));if(c)return c.signature.returnType}return u.bool}case 77:case 78:return u.bool;case 80:case 81:case 83:case 84:case 85:case 82:{let l=this.resolveExpression(s,t,i,n);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let f=p.lookupOverload(Le.fromBinaryToken(o));if(f)return f.signature.returnType}let c=this.resolveExpression(a,t,l,n);if(!c)return null;let _=u.commonDenominator(l,c,!1);return _||n==0&&this.error(2365,e.range,l.toString(),c.toString()),_}case 88:case 89:case 90:{let l=this.resolveExpression(s,t,i,n);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(Le.fromBinaryToken(o));if(c)return c.signature.returnType}return l.isIntegerValue?l:(n==0&&this.error(2469,e.range,ye(o),l.toString()),null)}case 91:case 92:case 93:{let l=this.resolveExpression(s,t,i,n);if(!l)return null;let p=l.getClassOrWrapper(this.program);if(p){let f=p.lookupOverload(Le.fromBinaryToken(o));if(f)return f.signature.returnType}let c=this.resolveExpression(a,t,i,n);if(!c)return null;let _=u.commonDenominator(l,c,!1);return(!_||!_.isIntegerValue)&&n==0&&this.error(2365,e.range,ye(o),l.toString(),c.toString()),_}case 96:case 97:return this.resolveExpression(s,t,i,n)}return assert(!1),null}lookupThisExpression(e,t,i=u.auto,n=0){if(t.isInline){let a=t.lookupLocal(w.this_);if(a)return this.currentThisExpression=null,this.currentElementExpression=null,a}var s=t.actualFunction.parent;return s?(this.currentThisExpression=null,this.currentElementExpression=null,s):(n==0&&this.error(2332,e.range),null)}resolveThisExpression(e,t,i=u.auto,n=0){var s=this.lookupThisExpression(e,t,i,n);if(!s)return null;var a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}lookupSuperExpression(e,t,i=u.auto,n=0){if(t.isInline){let a=t.lookupLocal(w.super_);if(a)return this.currentThisExpression=null,this.currentElementExpression=null,a}var s=t.actualFunction.parent;if(s&&s.kind==7){let a=s.base;if(a)return this.currentThisExpression=null,this.currentElementExpression=null,a}return n==0&&this.error(2335,e.range),null}resolveSuperExpression(e,t,i=u.auto,n=0){var s=this.lookupSuperExpression(e,t,i,n);if(!s)return null;var a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}lookupLiteralExpression(e,t,i=u.auto,n=0){switch(this.currentThisExpression=e,this.currentElementExpression=null,e.literalKind){case 1:{let s=this.determineIntegerLiteralType(e.value,i);return assert(s.getClassOrWrapper(this.program))}case 0:{let s=i==u.f32?u.f32:u.f64;return assert(s.getClassOrWrapper(this.program))}case 2:case 3:return this.program.stringInstance;case 5:{let s=i.getClass();if(s&&s.prototype==this.program.arrayPrototype)return this.getElementOfType(i);let a=e.elementExpressions,o=a.length,l=u.auto,p=0;for(let c=0,_=o;c<_;++c){let f=a[c];if(f)if(f.kind==18&&o>1)++p;else{let E=this.resolveExpression(f,t,l);if(!E)return null;if(l==u.auto)l=E;else if(E!=l){let g=u.commonDenominator(l,E,!1);g&&(l=g)}}}if(l==u.auto)if(p==o)l=this.program.options.usizeType;else return n==0&&this.error(2453,e.range,"T"),null;return p>0&&l.isInternalReference&&(l=l.asNullable()),assert(this.resolveClass(this.program.arrayPrototype,[l]))}case 6:return i.isClass?i.classReference:(n==0&&this.error(225,e.range),null)}return assert(!1),null}resolveLiteralExpression(e,t,i=u.auto,n=0){var s=this.lookupLiteralExpression(e,t,i,n);if(!s)return null;var a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}lookupCallExpression(e,t,i=u.void,n=0){var s=this.resolveCallExpression(e,t,i,n);if(!s)return null;var a=this.getElementOfType(s);return a||n==0&&this.error(214,e.range,s.toString()),a}resolveCallExpression(e,t,i=u.void,n=0){var s=e.expression,a=this.lookupExpression(s,t,i,n);if(!a)return null;switch(a.kind){case 4:{let o=a;if(o.internalName==h.unchecked&&e.args.length>0)return this.resolveExpression(e.args[0],t,i,n);let l=this.maybeInferCall(e,o,t,n);return l?l.signature.returnType:null}case 0:case 1:case 11:{let o=a.type,l=this.getElementOfType(o);if(!l||l.kind!=7)break;a=l}case 7:{let o=a.getTypeArgumentsTo(this.program.functionPrototype);if(o&&o.length>0){let l=o[0];return assert(l.signatureReference).returnType}break}}return n==0&&this.error(2349,s.range,a.internalName),null}lookupCommaExpression(e,t,i=u.auto,n=0){var s=e.expressions;return this.lookupExpression(s[assert(s.length)-1],t,i,n)}resolveCommaExpression(e,t,i=u.auto,n=0){var s=e.expressions;return this.resolveExpression(s[assert(s.length)-1],t,i,n)}lookupInstanceOfExpression(e,t,i=u.auto,n=0){return assert(u.bool.getClassOrWrapper(this.program))}resolveInstanceOfExpression(e,t,i=u.auto,n=0){return u.bool}lookupTernaryExpression(e,t,i,n=0){var s=this.resolveTernaryExpression(e,t,i,n);if(!s)return null;var a=this.getElementOfType(s);return a||n==0&&this.error(214,e.range,s.toString()),a}resolveTernaryExpression(e,t,i,n=0){var s=this.resolveExpression(e.ifThen,t,i,n);if(!s)return null;var a=this.resolveExpression(e.ifElse,t,s,n);if(!a)return null;var o=u.commonDenominator(s,a,!1);return o||n==0&&this.error(2365,e.range,"?:",s.toString(),a.toString()),o}lookupNewExpression(e,t,i,n=0){var s=this.resolveTypeName(e.typeName,t.actualFunction,n);return s?s.kind==6?this.resolveClassInclTypeArguments(s,e.typeArguments,t.actualFunction,re(t.contextualTypeArguments),e,n):(n==0&&this.error(2351,e.range),null):null}resolveNewExpression(e,t,i,n=0){var s=this.lookupNewExpression(e,t,i,n);if(!s)return null;var a=this.getTypeOfElement(s);return a||n==0&&this.error(225,e.range),a}lookupFunctionExpression(e,t,i,n=0){var s=this.resolveFunctionExpression(e,t,i,n);if(!s)return null;var a=this.getElementOfType(s);return a||n==0&&this.error(214,e.range,s.toString()),a}resolveFunctionExpression(e,t,i,n=0){return this.resolveFunctionType(e.declaration.signature,t.actualFunction,t.contextualTypeArguments,n)}resolveFunction(e,t,i=re(),n=0){var s=e.parent.kind==12?e.parent.parent:e.parent,a=null,o=t?Gn(t):"";if(e.is(131072)){assert(s.kind==7||s.kind==9),a=s;let C=e.getResolvedInstance(o);if(C)return C;let k=a.typeArguments;if(k){let D=assert(a.prototype.typeParameterNodes),Y=D.length;assert(Y==D.length);for(let z=0;z<Y;++z){let K=D[z].name.text;i.set(K,k[z])}}}else{assert(s.kind!=7);let C=e.getResolvedInstance(o);if(C)return C}var l=e.functionTypeNode,p=e.typeParameterNodes,c;if(t&&(c=t.length)>0){assert(p&&c==p.length);for(let C=0;C<c;++C)i.set(p[C].name.text,t[C])}else assert(!p||p.length==0);var _=null,f=l.explicitThisType;if(f){if(_=this.resolveType(f,e.parent,i,n),!_)return null;i.set(w.this_,_)}else a&&(_=a.type,i.set(w.this_,_));var E=l.parameters,g=E.length,b=new Array(g),x=0;for(let C=0;C<g;++C){let k=E[C];k.parameterKind==0&&(x=C+1);let D=k.type;if(xe(D))return n==0&&this.error(1110,D.range),null;let Y=this.resolveType(D,e.parent,i,n);if(!Y)return null;if(Y==u.void)return n==0&&this.error(1110,D.range),null;b[C]=Y}var S;if(e.is(4096))S=u.void;else if(e.is(262144))S=a.type;else{let C=l.returnType;if(xe(C))return n==0&&this.error(1110,C.range),null;let k=this.resolveType(C,e.parent,i,n);if(!k)return null;S=k}var v=new ve(this.program,b,S,_);v.requiredParameters=x;var L=e.name;o.length&&(L+="<"+o+">");var O=new je(L,e,t,v,i);if(e.setResolvedInstance(o,O),a){let C=O.declaration.name.text,k=a.base;for(;k;){let D=k.members;if(D&&D.has(C)){this.discoveredOverload=!0;break}k=k.base}}return O}resolveFunctionInclTypeArguments(e,t,i,n,s,a=0){var o=e.parent.kind==12?e.parent.parent:e.parent,l=null;if(e.is(32768)){if(e.is(131072)){assert(o.kind==7);let p=o,c=p.typeArguments;if(c){let _=assert(p.prototype.typeParameterNodes),f=c.length;assert(f==_.length);for(let E=0;E<f;++E)n.set(_[E].name.text,c[E])}}if(l=this.resolveTypeArguments(assert(e.typeParameterNodes),t,i,n,s,a),!l)return null}else if(t&&t.length>0)return a==0&&this.error(2315,s.range,e.internalName),null;return this.resolveFunction(e,l,n,a)}resolveOverloads(e){var t=e.prototype.overloads;if(!t)return null;var i=assert(e.getClassOrInterface()),n=new Set;for(let s=Set_values(t),a=0,o=s.length;a<o;++a){let l=s[a];assert(!l.isBound);let p=l.parent,c=p.kind==12,_;if(c){let f=p.parent;assert(f.kind==6),_=f.instances}else assert(p.kind==6),_=p.instances;if(!!_)for(let f=Map_values(_),E=0,g=f.length;E<g;++E){let b=f[E];if(!b.isAssignableTo(i))continue;let x;if(c){let S=assert(b.members.get(p.name));assert(S.kind==12);let v=this.resolveProperty(S);if(!v)continue;e.is(2048)?x=v.getterInstance:(assert(e.is(4096)),x=v.setterInstance)}else{let S=assert(b.members.get(l.name));assert(S.kind==4),x=this.resolveFunction(S,e.typeArguments)}x&&n.add(x)}}return Set_values(n)}resolveClass(e,t,i=re(),n=0){var s=t?Gn(t):"",a=e.getResolvedInstance(s);if(a)return a;var o=e.name;s.length&&(o+="<"+s+">"),e.kind==8?a=new Jn(o,e,t):a=new Li(o,e,t),e.setResolvedInstance(s,a);var l=this.resolveClassPending;if(l.add(a),t){let f=assert(e.typeParameterNodes),E=f.length,g=t.length;assert(g==E);for(let b=0;b<g;++b)i.set(f[b].name.text,t[b])}else{let f=e.typeParameterNodes;assert(!(f&&f.length>0))}a.contextualTypeArguments=i;var p=!1,c=e.basePrototype;if(c){let f=c;do{if(f==e)return this.error(2506,e.identifierNode.range,e.internalName),null;f=f.basePrototype}while(f);let E=assert(e.extendsNode),g=this.resolveClassInclTypeArguments(c,E.typeArguments,e.parent,re(i),E,n);if(!g)return null;a.setBase(g),l.has(g)&&(p=!0)}var _=e.interfacePrototypes;if(_)for(let f=0,E=_.length;f<E;++f){let g=_[f],b=g;do{if(b==e)return this.error(2506,e.identifierNode.range,e.internalName),null;b=b.basePrototype}while(b);let x=assert(e.implementsNodes[f]),S=this.resolveClassInclTypeArguments(g,x.typeArguments,e.parent,re(i),x,n);if(!S)return null;assert(S.kind==9),a.addInterface(S),l.has(S)&&(p=!0)}return p||this.finishResolveClass(a,n),a}finishResolveClass(e,t){var i=e.members;i||(e.members=i=new Map);var n=this.resolveClassPending,s=new Map,a=e.interfaces;if(a)for(let E=Set_values(a),g=0,b=E.length;g<b;++g){let x=E[g];assert(!n.has(x));let S=x.members;if(S)for(let v=Map_keys(S),L=0,O=v.length;L<O;++L){let C=unchecked(v[L]),k=assert(S.get(C));if(i.has(C)){let D=assert(i.get(C));if(!k.isCompatibleOverride(D)){this.errorRelated(2394,k.identifierAndSignatureRange,D.identifierAndSignatureRange);continue}}i.set(C,k),s.set(C,k)}}var o=0,l=e.base;if(l){assert(!n.has(l));let E=l.members;if(E)for(let g=Map_keys(E),b=0,x=g.length;b<x;++b){let S=unchecked(g[b]),v=assert(E.get(S));if(i.has(S)){let L=assert(i.get(S));if(!v.isCompatibleOverride(L)){this.errorRelated(2394,v.identifierAndSignatureRange,L.identifierAndSignatureRange);continue}}i.set(S,v),v.is(128)?s.set(S,v):s.delete(S)}o=l.nextMemoryOffset}var p=e.prototype,c=p.instanceMembers,_=new Array;if(c)for(let E=Map_values(c),g=0,b=E.length;g<b;++g){let x=unchecked(E[g]),S=x.name;switch(x.kind){case 10:{let v=x,L=v.typeNode,O=null,C=null;if(l){let D=l.members;if(D&&D.has(v.name)){let Y=assert(D.get(v.name));Y.kind==11?C=Y:this.errorRelated(2300,v.identifierNode.range,Y.identifierNode.range,v.name)}}if(!L)C&&!C.is(512)&&(O=C.type),O||t==0&&this.error(1110,v.identifierNode.range.atEnd);else if(O=this.resolveType(L,p.parent,e.contextualTypeArguments,t),O==u.void){t==0&&this.error(1110,L.range);break}if(!O)break;if(C){let D=l;v.is(512)?C.is(512)?this.errorRelated(2442,v.identifierNode.range,C.identifierNode.range,v.name):this.errorRelated(2325,v.identifierNode.range,C.identifierNode.range,v.name,e.internalName,D.internalName):v.is(1024)?C.is(512)?this.errorRelated(2325,v.identifierNode.range,C.identifierNode.range,v.name,D.internalName,e.internalName):C.is(1024)||this.errorRelated(2444,v.identifierNode.range,C.identifierNode.range,v.name,e.internalName,D.internalName):C.is(512)&&this.errorRelated(2325,v.identifierNode.range,C.identifierNode.range,v.name,D.internalName,e.internalName),O.isStrictlyAssignableTo(C.type)||this.errorRelated(2416,v.identifierNode.range,C.identifierNode.range,v.name,e.internalName,D.internalName)}let k=new Qn(v,e,O);if(assert(ht(O.byteSize)),C)k.memoryOffset=C.memoryOffset;else{let D=O.byteSize-1;o&D&&(o=(o|D)+1),k.memoryOffset=o,o+=O.byteSize}e.add(S,k);break}case 4:{let v=x.toBound(e);e.add(v.name,v);break}case 12:{let v=x.toBound(e);e.add(v.name,v);break}default:assert(!1)}x.is(128)||s.delete(S)}for(let E=0,g=_.length;E<g;++E){let b=_[E],x=b.getterInstance;if(!x)this.error(229,b.identifierNode.range,b.name);else{let S=b.setterInstance;S&&!x.visibilityEquals(S)&&this.errorRelated(2379,x.identifierNode.range,S.identifierNode.range)}}if(e.kind!=9){if(!e.is(128)&&s.size>0)for(let E=Map_keys(s),g=0,b=E.length;g<b;++g){let x=E[g],S=assert(s.get(x));this.errorRelated(2515,e.identifierNode.range,S.identifierNode.range,e.internalName,x,S.parent.internalName)}e.nextMemoryOffset=o;{let E=e.getMember(w.constructor);if(E&&E.parent==e){assert(E.kind==4);let g=this.resolveFunction(E,null,assert(e.contextualTypeArguments),t);g&&(e.constructorInstance=g)}}}var f=p.overloadPrototypes;for(let E=Map_keys(f),g=0,b=E.length;g<b;++g){let x=unchecked(E[g]),S=assert(f.get(x));if(assert(x!=0),S.is(32768))continue;let v;if(S.is(131072)){let O=S.toBound(e);v=this.resolveFunction(O,null,re(),t)}else v=this.resolveFunction(S,null,re(),t);if(!v)continue;let L=e.overloads;if(L||(e.overloads=L=new Map),v.is(131072))switch(x){case 27:case 28:case 29:case 30:{let O=v.signature.returnType;O.isAssignableTo(e.type)||t==0&&this.error(2322,S.functionTypeNode.returnType.range,O.toString(),e.type.toString())}}if(L.has(x))t==0&&this.error(213,v.declaration.range);else if(L.set(x,v),x==1||x==2){let O=e.indexSignature;O||(e.indexSignature=O=new jn(e)),x==1&&O.setType(v.signature.returnType)}}assert(n.has(e)),n.delete(e);for(let E=Set_values(n),g=0,b=E.length;g<b;++g){let x=E[g],S=x.base==e,v=x.interfaces;if(v){let L=!1;for(let O=Set_values(v),C=0,k=O.length;C<k;++C){let D=O[C];D==e?S=!0:n.has(D)&&(L=!0)}if(L)continue}S&&this.finishResolveClass(x,t)}}resolveClassInclTypeArguments(e,t,i,n,s,a=0){var o=null;if(e.is(32768)){if(o=this.resolveTypeArguments(assert(e.typeParameterNodes),t,i,n,s,a),!o)return null}else if(t&&t.length>0)return a==0&&this.error(2315,s.range,e.internalName),null;return this.resolveClass(e,o,n,a)}resolveProperty(e,t=0){var i=e.instance;if(i)return i;e.instance=i=new Zn(e,e);var n=e.getterPrototype;if(n){let a=this.resolveFunction(n,null,re(),t);a&&(i.getterInstance=a,i.setType(a.signature.returnType))}var s=e.setterPrototype;if(s){let a=this.resolveFunction(s,null,re(),t);a&&(i.setterInstance=a,i.is(2097152)||(assert(a.signature.parameterTypes.length==1),i.setType(a.signature.parameterTypes[0])))}return i}ensureOneTypeArgument(e,t=0){var i=e.typeArguments;let n=0;return!i||(n=i.length)!=1?(t==0&&this.error(2558,e.range,"1",n.toString()),null):i[0]}};var $n=class{constructor(){this.stack=new Array;this._currentExpression=0}get currentExpression(){var e=this._currentExpression;if(!e)throw new Error("not walking expressions");return e}get parentExpressionOrNull(){var e=this.stack,t=e.length;return t?e[t-1]:0}visitBlock(e){}visitIf(e){}visitLoop(e){}visitBreak(e){}visitSwitch(e){}visitCallPre(e){}visitCall(e){}visitCallIndirectPre(e){}visitCallIndirect(e){}visitLocalGet(e){}visitLocalSet(e){}visitGlobalGet(e){}visitGlobalSet(e){}visitLoad(e){}visitStore(e){}visitConst(e){}visitUnary(e){}visitBinary(e){}visitSelect(e){}visitDrop(e){}visitReturn(e){}visitMemorySize(e){}visitMemoryGrow(e){}visitNop(e){}visitUnreachable(e){}visitAtomicRMW(e){}visitAtomicCmpxchg(e){}visitAtomicWait(e){}visitAtomicNotify(e){}visitAtomicFence(e){}visitSIMDExtract(e){}visitSIMDReplace(e){}visitSIMDShuffle(e){}visitSIMDTernary(e){}visitSIMDShift(e){}visitSIMDLoad(e){}visitSIMDLoadStoreLane(e){}visitMemoryInit(e){}visitDataDrop(e){}visitMemoryCopy(e){}visitMemoryFill(e){}visitPop(e){}visitRefNull(e){}visitRefIs(e){}visitRefFunc(e){}visitRefEq(e){}visitTry(e){}visitThrow(e){}visitRethrow(e){}visitTupleMake(e){}visitTupleExtract(e){}visitI31New(e){}visitI31Get(e){}visitCallRef(e){}visitRefTest(e){}visitRefCast(e){}visitBrOn(e){}visitRttCanon(e){}visitRttSub(e){}visitStructNew(e){}visitStructGet(e){}visitStructSet(e){}visitArrayNew(e){}visitArrayGet(e){}visitArraySet(e){}visitArrayLen(e){}visitRefAs(e){}visitName(e){}visitLabel(e){}visitIndex(e){}visitTag(e){}visit(e){let t=this._currentExpression;switch(this._currentExpression=assert(e),nt(e)){case 1:{this.stack.push(e);let i=Ci(e);i&&this.visitLabel(i);for(let n=0,s=Hr(e);n<s;++n)this.visit(Kr(e,n));assert(this.stack.pop()==e),this.visitBlock(e);break}case 2:{this.stack.push(e),this.visit(Fi(e)),this.visit(ki(e));let i=Pi(e);i&&this.visit(i),assert(this.stack.pop()==e),this.visitIf(e);break}case 3:{this.stack.push(e);let i=es(e);i&&this.visitLabel(i),this.visit(Oi(e)),assert(this.stack.pop()==e),this.visitLoop(e);break}case 4:{this.stack.push(e),this.visitLabel(ts(e));let i=Xr(e);i&&this.visit(i);let n=Lo(e);n&&this.visit(n),assert(this.stack.pop()==e),this.visitBreak(e);break}case 5:{this.stack.push(e);let i=op(e);i&&this.visitLabel(i);let n=sp(e);for(let a=0;a<n;++a)this.visitLabel(ap(e,a));this.visit(Co(e));let s=Fo(e);s&&this.visit(s),assert(this.stack.pop()==e),this.visitSwitch(e);break}case 6:{this.visitCallPre(e),this.stack.push(e),this.visitName(qr(e));let i=Mt(e);for(let n=0;n<i;++n)this.visit(Ut(e,n));assert(this.stack.pop()==e),this.visitCall(e);break}case 7:{this.visitCallIndirectPre(e),this.stack.push(e),this.visit(ko(e));for(let i=0,n=wi(e);i<n;++i)this.visit(Mi(e,i));assert(this.stack.pop()==e),this.visitCallIndirect(e);break}case 8:{this.stack.push(e),this.visitIndex(Qr(e)),assert(this.stack.pop()==e),this.visitLocalGet(e);break}case 9:{this.stack.push(e),this.visitIndex(Bt(e)),this.visit(sr(e)),assert(this.stack.pop()==e),this.visitLocalSet(e);break}case 10:{this.stack.push(e),this.visitName(ss(e)),assert(this.stack.pop()==e),this.visitGlobalGet(e);break}case 11:{this.stack.push(e),this.visitName(cp(e)),this.visit(Po(e)),assert(this.stack.pop()==e),this.visitGlobalSet(e);break}case 12:{this.stack.push(e),this.visit(Bi(e)),assert(this.stack.pop()==e),this.visitLoad(e);break}case 13:{this.stack.push(e),this.visit(ar(e)),this.visit(Di(e)),assert(this.stack.pop()==e),this.visitStore(e);break}case 14:{this.visitConst(e);break}case 15:{this.stack.push(e),this.visit(Gi(e)),assert(this.stack.pop()==e),this.visitUnary(e);break}case 16:{this.stack.push(e),this.visit(Vi(e)),this.visit(zi(e)),assert(this.stack.pop()==e),this.visitBinary(e);break}case 17:{this.stack.push(e),this.visit(Wi(e)),this.visit(Yi(e)),this.visit(Hi(e)),assert(this.stack.pop()==e),this.visitSelect(e);break}case 18:{this.stack.push(e),this.visit(Ki(e)),assert(this.stack.pop()==e),this.visitDrop(e);break}case 19:{let i=or(e);i&&(this.stack.push(e),this.visit(i),assert(this.stack.pop()==e)),this.visitReturn(e);break}case 20:{this.visitMemorySize(e);break}case 21:{this.stack.push(e),this.visit(Ui(e)),assert(this.stack.pop()==e),this.visitMemoryGrow(e);break}case 22:{this.visitNop(e);break}case 23:{this.visitUnreachable(e);break}case 24:{this.stack.push(e),this.visit(Oo(e)),this.visit(wo(e)),assert(this.stack.pop()==e),this.visitAtomicRMW(e);break}case 25:{this.stack.push(e),this.visit(Mo(e)),this.visit(Uo(e)),this.visit(Bo(e)),assert(this.stack.pop()==e),this.visitAtomicCmpxchg(e);break}case 26:{this.stack.push(e),this.visit(Do(e)),this.visit(Go(e)),this.visit(Vo(e)),assert(this.stack.pop()==e),this.visitAtomicWait(e);break}case 27:{this.stack.push(e),this.visit(zo(e)),this.visit(Wo(e)),assert(this.stack.pop()==e),this.visitAtomicNotify(e);break}case 28:{this.visitAtomicFence(e);break}case 29:{this.stack.push(e),this.visit(Yo(e)),assert(this.stack.pop()==e),this.visitSIMDExtract(e);break}case 30:{this.stack.push(e),this.visit(Ho(e)),this.visit(Ko(e)),assert(this.stack.pop()==e),this.visitSIMDReplace(e);break}case 31:{this.stack.push(e),this.visit(Xo(e)),this.visit(qo(e)),assert(this.stack.pop()==e),this.visitSIMDShuffle(e);break}case 32:{this.stack.push(e),this.visit(Qo(e)),this.visit(Zo(e)),this.visit(jo(e)),assert(this.stack.pop()==e),this.visitSIMDTernary(e);break}case 33:{this.stack.push(e),this.visit(Jo(e)),this.visit($o(e)),assert(this.stack.pop()==e),this.visitSIMDShift(e);break}case 34:{this.stack.push(e),this.visit(el(e)),assert(this.stack.pop()==e),this.visitSIMDLoad(e);break}case 35:{this.stack.push(e),this.visit(tl(e)),this.visit(rl(e)),assert(this.stack.pop()==e),this.visitSIMDLoadStoreLane(e);break}case 36:{this.stack.push(e),this.visit(il(e)),this.visit(nl(e)),this.visit(sl(e)),assert(this.stack.pop()==e),this.visitMemoryInit(e);break}case 37:{this.visitDataDrop(e);break}case 38:{this.stack.push(e),this.visit(al(e)),this.visit(ol(e)),this.visit(ll(e)),assert(this.stack.pop()==e),this.visitMemoryCopy(e);break}case 39:{this.stack.push(e),this.visit(ul(e)),this.visit(pl(e)),this.visit(cl(e)),assert(this.stack.pop()==e),this.visitMemoryFill(e);break}case 40:{this.visitPop(e);break}case 41:{this.visitRefNull(e);break}case 42:{this.stack.push(e),this.visit(_l(e)),assert(this.stack.pop()==e),this.visitRefIs(e);break}case 43:{this.stack.push(e),this.visitName(rc(e)),assert(this.stack.pop()==e),this.visitRefFunc(e);break}case 44:{this.stack.push(e),this.visit(fl(e)),this.visit(hl(e)),assert(this.stack.pop()==e),this.visitRefEq(e);break}case 49:{this.stack.push(e),this.visit(ml(e));let i=dl(e);for(let n=0;n<i;++n)this.visit(El(e,n));assert(this.stack.pop()==e),this.visitTry(e);break}case 50:{this.stack.push(e),this.visitTag(oc(e));let i=yl(e);for(let n=0;n<i;++n)this.visit(gl(e,n));assert(this.stack.pop()==e),this.visitThrow(e);break}case 51:{this.visitRethrow(e);break}case 52:{let i=Tl(e);if(i){this.stack.push(e);for(let n=0;n<i;++n)this.visit(bl(e,n));assert(this.stack.pop()==e)}this.visitTupleMake(e);break}case 53:{this.stack.push(e),this.visit(Il(e)),assert(this.stack.pop()==e),this.visitTupleExtract(e);break}case 54:{this.stack.push(e),this.visit(vl(e)),assert(this.stack.pop()==e),this.visitI31New(e);break}case 55:{this.stack.push(e),this.visit(xl(e)),assert(this.stack.pop()==e),this.visitI31Get(e);break}case 56:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitCallRef(e);break}case 57:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitRefTest(e);break}case 58:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitRefCast(e);break}case 59:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitBrOn(e);break}case 60:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitRttCanon(e);break}case 61:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitRttSub(e);break}case 62:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitStructNew(e);break}case 63:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitStructGet(e);break}case 64:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitStructSet(e);break}case 65:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitArrayNew(e);break}case 67:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitArrayGet(e);break}case 68:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitArraySet(e);break}case 69:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitArrayLen(e);break}case 71:{this.stack.push(e),assert(!1),assert(this.stack.pop()==e),this.visitRefAs(e);break}default:throw new Error("unexpected expression kind")}this._currentExpression=t}},Yr=class extends $n{constructor(e){super();this.module=e;this._currentFunction=0;this._currentGlobal=0}get currentFunction(){var e=this._currentFunction;if(!e)throw new Error("not walking a function");return e}get currentGlobal(){var e=this._currentGlobal;if(!e)throw new Error("not walking a global");return e}walkModule(){this.walkFunctions(),this.walkGlobals()}walkFunctions(){var e=this.module.ref;for(let t=0,i=fc(e);t<i;++t)this.walkFunction(hc(e,t))}walkFunction(e){var t=wt(e);t&&(this._currentFunction=e,this.visit(t),this._currentFunction=0)}walkGlobals(){var e=this.module.ref;for(let t=0,i=mc(e);t<i;++t)this.walkGlobal(dc(e,t))}walkGlobal(e){this._currentGlobal=e;var t=us(e);t&&this.visit(t),this._currentGlobal=0}replaceCurrent(e){var t=this.currentExpression,i=this.currentFunction,n=wt(i);if(n==t)ls(i,e);else{var s=assert(this.parentExpressionOrNull),a=Xd(s,t,e);if(!a)throw Error("failed to replace expression");ju(s)}}};function Xd(r,e,t){switch(nt(r)){case 1:{let i=Hr(r);for(let n=0;n<i;++n){let s=Kr(r,n);if(s==e)return Ju(r,n,t),s}break}case 2:{let i=Fi(r);if(i==e)return $u(r,t),i;let n=ki(r);if(n==e)return ep(r,t),n;let s=Pi(r);if(s==e)return tp(r,t),s;break}case 3:{let i=Oi(r);if(i==e)return rp(r,t),i;break}case 4:{let i=Xr(r);if(i==e)return ip(r,t),i;let n=Lo(r);if(n==e)return np(r,t),n;break}case 5:{let i=Co(r);if(i==e)return lp(r,t),i;let n=Fo(r);if(n==e)return up(r,t),n;break}case 6:{let i=Mt(r);for(let n=0;n<i;++n){let s=Ut(r,n);if(s==e)return rs(r,n,t),s}break}case 7:{let i=ko(r);if(i==e)return pp(r,t),i;let n=wi(r);for(let s=0;s<n;++s){let a=Mi(r,s);if(a==e)return is(r,s,t),a}break}case 8:break;case 9:{let i=sr(r);if(i==e)return ns(r,t),i;break}case 10:break;case 11:{let i=Po(r);if(i==e)return _p(r,t),i;break}case 12:{let i=Bi(r);if(i==e)return hp(r,t),i;break}case 13:{let i=ar(r);if(i==e)return as(r,t),i;let n=Di(r);if(n==e)return mp(r,t),n;break}case 14:break;case 15:{let i=Gi(r);if(i==e)return dp(r,t),i;break}case 16:{let i=Vi(r);if(i==e)return Ep(r,t),i;let n=zi(r);if(n==e)return yp(r,t),n;break}case 17:{let i=Wi(r);if(i==e)return gp(r,t),i;let n=Yi(r);if(n==e)return Tp(r,t),n;let s=Hi(r);if(s==e)return bp(r,t),s;break}case 18:{let i=Ki(r);if(i==e)return Ip(r,t),i;break}case 19:{let i=or(r);if(i==e)return os(r,t),i;break}case 20:break;case 21:{let i=Ui(r);if(i==e)return fp(r,t),i;break}case 22:break;case 23:break;case 24:{let i=Oo(r);if(i==e)return vp(r,t),i;let n=wo(r);if(n==e)return xp(r,t),n;break}case 25:{let i=Mo(r);if(i==e)return Sp(r,t),i;let n=Uo(r);if(n==e)return Rp(r,t),n;let s=Bo(r);if(s==e)return Ap(r,t),s;break}case 26:{let i=Do(r);if(i==e)return Np(r,t),i;let n=Go(r);if(n==e)return Lp(r,t),n;let s=Vo(r);if(s==e)return Cp(r,t),s;break}case 27:{let i=zo(r);if(i==e)return Fp(r,t),i;let n=Wo(r);if(n==e)return kp(r,t),n;break}case 28:break;case 29:{let i=Yo(r);if(i==e)return Pp(r,t),i;break}case 30:{let i=Ho(r);if(i==e)return Op(r,t),i;let n=Ko(r);if(n==e)return wp(r,t),n;break}case 31:{let i=Xo(r);if(i==e)return Mp(r,t),i;let n=qo(r);if(n==e)return Up(r,t),n;break}case 32:{let i=Qo(r);if(i==e)return Bp(r,t),i;let n=Zo(r);if(n==e)return Dp(r,t),n;let s=jo(r);if(s==e)return Gp(r,t),s;break}case 33:{let i=Jo(r);if(i==e)return Vp(r,t),i;let n=$o(r);if(n==e)return zp(r,t),n;break}case 34:{let i=el(r);if(i==e)return Wp(r,t),i;break}case 35:{let i=tl(r);if(i==e)return Yp(r,t),i;if(rl(r)==e)return Hp(r,t),i;break}case 36:{let i=il(r);if(i==e)return Kp(r,t),i;let n=nl(r);if(n==e)return Xp(r,t),n;let s=sl(r);if(s==e)return qp(r,t),s;break}case 37:break;case 38:{let i=al(r);if(i==e)return Qp(r,t),i;let n=ol(r);if(n==e)return Zp(r,t),n;let s=ll(r);if(s==e)return jp(r,t),s;break}case 39:{let i=ul(r);if(i==e)return Jp(r,t),i;let n=pl(r);if(n==e)return $p(r,t),n;let s=cl(r);if(s==e)return ec(r,t),s;break}case 40:break;case 41:break;case 42:{let i=_l(r);if(i==e)return tc(r,t),i;break}case 43:break;case 44:{let i=fl(r);if(i==e)return ic(r,t),i;let n=hl(r);if(n==e)return nc(r,t),n;break}case 49:{let i=ml(r);if(i==e)return sc(r,t),i;let n=dl(r);for(let s=0;s<n;++s){let a=El(r,s);if(a==e)return ac(r,s,t),a}break}case 50:{let i=yl(r);for(let n=0;n<i;++n){let s=gl(r,n);if(s==e)return lc(r,n,t),s}break}case 51:break;case 52:{let i=Tl(r);for(let n=0;n<i;++n){let s=bl(r,n);if(s==e)return uc(r,n,t),s}break}case 53:{let i=Il(r);if(i==e)return pc(r,t),i;break}case 54:{let i=vl(r);if(i==e)return cc(r,t),i;break}case 55:{let i=xl(r);if(i==e)return _c(r,t),i;break}case 56:{assert(!1);break}case 57:{assert(!1);break}case 58:{assert(!1);break}case 59:{assert(!1);break}case 60:{assert(!1);break}case 61:{assert(!1);break}case 62:{assert(!1);break}case 63:{assert(!1);break}case 64:{assert(!1);break}case 65:{assert(!1);break}case 67:{assert(!1);break}case 68:{assert(!1);break}case 69:{assert(!1);break}case 71:{assert(!1);break}default:throw new Error("unexpected expression id")}return 0}var yc=class extends $n{constructor(e=new Set){super();this.used=e}visitLocalGet(e){this.used.add(Qr(e))}visitLocalSet(e){this.used.add(Bt(e))}},Ec=null;function st(r,e=new Set){var t=Ec;return t?t.used=e:Ec=t=new yc(e),t.visit(r),e}var hs=(O=>(O[O.NONE=0]="NONE",O[O.RETURNS=1]="RETURNS",O[O.RETURNS_WRAPPED=2]="RETURNS_WRAPPED",O[O.RETURNS_NONNULL=4]="RETURNS_NONNULL",O[O.THROWS=8]="THROWS",O[O.BREAKS=16]="BREAKS",O[O.CONTINUES=32]="CONTINUES",O[O.ACCESSES_THIS=64]="ACCESSES_THIS",O[O.CALLS_SUPER=128]="CALLS_SUPER",O[O.TERMINATES=256]="TERMINATES",O[O.CONDITIONALLY_RETURNS=512]="CONDITIONALLY_RETURNS",O[O.CONDITIONALLY_THROWS=1024]="CONDITIONALLY_THROWS",O[O.CONDITIONALLY_BREAKS=2048]="CONDITIONALLY_BREAKS",O[O.CONDITIONALLY_CONTINUES=4096]="CONDITIONALLY_CONTINUES",O[O.CONDITIONALLY_ACCESSES_THIS=8192]="CONDITIONALLY_ACCESSES_THIS",O[O.MAY_RETURN_NONTHIS=16384]="MAY_RETURN_NONTHIS",O[O.UNCHECKED_CONTEXT=32768]="UNCHECKED_CONTEXT",O[O.CTORPARAM_CONTEXT=65536]="CTORPARAM_CONTEXT",O[O.ANY_CATEGORICAL=511]="ANY_CATEGORICAL",O[O.ANY_CONDITIONAL=15872]="ANY_CONDITIONAL",O))(hs||{}),ms=(s=>(s[s.NONE=0]="NONE",s[s.CONSTANT=1]="CONSTANT",s[s.WRAPPED=2]="WRAPPED",s[s.NONNULL=4]="NONNULL",s[s.INITIALIZED=8]="INITIALIZED",s))(ms||{}),Sl=(t=>(t[t.NONE=0]="NONE",t[t.INITIALIZED=1]="INITIALIZED",t))(Sl||{}),Rl=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.TRUE=1]="TRUE",i[i.FALSE=2]="FALSE",i))(Rl||{}),Me=class{constructor(e){this.parentFunction=e;this.parent=null;this.outer=null;this.flags=0;this.continueLabel=null;this.breakLabel=null;this.scopedLocals=null;this.localFlags=[];this.thisFieldFlags=null;this.inlineFunction=null;this.inlineReturnLabel=null}static createParent(e){var t=new Me(e);return e.is(262144)&&t.initThisFieldFlags(),t}static createInline(e,t){var i=new Me(e);return i.inlineFunction=t,i.inlineReturnLabel=t.internalName+"|inlined."+(t.nextInlineId++).toString(),t.is(262144)&&i.initThisFieldFlags(),i}get isInline(){return this.inlineFunction!=null}get actualFunction(){var e=this.inlineFunction;return e||this.parentFunction}get returnType(){return this.actualFunction.signature.returnType}get contextualTypeArguments(){return this.actualFunction.contextualTypeArguments}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}unset(e){this.flags&=~e}deriveConditionalFlags(){let e=this.flags&15872;return this.is(1)&&(e|=512),this.is(8)&&(e|=1024),this.is(16)&&(e|=2048),this.is(32)&&(e|=4096),this.is(64)&&(e|=8192),e}fork(e=!1){var t=new Me(this.parentFunction);if(t.parent=this,t.outer=this.outer,e?t.flags=this.flags&-6193:(t.flags=this.flags,t.continueLabel=this.continueLabel,t.breakLabel=this.breakLabel),t.localFlags=this.localFlags.slice(),this.actualFunction.is(262144)){let i=assert(this.thisFieldFlags);t.thisFieldFlags=re(i)}else assert(!this.thisFieldFlags);return t.inlineFunction=this.inlineFunction,t.inlineReturnLabel=this.inlineReturnLabel,t}getTempLocal(e,t=null){var i=this.parentFunction,n;switch(e.toRef()){case F.I32:{n=i.tempI32s;break}case F.I64:{n=i.tempI64s;break}case F.F32:{n=i.tempF32s;break}case F.F64:{n=i.tempF64s;break}case F.V128:{n=i.tempV128s;break}case F.Funcref:{n=i.tempFuncrefs;break}case F.Externref:{n=i.tempExternrefs;break}case F.Anyref:{n=i.tempAnyrefs;break}case F.Eqref:{n=i.tempEqrefs;break}case F.I31ref:{n=i.tempI31refs;break}case F.Dataref:{n=i.tempDatarefs;break}default:throw new Error("concrete type expected")}var s;if(t){if(n&&n.length>0){for(let a=0,o=n.length;a<o;++a)if(!t.has(n[a].index)){s=n[a];let l=n.length-1;for(;a<l;)unchecked(n[a]=n[a+++1]);return n.length=l,s.type=e,s.flags=0,this.unsetLocalFlag(s.index,-1),s}}s=i.addLocal(e)}else n&&n.length>0?(s=assert(n.pop()),s.type=e,s.flags=0):s=i.addLocal(e);return this.unsetLocalFlag(s.index,-1),s}freeTempLocal(e){if(!e.is(16777216)){assert(e.index>=0);var t=this.parentFunction,i;switch(assert(e.type!=null),e.resetTemporaryName(),e.type.toRef()){case F.I32:{let n=t.tempI32s;n?i=n:t.tempI32s=i=[];break}case F.I64:{let n=t.tempI64s;n?i=n:t.tempI64s=i=[];break}case F.F32:{let n=t.tempF32s;n?i=n:t.tempF32s=i=[];break}case F.F64:{let n=t.tempF64s;n?i=n:t.tempF64s=i=[];break}case F.V128:{let n=t.tempV128s;n?i=n:t.tempV128s=i=[];break}case F.Funcref:{let n=t.tempFuncrefs;n?i=n:t.tempFuncrefs=i=[];break}case F.Externref:{let n=t.tempExternrefs;n?i=n:t.tempExternrefs=i=[];break}case F.Anyref:{let n=t.tempAnyrefs;n?i=n:t.tempAnyrefs=i=[];break}case F.Eqref:{let n=t.tempEqrefs;n?i=n:t.tempEqrefs=i=[];break}case F.I31ref:{let n=t.tempI31refs;n?i=n:t.tempI31refs=i=[];break}case F.Dataref:{let n=t.tempDatarefs;n?i=n:t.tempDatarefs=i=[];break}default:throw new Error("concrete type expected")}assert(e.index>=0),i.push(e)}}getScopedLocal(e){var t=this.scopedLocals;return t&&t.has(e)?assert(t.get(e)):null}addScopedLocal(e,t,i=null){var n=this.getTempLocal(t,i);n.setTemporaryName(e);var s=this.scopedLocals;return s?assert(!s.has(e)):this.scopedLocals=s=new Map,n.set(33554432),s.set(e,n),n}addScopedDummyLocal(e,t,i){var n=new Ue(e,-1,t,this.parentFunction),s=this.scopedLocals;return s?s.has(e)&&this.parentFunction.program.error(2451,i.range,e):this.scopedLocals=s=new Map,n.set(33554432),s.set(e,n),n}addScopedAlias(e,t,i,n=null){var s=this.scopedLocals;if(!s)this.scopedLocals=s=new Map;else if(s.has(e)){let o=assert(s.get(e));return n&&(o.declaration.range.source.isNative?this.parentFunction.program.error(2300,n.range,e):this.parentFunction.program.errorRelated(2300,n.range,o.declaration.name.range,e)),o}assert(i<this.parentFunction.localsByIndex.length);var a=new Ue(e,i,t,this.parentFunction);return s.set(e,a),a}get hasScopedLocals(){var e=this.scopedLocals;if(e){for(let t=Map_values(e),i=0,n=t.length;i<n;++i)if(unchecked(t[i]).is(33554432))return!0}return!1}freeScopedDummyLocal(e){var t=assert(this.scopedLocals);assert(t.has(e));let i=assert(t.get(e));assert(i.index==-1),t.delete(e)}freeScopedLocals(){var e=this.scopedLocals;if(e){for(let t=Map_values(e),i=0,n=t.length;i<n;++i){let s=unchecked(t[i]);s.is(33554432)&&this.freeTempLocal(s)}this.scopedLocals=null}}lookupLocal(e){var t=this;do{let n=t.scopedLocals;if(n&&n.has(e))return assert(n.get(e));t=t.parent}while(t);var i=this.parentFunction.localsByName;return i.has(e)?assert(i.get(e)):null}lookup(e){var t=this.lookupLocal(e);return t||this.actualFunction.lookup(e)}isLocalFlag(e,t,i=!0){if(e<0)return i;var n=this.localFlags;return e<n.length&&(unchecked(n[e])&t)==t}isAnyLocalFlag(e,t,i=!0){if(e<0)return i;var n=this.localFlags;return e<n.length&&(unchecked(n[e])&t)!=0}setLocalFlag(e,t){if(!(e<0)){var i=this.localFlags,n=e<i.length?unchecked(i[e]):0;i[e]=n|t}}unsetLocalFlag(e,t){if(!(e<0)){var i=this.localFlags,n=e<i.length?unchecked(i[e]):0;i[e]=n&~t}}initThisFieldFlags(){var e=this.actualFunction;assert(e.is(262144));var t=e.parent;assert(t.kind==7);var i=t;this.thisFieldFlags=new Map;var n=i.members;if(n)for(let s=Map_values(n),a=0,o=s.length;a<o;++a){let l=s[a];if(l.kind==11){let p=l;(p.parent!=i||p.initializerNode||p.prototype.parameterIndex!=-1||p.type.isAny(640))&&this.setThisFieldFlag(p,1)}}}isThisFieldFlag(e,t){var i=this.thisFieldFlags;return i!=null&&i.has(e)?(changetype(i.get(e))&t)==t:!1}setThisFieldFlag(e,t){var i=this.thisFieldFlags;if(i)if(assert(this.actualFunction.is(262144)),i.has(e)){let n=changetype(i.get(e));i.set(e,n|t)}else i.set(e,t);else assert(!this.actualFunction.is(262144))}pushBreakLabel(){var e=this.parentFunction,t=e.nextBreakId++,i=e.breakStack;i?i.push(t):e.breakStack=[t];var n=t.toString();return e.breakLabel=n,n}popBreakLabel(){var e=this.parentFunction,t=assert(e.breakStack),i=assert(t.length);t.pop(),i>1?e.breakLabel=t[i-2].toString():(e.breakLabel=null,e.breakStack=null)}inherit(e){assert(e.parentFunction==this.parentFunction),assert(e.parent==this);var t=e.flags;this.breakLabel!=e.breakLabel&&(t&2064&&(t&=-257),t&=-2065),this.continueLabel!=e.continueLabel&&(t&=-4129),this.flags=this.flags|t,this.localFlags=e.localFlags,this.thisFieldFlags=e.thisFieldFlags}inheritBranch(e,t=0){switch(assert(e.parentFunction==this.parentFunction),t){case 1:this.inherit(e);case 2:return}var i=this.flags,n=e.flags,s=0;i&1?s|=1:n&1?s|=512:s|=(i|n)&512,s|=i&n&2,s|=i&n&4,i&8?s|=8:n&8?s|=1024:s|=(i|n)&1024,i&16?s|=16:e.breakLabel==this.breakLabel?n&16?s|=2048:s|=(i|n)&2048:s|=i&2048,i&32?s|=32:e.continueLabel==this.continueLabel?n&32?s|=4096:s|=(i|n)&4096:s|=i&4096,i&64?n&64?s|=64:s|=8192:n&64&&(s|=8192),s|=(i|n)&16384,s|=i&n&128,i&256&&(s|=256),this.flags=s|i&98304;var a=this.localFlags,o=a.length,l=e.localFlags,p=l.length,c=max(o,p);for(let _=0;_<c;++_){let f=_<o?a[_]:0,E=_<p?l[_]:0;a[_]=f&E&15}}inheritMutual(e,t){assert(e.parentFunction==t.parentFunction),assert(e.parentFunction==this.parentFunction);var i=e.flags,n=t.flags,s=0;i&1?n&1?s|=1:s|=512:n&1?s|=512:s|=(i|n)&512,i&2&&n&2&&(s|=2),i&4&&n&4&&(s|=4),i&8?n&8?s|=8:s|=1024:n&8?s|=1024:s|=(i|n)&1024,i&16?n&16?s|=16:s|=2048:n&16?s|=2048:s|=(i|n)&2048,i&32?n&32?s|=32:s|=4096:n&32?s|=4096:s|=(i|n)&4096,i&64?n&64?s|=64:s|=8192:n&64?s|=8192:s|=(i|n)&8192,s|=(i|n)&16384,i&128&&n&128&&(s|=128),i&256&&n&256&&(s|=256),this.flags=s|this.flags&98304;var a=this.localFlags;if(i&256){if(!(n&256)){let l=t.localFlags;for(let p=0,c=l.length;p<c;++p)a[p]=l[p]}}else if(n&256){let l=e.localFlags;for(let p=0,c=l.length;p<c;++p)a[p]=l[p]}else{let l=e.localFlags,p=l.length,c=t.localFlags,_=c.length,f=max(p,_);for(let E=0;E<f;++E){let g=E<p?l[E]:0,b=E<_?c[E]:0;a[E]=g&b&15}}var o=e.thisFieldFlags;if(o){let l=new Map,p=assert(t.thisFieldFlags);for(let c=Map_keys(o),_=0,f=c.length;_<f;++_){let E=c[_];(changetype(o.get(E))&1)!=0&&p.has(E)&&changetype(p.get(E))&1&&l.set(E,1)}this.thisFieldFlags=l}else assert(!t.thisFieldFlags)}static hasIncompatibleLocalStates(e,t){var i=e.localFlags.length,n=t.localFlags.length,s=e.parentFunction;assert(s==t.parentFunction);var a=s.localsByIndex;assert(a==t.parentFunction.localsByIndex);for(let o=0,l=min(i,n);o<l;++o){let c=a[o].type;if(c.isShortIntegerValue&&e.isLocalFlag(o,2)&&!t.isLocalFlag(o,2)||c.isNullableReference&&e.isLocalFlag(o,4)&&!t.isLocalFlag(o,4))return!0}return!1}unifyLocalFlags(e){var t=this.localFlags.length,i=e.localFlags.length;for(let n=0,s=min(t,i);n<s;++n)this.isLocalFlag(n,2)!=e.isLocalFlag(n,2)&&this.unsetLocalFlag(n,2),this.isLocalFlag(n,4)!=e.isLocalFlag(n,4)&&this.unsetLocalFlag(n,4)}isNonnull(e,t){if(!t.isNullableReference)return!0;switch(ee(e)){case 9:{if(!Xi(e))break;let i=this.parentFunction.localsByIndex[cs(e)];return!i.type.isNullableReference||this.isLocalFlag(i.index,4,!1)}case 8:{let i=this.parentFunction.localsByIndex[ot(e)];return!i.type.isNullableReference||this.isLocalFlag(i.index,4,!1)}}return!1}inheritNonnullIfTrue(e,t=null){switch(ee(e)){case 9:{if(!Xi(e))break;let i=this.parentFunction.localsByIndex[cs(e)];(!t||t.isLocalFlag(i.index,4))&&this.setLocalFlag(i.index,4),this.inheritNonnullIfTrue(lr(e),t);break}case 8:{let i=this.parentFunction.localsByIndex[ot(e)];(!t||t.isLocalFlag(i.index,4))&&this.setLocalFlag(i.index,4);break}case 2:{let i=Zr(e);i&&ge(i)&&(this.inheritNonnullIfTrue(fs(e),t),this.inheritNonnullIfTrue(Zi(e),t));break}case 15:{switch(Qi(e)){case 20:case 21:{this.inheritNonnullIfFalse(_s(e),t);break}}break}case 16:{switch(qi(e)){case 15:case 40:{let i=We(e),n=Ce(e);Je(i)?this.inheritNonnullIfTrue(n,t):Je(n)&&this.inheritNonnullIfTrue(i,t);break}case 16:case 41:{let i=We(e),n=Ce(e);ge(i)?this.inheritNonnullIfTrue(n,t):ge(n)&&this.inheritNonnullIfTrue(i,t);break}}break}case 6:{let i=ji(e);if(i==h.String_eq){assert(at(e)==2);let n=Fe(e,0),s=Fe(e,1);Je(n)?this.inheritNonnullIfTrue(s,t):Je(s)&&this.inheritNonnullIfTrue(n,t)}else if(i==h.String_ne){assert(at(e)==2);let n=Fe(e,0),s=Fe(e,1);ge(n)?this.inheritNonnullIfTrue(s,t):ge(s)&&this.inheritNonnullIfTrue(n,t)}else i==h.String_not?(assert(at(e)==1),this.inheritNonnullIfFalse(Fe(e,0),t)):i==h.tostack&&(assert(at(e)==1),this.inheritNonnullIfTrue(Fe(e,0),t));break}}}inheritNonnullIfFalse(e,t=null){switch(ee(e)){case 15:{switch(Qi(e)){case 20:case 21:{this.inheritNonnullIfTrue(_s(e),t);break}}break}case 2:{let i=Zi(e);Zr(e)&&Je(i)&&(this.inheritNonnullIfFalse(fs(e),t),this.inheritNonnullIfFalse(Zr(e),t));break}case 16:{switch(qi(e)){case 15:case 40:{let i=We(e),n=Ce(e);ge(i)?this.inheritNonnullIfTrue(n,t):ge(n)&&this.inheritNonnullIfTrue(i,t);break}case 16:case 41:{let i=We(e),n=Ce(e);Je(i)?this.inheritNonnullIfTrue(n,t):Je(n)&&this.inheritNonnullIfTrue(i,t);break}}break}case 6:{let i=ji(e);if(i==h.String_eq){assert(at(e)==2);let n=Fe(e,0),s=Fe(e,1);ge(n)?this.inheritNonnullIfTrue(s,t):ge(s)&&this.inheritNonnullIfTrue(n,t)}else if(i==h.String_ne){assert(at(e)==2);let n=Fe(e,0),s=Fe(e,1);Je(n)?this.inheritNonnullIfTrue(s,t):Je(s)&&this.inheritNonnullIfTrue(n,t)}else i==h.String_not?(assert(at(e)==1),this.inheritNonnullIfTrue(Fe(e,0),t)):i==h.tostack&&(assert(at(e)==1),this.inheritNonnullIfFalse(Fe(e,0),t));break}}}canOverflow(e,t){if(!t.isShortIntegerValue)return!1;var i;switch(ee(e)){case 8:{let n=this.parentFunction.localsByIndex[ot(e)];return!this.isLocalFlag(n.index,2,!0)||ps(n.type,t)}case 9:return assert(Xi(e)),this.canOverflow(lr(e),t);case 10:{let n=assert(this.parentFunction.program.elementsByName.get(assert($i(e))));return assert(n.kind==0||n.kind==3),ps(n.type,t)}case 16:{switch(qi(e)){case 15:case 40:case 57:case 70:case 16:case 41:case 58:case 71:case 17:case 18:case 42:case 43:case 59:case 72:case 19:case 20:case 44:case 45:case 60:case 73:case 21:case 22:case 46:case 47:case 61:case 74:case 23:case 24:case 48:case 49:case 62:case 75:return!1;case 2:return!(ee(i=We(e))==14&&(ie(i)==0||ie(i)==1&&!this.canOverflow(Ce(e),t))||ee(i=Ce(e))==14&&(ie(i)==0||ie(i)==1&&!this.canOverflow(We(e),t)));case 7:return!(ee(i=We(e))==14&&ie(i)<=t.computeSmallIntegerMask(u.i32)||!this.canOverflow(i,t)||ee(i=Ce(e))==14&&ie(i)<=t.computeSmallIntegerMask(u.i32)||!this.canOverflow(i,t));case 10:{let n=32-t.size;return ee(i=Ce(e))!=14||ie(i)<n}case 11:{let n=32-t.size;return this.canOverflow(We(e),t)&&(ee(i=Ce(e))!=14||ie(i)<n)}case 12:{let n=32-t.size;return t.isSignedIntegerValue?!(ee(i=Ce(e))==14&&ie(i)>n):this.canOverflow(We(e),t)&&!(ee(i=Ce(e))==14&&ie(i)>=n)}case 4:case 5:case 6:return this.canOverflow(We(e),t)||this.canOverflow(Ce(e),t)}break}case 15:{switch(Qi(e)){case 20:case 21:return!1;case 0:case 2:case 4:return t.size<7;case 47:return t.size<(t.isUnsignedIntegerValue?32:8);case 49:return t.size<(t.isUnsignedIntegerValue?64:8);case 48:return t.size<(t.isUnsignedIntegerValue?32:16);case 50:return t.size<(t.isUnsignedIntegerValue?64:16);case 51:return t.size<(t.isUnsignedIntegerValue?64:32)}break}case 14:{let n=0;switch(le(e)){case F.I32:{n=ie(e);break}case F.I64:{n=Be(e);break}case F.F32:{n=i32(Ye(e));break}case F.F64:{n=i32(He(e));break}case F.V128:return!1;default:assert(!1)}switch(t.kind){case 0:return n<i8.MIN_VALUE||n>i8.MAX_VALUE;case 1:return n<i16.MIN_VALUE||n>i16.MAX_VALUE;case 5:return n<0||n>u8.MAX_VALUE;case 6:return n<0||n>u16.MAX_VALUE;case 10:return(n&-2)!=0}break}case 12:{let n,s=Nl(e);switch(Al(e)){case 1:{n=s?u.i8:u.u8;break}case 2:{n=s?u.i16:u.u16;break}default:{n=s?u.i32:u.u32;break}}return ps(n,t)}case 1:{if(!en(e)){let n=assert(tn(e)),s=rn(e,n-1);return this.canOverflow(s,t)}break}case 2:return this.canOverflow(Zi(e),t)||this.canOverflow(assert(Zr(e)),t);case 17:return this.canOverflow(Ll(e),t)||this.canOverflow(Cl(e),t);case 6:{let s=this.parentFunction.program.instancesByName,a=assert(ji(e));if(s.has(a)){let o=assert(s.get(a));assert(o.kind==5);let l=o,p=l.signature.returnType;return!l.flow.is(2)||ps(p,t)}return!1}case 23:return!1}return!0}toString(){for(var e=0,t=this.parent;t;)t=t.parent,++e;var i=new Array;return this.is(1)&&i.push("RETURNS"),this.is(2)&&i.push("RETURNS_WRAPPED"),this.is(4)&&i.push("RETURNS_NONNULL"),this.is(8)&&i.push("THROWS"),this.is(16)&&i.push("BREAKS"),this.is(32)&&i.push("CONTINUES"),this.is(64)&&i.push("ACCESSES_THIS"),this.is(128)&&i.push("CALLS_SUPER"),this.is(256)&&i.push("TERMINATES"),this.is(512)&&i.push("CONDITIONALLY_RETURNS"),this.is(1024)&&i.push("CONDITIONALLY_THROWS"),this.is(2048)&&i.push("CONDITIONALLY_BREAKS"),this.is(4096)&&i.push("CONDITIONALLY_CONTINUES"),this.is(8192)&&i.push("CONDITIONALLY_ACCESSES_THIS"),this.is(16384)&&i.push("MAY_RETURN_NONTHIS"),"Flow("+this.actualFunction.toString()+")["+e.toString()+"] "+i.join(" ")}};function ps(r,e){return e.isShortIntegerValue&&(!r.isIntegerValue||r.size>e.size||r.isSignedIntegerValue!=e.isSignedIntegerValue)}var ds=class{constructor(e,t){this.source=e;this.reportNode=t}},Es=class extends Ve{constructor(e=null,t=null){super(e);this.backlog=new Array;this.seenlog=new Set;this.donelog=new Set;this.onComment=null;this.currentSource=null;this.dependees=new Map;this.currentModuleName=null;this.tryParseSignatureIsSignature=!1;this.parseParametersThis=null;this.sources=t||new Array}parseFile(e,t,i){var n=rr(t),s=Ni(n);if(!this.donelog.has(s)){if(this.donelog.add(s),this.seenlog.add(s),e==null){let p=this.dependees,c=null;p.has(s)&&(c=assert(p.get(s))),this.error(6054,c?c.reportNode.range:null,t);return}var a=new Vr(i?1:t.startsWith(Ze)?t.indexOf(Qe,Ze.length)<0?3:2:0,n,e);this.sources.push(a),this.currentSource=a,this.currentModuleName=null;var o=new Kn(a,this.diagnostics);o.onComment=this.onComment;for(var l=a.statements;!o.skip(120);){let p=this.parseTopLevelStatement(o,null);p?l.push(p):this.skipStatement(o)}}}parseTopLevelStatement(e,t=null){for(var i=t?t.flags&16384:0,n=-1,s=null;e.skip(113);){n<0&&(n=e.tokenPos);let b=this.parseDecorator(e);if(!b){this.skipStatement(e);continue}s?s.push(b):s=[b]}var a=0,o=0,l=0,p=0;e.skip(18)&&(n<0&&(n=e.tokenPos),i|=2,a=e.tokenPos,o=e.pos,e.skip(13)&&(l=e.tokenPos,p=e.pos));var c=0,_=0,f=t!=null&&t.is(16384);e.skip(12)?f?this.error(1038,e.range()):(n<0&&(n=e.tokenPos),c=n,_=e.pos,i|=16388):f&&(i|=16384);var E=null,g=e.peek();switch(n<0&&(n=e.nextTokenPos),g){case 8:{e.next(),i|=8,e.skip(17)?E=this.parseEnum(e,i,s,n):E=this.parseVariable(e,i,s,n),s=null;break}case 34:i|=16;case 56:{e.next(),E=this.parseVariable(e,i,s,n),s=null;break}case 17:{e.next(),E=this.parseEnum(e,i,s,n),s=null;break}case 24:{e.next(),E=this.parseFunction(e,i,s,n),s=null;break}case 0:{let b=e.mark();e.next();let x=e.tokenPos,S=e.pos,v=e.peek(!0);if(e.nextTokenOnNewLine){e.reset(b),E=this.parseStatement(e,!0);break}if(v!=7){v==31&&this.error(1242,e.range(x,S)),e.reset(b),E=this.parseStatement(e,!0);break}else e.discard(b);i|=128}case 7:case 31:{e.next(),E=this.parseClassOrInterface(e,i,s,n),s=null;break}case 36:{let b=e.mark();e.next(),e.peek(!1,1)==114?(e.discard(b),E=this.parseNamespace(e,i,s,n),s=null):(e.reset(b),E=this.parseStatement(e,!0));break}case 28:{e.next(),i|=1,i&2?E=this.parseExportImport(e,n):E=this.parseImport(e);break}case 54:{let b=e.mark();e.next(),e.peek(!1,1)==114?(e.discard(b),E=this.parseTypeDeclaration(e,i,s,n),s=null):(e.reset(b),E=this.parseStatement(e,!0));break}case 35:{let b=e.mark();e.next(),e.peek(!0)==115&&!e.nextTokenOnNewLine?(e.discard(b),E=this.parseModuleDeclaration(e,i)):(e.reset(b),E=this.parseStatement(e,!0));break}default:{i&2?p&&e.skipIdentifier(1)?(_&&this.error(1120,e.range(c,_)),E=this.parseExportDefaultAlias(e,n,l,p),l=p=0):E=this.parseExport(e,n,(i&4)!=0):(o&&this.error(1042,e.range(a,o),"export"),_&&this.error(1042,e.range(c,_),"declare"),t||(E=this.parseStatement(e,!0)));break}}if(s)for(let b=0,x=s.length;b<x;++b)this.error(1206,s[b].range);if(p&&E!=null)switch(E.kind){case 52:case 55:case 51:case 57:case 59:return P.createExportDefaultStatement(E,e.range(n,e.pos));default:this.error(1042,e.range(l,p),"default")}return E}nextFile(){var e=this.backlog;return e.length?assert(e.shift()):null}getDependee(e){var t=this.dependees;return t.has(e)?assert(t.get(e)).source.internalPath:null}finish(){if(this.backlog.length)throw new Error("backlog is not empty");this.backlog=[],this.seenlog.clear(),this.donelog.clear(),this.dependees.clear()}parseTypeName(e){for(var t=P.createSimpleTypeName(e.readIdentifier(),e.range()),i=t;e.skip(67);)if(e.skip(114)){let n=P.createSimpleTypeName(e.readIdentifier(),e.range());i.next=n,i=n}else return this.error(1003,e.range(e.pos)),null;return t}parseType(e,t=!0,i=!1){var n=e.next(),s=e.tokenPos,a;if(n==63){let o=e.skip(63),l=this.tryParseFunctionType(e);if(l){if(o){if(!e.skip(64))return this.error(1005,e.range(),")"),null;if(!e.skip(92))return this.error(1005,e.range(),"|"),null;e.skip(38)||this.error(1005,e.range(),"null"),l.isNullable=!0}return l}else if(o||this.tryParseSignatureIsSignature)return this.error(1012,e.range()),null;if(t){let p=this.parseType(e,!1,i);if(!p)return null;if(!e.skip(64))return i||this.error(1005,e.range(e.pos),")"),null;a=p,a.range.start=s,a.range.end=e.pos}else return this.error(1012,e.range()),null}else if(n==57)a=P.createNamedType(P.createSimpleTypeName("void",e.range()),[],!1,e.range(s,e.pos));else if(n==50)a=P.createNamedType(P.createSimpleTypeName("this",e.range()),[],!1,e.range(s,e.pos));else if(n==52||n==20)a=P.createNamedType(P.createSimpleTypeName("bool",e.range()),[],!1,e.range(s,e.pos));else if(n==38)a=P.createNamedType(P.createSimpleTypeName("null",e.range()),[],!1,e.range(s,e.pos));else if(n==115)e.readString(),a=P.createNamedType(P.createSimpleTypeName("string",e.range()),[],!1,e.range(s,e.pos));else if(n==114){let o=this.parseTypeName(e);if(!o)return null;let l=null;if(e.skip(71)){do{let p=this.parseType(e,!0,i);if(!p)return null;l?l.push(p):l=[p]}while(e.skip(70));if(!e.skip(72))return i||this.error(1005,e.range(e.pos),">"),null}l||(l=[]),a=P.createNamedType(o,l,!1,e.range(s,e.pos))}else return i||this.error(1110,e.range()),null;for(;e.skip(92);)if(e.skip(38))a.isNullable=!0;else{let o=e.pos,l=this.parseType(e,!1,!0);return i||this.error(1005,l?l.range:e.range(o),"null"),null}for(;e.skip(65);){let o=e.tokenPos;if(!e.skip(66))return i||this.error(1005,e.range(),"]"),null;let l=e.range(o,e.pos),p=!1;if(e.skip(92))if(e.skip(38))p=!0;else return i||this.error(1005,e.range(),"null"),null;if(a=P.createNamedType(P.createSimpleTypeName("Array",l),[a],p,e.range(s,e.pos)),p)break}return a}tryParseFunctionType(e){var t=e.mark(),i=e.tokenPos,n=null,s=null,a=!1,o=null,l=0;if(e.skip(64))a=!0,e.discard(t),n=[];else{a=!1;do{let c=-1,_=0;if(e.skip(68)&&(c=e.tokenPos,a=!0,e.discard(t),_=2),e.skip(50))if(c<0&&(c=e.tokenPos),e.skip(99)){a=!0,e.discard(t);let f=this.parseType(e,!1);if(!f)return null;if(f.kind!=1)return this.error(1003,f.range),this.tryParseSignatureIsSignature=!0,null;s=f}else return e.reset(t),this.tryParseSignatureIsSignature=!1,null;else if(e.skipIdentifier()){c<0&&(c=e.tokenPos);let f=P.createIdentifierExpression(e.readIdentifier(),e.range(e.tokenPos,e.pos));if(e.skip(98)&&(a=!0,e.discard(t),_==2?this.error(1047,e.range()):_=1),e.skip(99)){a=!0,e.discard(t);let E=this.parseType(e);if(!E)return this.tryParseSignatureIsSignature=a,null;let g=P.createParameter(_,f,E,null,e.range(c,e.pos));n?n.push(g):n=[g]}else if(a||e.peek()==70&&(a=!0,e.discard(t)),a){let E=P.createParameter(_,f,P.createOmittedType(e.range(e.pos)),null,e.range(c,e.pos));n?n.push(E):n=[E],this.error(1110,E.type.range)}else n||(o=f,l=_)}else return a?this.error(1003,e.range()):e.reset(t),this.tryParseSignatureIsSignature=a,null}while(e.skip(70));if(!e.skip(64))return a?this.error(1005,e.range(),")"):e.reset(t),this.tryParseSignatureIsSignature=a,null}var p;if(e.skip(79)){if(!a&&(a=!0,e.discard(t),o)){let c=P.createParameter(l,o,P.createOmittedType(o.range.atEnd),null,o.range);n?n.push(c):n=[c],this.error(1110,c.type.range)}if(p=this.parseType(e),!p)return this.tryParseSignatureIsSignature=a,null}else return a?this.error(1005,e.range(),"=>"):e.reset(t),this.tryParseSignatureIsSignature=a,null;return this.tryParseSignatureIsSignature=!0,n||(n=[]),P.createFunctionType(n,p,s,!1,e.range(i,e.pos))}parseDecorator(e){var t=e.tokenPos;if(e.skipIdentifier()){let i=e.readIdentifier(),n=P.createIdentifierExpression(i,e.range(t,e.pos));for(;e.skip(67);)if(e.skipIdentifier(1))i=e.readIdentifier(),n=P.createPropertyAccessExpression(n,P.createIdentifierExpression(i,e.range()),e.range(t,e.pos));else return this.error(1003,e.range()),null;let s;if(e.skip(63)){if(s=this.parseArguments(e),s)return P.createDecorator(n,s,e.range(t,e.pos))}else return P.createDecorator(n,null,e.range(t,e.pos))}else this.error(1003,e.range());return null}parseVariable(e,t,i,n,s=!1){var a=new Array;do{let l=this.parseVariableDeclaration(e,t,i,s);if(!l)return null;l.overriddenModuleName=this.currentModuleName,a.push(l)}while(e.skip(70));var o=P.createVariableStatement(i,a,e.range(n,e.pos));return e.skip(69),o}parseVariableDeclaration(e,t,i,n=!1){if(!e.skipIdentifier())return this.error(1003,e.range()),null;var s=P.createIdentifierExpression(e.readIdentifier(),e.range());Ro(s.text)&&this.error(1003,s.range);var a=t;e.skip(94)&&(a|=8192);var o=null;e.skip(99)&&(o=this.parseType(e,!0));var l=null;if(e.skip(100)){if(a&16384&&this.error(1039,e.range()),l=this.parseExpression(e,he.COMMA+1),!l)return null}else n||(a&8?a&16384||this.error(1155,s.range):o||this.error(1110,e.range(e.pos)));var p=se.join(s.range,e.range());return l&&(a&8192)!=0&&this.error(1255,p),P.createVariableDeclaration(s,i,a,o,l,p)}parseEnum(e,t,i,n){if(e.next()!=114)return this.error(1003,e.range()),null;var s=P.createIdentifierExpression(e.readIdentifier(),e.range());if(e.next()!=61)return this.error(1005,e.range(),"{"),null;for(var a=new Array;!e.skip(62);){let l=this.parseEnumValue(e,0);if(!l)return null;if(a.push(l),!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}var o=P.createEnumDeclaration(s,i,t,a,e.range(n,e.pos));return o.overriddenModuleName=this.currentModuleName,e.skip(69),o}parseEnumValue(e,t){if(!e.skipIdentifier())return this.error(1003,e.range()),null;var i=P.createIdentifierExpression(e.readIdentifier(),e.range()),n=null;return e.skip(100)&&(n=this.parseExpression(e,he.COMMA+1),!n)?null:P.createEnumValueDeclaration(i,t,n,se.join(i.range,e.range()))}parseReturn(e){var t=e.tokenPos,i=null;if(e.peek(!0)!=69&&e.nextToken!=62&&!e.nextTokenOnNewLine&&!(i=this.parseExpression(e)))return null;var n=P.createReturnStatement(i,e.range(t,e.pos));return e.skip(69),n}parseTypeParameters(e){for(var t=new Array,i=!1,n=e.tokenPos;!e.skip(72);){let s=this.parseTypeParameter(e);if(!s)return null;if(s.defaultType?i=!0:i&&(this.error(2706,s.range),s.defaultType=null),t.push(s),!e.skip(70)){if(e.skip(72))break;return this.error(1005,e.range(),">"),null}}return t.length||this.error(1098,e.range(n,e.pos)),t}parseTypeParameter(e){if(e.next()==114){let t=P.createIdentifierExpression(e.readIdentifier(),e.range()),i=null;if(e.skip(19)){let s=this.parseType(e);if(!s)return null;if(s.kind!=1)return this.error(1003,s.range),null;i=s}let n=null;if(e.skip(100)){let s=this.parseType(e);if(!s)return null;if(s.kind!=1)return this.error(1003,s.range),null;n=s}return P.createTypeParameter(t,i,n,se.join(t.range,e.range()))}else this.error(1003,e.range());return null}parseParameters(e,t=!1){var i=new Array,n=null,s=!1,a=!1,o=null;if(this.parseParametersThis=null,e.skip(50)){if(e.skip(99)){if(o=this.parseType(e),!o)return null;o.kind==1?this.parseParametersThis=o:this.error(1003,o.range)}else return this.error(1005,e.range(),":"),null;if(!e.skip(70))return e.skip(64)?i:(this.error(1005,e.range(),")"),null)}for(;!e.skip(64);){let l=this.parseParameter(e,t);if(!l)return null;switch(n&&!a&&(this.error(1014,n.name.range),a=!0),l.parameterKind){default:{s&&this.error(1016,l.name.range);break}case 1:{s=!0;break}case 2:{n=l;break}}if(i.push(l),!e.skip(70)){if(e.skip(64))break;return this.error(1005,e.range(),")"),null}}return i}parseParameter(e,t=!1){var i=!1,n=!1,s=null,a=0;if(t&&(e.skip(43)?(s=e.range(),a|=256):e.skip(42)?(s=e.range(),a|=1024):e.skip(41)&&(s=e.range(),a|=512),e.peek()==44)){let o=e.mark();e.next(),e.peek()!=99?(e.discard(o),s||(s=e.range()),a|=64):e.reset(o)}if(e.skip(68)&&(a?this.error(1317,e.range()):s=e.range(),i=!0),e.skipIdentifier()){i||(s=e.range());let o=P.createIdentifierExpression(e.readIdentifier(),e.range()),l=null;if((n=e.skip(98))&&i&&this.error(1047,o.range),e.skip(99)){if(l=this.parseType(e),!l)return null}else l=P.createOmittedType(e.range(e.pos));let p=null;if(e.skip(100)&&(i&&this.error(1048,o.range),n?this.error(1015,o.range):n=!0,p=this.parseExpression(e,he.COMMA+1),!p))return null;let c=P.createParameter(i?2:n?1:0,o,l,p,se.join(assert(s),e.range()));return c.flags|=a,c}else this.error(1003,e.range());return null}parseFunction(e,t,i,n){if(!e.skipIdentifier())return this.error(1003,e.range(e.pos)),null;var s=P.createIdentifierExpression(e.readIdentifier(),e.range()),a=-1,o=null;if(e.skip(71)){if(a=e.tokenPos,o=this.parseTypeParameters(e),!o)return null;t|=32768}if(!e.skip(63))return this.error(1005,e.range(e.pos),"("),null;a<0&&(a=e.tokenPos);var l=this.parseParameters(e);if(!l)return null;var p=this.parseParametersThis,c=(t&4096)!=0;c&&(l.length!=1&&this.error(1049,s.range),l.length>0&&l[0].initializer&&this.error(1052,s.range)),t&2048&&l.length&&this.error(1054,s.range);var _=null;if(e.skip(99)&&(_=this.parseType(e,!0,c),!_))return null;_||(_=P.createOmittedType(e.range(e.pos)),c||this.error(1110,_.range));var f=P.createFunctionType(l,_,p,!1,e.range(a,e.pos)),E=null;if(e.skip(61)){if(t&16384&&this.error(1183,e.range()),E=this.parseBlockStatement(e,!1),!E)return null}else t&16384||this.error(2391,e.range(e.pos));var g=P.createFunctionDeclaration(s,i,t,o,f,E,0,e.range(n,e.pos));return g.overriddenModuleName=this.currentModuleName,e.skip(69),g}parseFunctionExpression(e){var t=e.tokenPos,i,n=0;if(e.token==24){if(e.skipIdentifier()?i=P.createIdentifierExpression(e.readIdentifier(),e.range()):i=P.createEmptyIdentifierExpression(e.range(e.pos)),!e.skip(63))return this.error(1005,e.range(e.pos),"("),null}else n=1,assert(e.token==63),i=P.createEmptyIdentifierExpression(e.range(e.tokenPos));var s=e.pos,a=this.parseParameters(e);return a?this.parseFunctionExpressionCommon(e,i,a,this.parseParametersThis,n,t,s):null}parseFunctionExpressionCommon(e,t,i,n,s,a=-1,o=-1){a<0&&(a=t.range.start),o<0&&(o=a);var l=null;if(s!=2&&e.skip(99)){if(l=this.parseType(e),!l)return null}else l=P.createOmittedType(e.range(e.pos));if(s&&!e.skip(79))return this.error(1005,e.range(e.pos),"=>"),null;var p=P.createFunctionType(i,l,n,!1,e.range(o,e.pos)),c=null;if(s)if(e.skip(61))c=this.parseBlockStatement(e,!1);else{let f=this.parseExpression(e,he.COMMA+1);f&&(c=P.createExpressionStatement(f))}else{if(!e.skip(61))return this.error(1005,e.range(e.pos),"{"),null;c=this.parseBlockStatement(e,!1)}if(!c)return null;var _=P.createFunctionDeclaration(t,null,0,null,p,c,s,e.range(a,e.pos));return P.createFunctionExpression(_)}parseClassOrInterface(e,t,i,n){var s=e.token==31;if(!e.skipIdentifier())return this.error(1003,e.range()),null;var a=P.createIdentifierExpression(e.readIdentifier(),e.range()),o=null;if(e.skip(71)){if(o=this.parseTypeParameters(e),!o)return null;t|=32768}var l=null;if(e.skip(19)){let f=this.parseType(e);if(!f)return null;if(f.kind!=1)return this.error(1003,f.range),null;l=f}var p=null;if(e.skip(27)){s&&this.error(1176,e.range());do{let f=this.parseType(e);if(!f)return null;if(f.kind!=1)return this.error(1003,f.range),null;s||(p||(p=[]),p.push(f))}while(e.skip(70))}if(!e.skip(61))return this.error(1005,e.range(),"{"),null;var c=new Array,_;if(s?(assert(!p),_=P.createInterfaceDeclaration(a,i,t,o,l,null,c,e.range(n,e.pos))):_=P.createClassDeclaration(a,i,t,o,l,p,c,e.range(n,e.pos)),!e.skip(62))do{let f=this.parseClassMember(e,_);if(f)f.kind==65?_.indexSignature=f:(assert(f instanceof ze),c.push(f));else if(this.skipStatement(e),e.skip(120))return this.error(1005,e.range(),"}"),null}while(!e.skip(62));return _.range.end=e.pos,_.overriddenModuleName=this.currentModuleName,_}parseClassExpression(e){var t=e.tokenPos,i;if(e.skipIdentifier()?i=P.createIdentifierExpression(e.readIdentifier(),e.range()):i=P.createEmptyIdentifierExpression(e.range(e.pos)),!e.skip(61))return this.error(1005,e.range(e.pos),"{"),null;var n=new Array,s=P.createClassDeclaration(i,null,0,null,null,null,n,e.range(t,e.pos));if(!e.skip(62))do{let a=this.parseClassMember(e,s);if(a)a.kind==65?s.indexSignature=a:(assert(s instanceof ze),n.push(a));else if(this.skipStatement(e),e.skip(120))return this.error(1005,e.range(),"}"),null}while(!e.skip(62));return s.range.end=e.pos,P.createClassExpression(s)}parseClassMember(e,t){var i=t.kind==57,n=0,s=null;if(e.skip(113)){n=e.tokenPos;do{let te=this.parseDecorator(e);if(!te)break;s||(s=new Array),s.push(te)}while(e.skip(113));i&&s&&this.error(1206,se.join(s[0].range,s[s.length-1].range))}var a=t.flags&16384;i&&(a|=134217728);var o=0,l=0,p=t.is(16384);e.skip(12)?(i?this.error(1042,e.range(),"declare"):p?this.error(1038,e.range()):(a|=16388,o=e.tokenPos,l=e.pos),n||(n=e.tokenPos)):p&&(a|=16384);var c=0,_=0;e.skip(43)?(i?this.error(1042,e.range(),"public"):(a|=256,c=e.tokenPos,_=e.pos),n||(n=e.tokenPos)):e.skip(41)?(i?this.error(1042,e.range(),"private"):(a|=512,c=e.tokenPos,_=e.pos),n||(n=e.tokenPos)):e.skip(42)&&(i?this.error(1042,e.range(),"protected"):(a|=1024,c=e.tokenPos,_=e.pos),n||(n=e.tokenPos));var f=0,E=0,g=0,b=0;e.skip(47)?(i?this.error(1042,e.range(),"static"):(a|=32,f=e.tokenPos,E=e.pos),n||(n=e.tokenPos)):(a|=131072,e.skip(0)&&(i||!t.is(128)?this.error(1042,e.range(),"abstract"):(a|=128,g=e.tokenPos,b=e.pos),n||(n=e.tokenPos)),t.flags&32768&&(a|=65536));var x=0,S=0;if(e.peek()==44){let te=e.mark();e.next(),e.peek()!=99?(e.discard(te),a|=64,x=e.tokenPos,S=e.pos,n||(n=x)):e.reset(te)}var v=e.mark(),L=!1,O=!1,C=0,k=0,D=!1,Y=0,z=0;i||(e.skip(25)?e.peek(!0,1)==114&&!e.nextTokenOnNewLine?(a|=2048,O=!0,C=e.tokenPos,k=e.pos,n||(n=C),a&64&&this.error(1042,e.range(x,S),"readonly")):e.reset(v):e.skip(46)?e.peek(!0,1)==114&&!e.nextTokenOnNewLine?(a|=4096,D=!0,Y=e.tokenPos,z=e.pos,n||(n=Y),a&64&&this.error(1042,e.range(x,S),"readonly")):e.reset(v):e.skip(10)&&(a|=262144,L=!0,n||(n=e.tokenPos),a&32&&this.error(1042,e.range(f,E),"static"),a&128&&this.error(1042,e.range(g,b),"abstract"),a&64&&this.error(1042,e.range(x,S),"readonly")));var K=O||D,Z;if(L)Z=P.createConstructorExpression(e.range());else{if(!K&&e.skip(65)){n||(n=e.tokenPos),a&256?this.error(1042,e.range(c,_),"public"):a&1024?this.error(1042,e.range(c,_),"protected"):a&512&&this.error(1042,e.range(c,_),"protected"),a&32&&this.error(1042,e.range(f,E),"static"),a&128&&this.error(1042,e.range(g,b),"abstract");let te=this.parseIndexSignature(e,a,s);return te?(e.skip(69),te):(a&64&&this.error(1042,e.range(x,S),"readonly"),null)}if(!e.skipIdentifier(2))return this.error(1003,e.range()),null;n||(n=e.tokenPos),Z=P.createIdentifierExpression(e.readIdentifier(),e.range())}var ue=null;if(e.skip(71)){let te=e.tokenPos;if(ue=this.parseTypeParameters(e),!ue)return null;L?this.error(1092,e.range(te,e.pos)):K?this.error(1094,e.range(te,e.pos)):a|=32768}if(e.skip(63)){a&4&&this.error(1031,e.range(o,l),"declare");let te=e.tokenPos,j=this.parseParameters(e,L);if(!j)return null;let U=this.parseParametersThis;if(L)for(let ft=0,hi=j.length;ft<hi;++ft){let Ct=j[ft];if(Ct.isAny(1856)){let mi=P.createFieldDeclaration(Ct.name,null,Ct.flags|131072,Ct.type,null,Ct.range);mi.parameterIndex=ft,Ct.implicitFieldDeclaration=mi,t.members.push(mi)}}else O?j.length&&this.error(1054,Z.range):D?(j.length!=1&&this.error(1049,Z.range),j.length>0&&j[0].initializer&&this.error(1052,Z.range)):Z.text=="constructor"&&this.error(230,Z.range,"constructor");let _e=null;if(e.skip(99)){if(Z.kind==26?this.error(1093,e.range()):D&&this.error(1095,e.range()),_e=this.parseType(e,D||Z.kind==26),!_e)return null}else _e=P.createOmittedType(e.range(e.pos)),!D&&Z.kind!=26&&this.error(1110,_e.range);let Lt=P.createFunctionType(j,_e,U,!1,e.range(te,e.pos)),qe=null;if(e.skip(61)){if(a&16384?this.error(1183,e.range()):a&128?this.error(1245,e.range(),Z.text):i&&this.error(1005,e.range(),";"),qe=this.parseBlockStatement(e,!1),!qe)return null}else!i&&!(a&16512)&&this.error(2391,e.range());let Jt=P.createMethodDeclaration(Z,s,a,ue,Lt,qe,e.range(n,e.pos));return i&&e.skip(70)||e.skip(69),Jt}else if(L)this.error(2390,Z.range);else if(K)this.error(2391,Z.range);else{a&4&&this.error(100,e.range(o,l),"Ambient fields"),a&128&&this.error(1042,e.range(g,b),"abstract"),a&2048&&this.error(1042,e.range(C,k),"get"),a&4096&&this.error(1042,e.range(Y,z),"set");let te=null;if(e.skip(98)&&this.error(219,e.range(n,e.pos)),e.skip(94)&&(a|=8192),e.skip(99)){if(te=this.parseType(e),!te)return null}else this.error(1110,e.range());let j=null;if(e.skip(100)&&(a&16384&&this.error(1039,e.range()),j=this.parseExpression(e),!j))return null;let U=e.range(n,e.pos);(a&8192)!=0&&(i||j||(a&32)!=0)&&this.error(1255,U);let _e=P.createFieldDeclaration(Z,s,a,te,j,U);return i&&e.skip(70)||e.skip(69),_e}return null}parseIndexSignature(e,t,i){i&&i.length>0&&this.error(1206,se.join(i[0].range,i[i.length-1].range));var n=e.tokenPos;if(e.skipIdentifier())if(e.readIdentifier()=="key")if(e.skip(99)){let a=this.parseType(e);if(!a)return null;if(a.kind!=1)return this.error(1110,e.range()),null;if(e.skip(66))if(e.skip(99)){let o=this.parseType(e);return o?o.kind!=1?(this.error(1003,o.range),null):P.createIndexSignature(a,o,t,e.range(n,e.pos)):null}else this.error(1005,e.range(),":");else this.error(1005,e.range(),"]")}else this.error(1005,e.range(),":");else this.error(1005,e.range(),"key");else this.error(1003,e.range());return null}parseNamespace(e,t,i,n){if(e.skipIdentifier()){let s=P.createIdentifierExpression(e.readIdentifier(),e.range());if(e.skip(61)){let a=new Array,o=P.createNamespaceDeclaration(s,i,t,a,e.range(n,e.pos));for(;!e.skip(62);){let l=this.parseTopLevelStatement(e,o);if(l)a.push(l);else if(this.skipStatement(e),e.skip(120))return this.error(1005,e.range(),"}"),null}return o.range.end=e.pos,o.overriddenModuleName=this.currentModuleName,e.skip(69),o}else this.error(1005,e.range(),"{")}else this.error(1003,e.range());return null}parseExport(e,t,i){var n=null,s=assert(this.currentSource);if(e.skip(61)){let a=new Array;for(;!e.skip(62);){let l=this.parseExportMember(e);if(!l)return null;if(a.push(l),!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}if(e.skip(23))if(e.skip(115))n=P.createStringLiteralExpression(e.readString(),e.range());else return this.error(1141,e.range()),null;let o=P.createExportStatement(a,n,i,e.range(t,e.pos));if(n){let l=assert(o.internalPath);this.seenlog.has(l)||(this.dependees.set(l,new ds(s,n)),this.backlog.push(l),this.seenlog.add(l))}return e.skip(69),o}else if(e.skip(83))if(e.skip(23))if(e.skip(115)){n=P.createStringLiteralExpression(e.readString(),e.range());let a=P.createExportStatement(null,n,i,e.range(t,e.pos)),o=assert(a.internalPath),l=e.source,p=l.exportPaths;return p?p.includes(o)||p.push(o):l.exportPaths=[o],this.seenlog.has(o)||(this.dependees.set(o,new ds(s,n)),this.backlog.push(o)),e.skip(69),a}else this.error(1141,e.range());else this.error(1005,e.range(),"from");else this.error(1005,e.range(),"{");return null}parseExportMember(e){if(e.skipIdentifier(2)){let t=P.createIdentifierExpression(e.readIdentifier(),e.range()),i=null;if(e.skip(1))if(e.skipIdentifier(2))i=P.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;return i?P.createExportMember(t,i,se.join(t.range,i.range)):P.createExportMember(t,null,t.range)}else this.error(1003,e.range());return null}parseExportDefaultAlias(e,t,i,n){var s=e.readIdentifier(),a=e.range(),o=P.createExportStatement([P.createExportMember(P.createIdentifierExpression(s,a),P.createIdentifierExpression("default",e.range(i,n)),a)],null,!1,e.range(t,e.pos));return e.skip(69),o}parseImport(e){var t=e.tokenPos,i=null,n=null,s=!1;if(e.skip(61))for(i=new Array;!e.skip(62);){let a=this.parseImportDeclaration(e);if(!a)return null;if(i.push(a),!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}else if(e.skip(83))if(e.skip(1))if(e.skipIdentifier())n=P.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;else return this.error(1005,e.range(),"as"),null;else if(e.skip(114,1)){let a=e.readIdentifier(),o=e.range();if(i=[P.createImportDeclaration(P.createIdentifierExpression("default",o),P.createIdentifierExpression(a,o),o)],e.skip(70))return this.error(100,e.range(),"Mixed default and named imports"),null}else s=!0;if(s||e.skip(23))if(e.skip(115)){let a=P.createStringLiteralExpression(e.readString(),e.range()),o;n?(assert(!i),o=P.createWildcardImportStatement(n,a,e.range(t,e.pos))):o=P.createImportStatement(i,a,e.range(t,e.pos));let l=o.internalPath;return this.seenlog.has(l)||(this.dependees.set(l,new ds(assert(this.currentSource),a)),this.backlog.push(l)),e.skip(69),o}else this.error(1141,e.range());else this.error(1005,e.range(),"from");return null}parseImportDeclaration(e){if(e.skipIdentifier(2)){let t=P.createIdentifierExpression(e.readIdentifier(),e.range()),i=null;if(e.skip(1))if(e.skipIdentifier())i=P.createIdentifierExpression(e.readIdentifier(),e.range());else return this.error(1003,e.range()),null;return i?P.createImportDeclaration(t,i,se.join(t.range,i.range)):P.createImportDeclaration(t,null,t.range)}else this.error(1003,e.range());return null}parseExportImport(e,t){if(e.skipIdentifier()){let i=P.createIdentifierExpression(e.readIdentifier(),e.range());if(e.skip(100))if(e.skipIdentifier()){let n=P.createIdentifierExpression(e.readIdentifier(),e.range()),s=P.createExportImportStatement(n,i,e.range(t,e.pos));return e.skip(69),s}else this.error(1003,e.range());else this.error(1005,e.range(),"=")}else this.error(1003,e.range());return null}parseStatement(e,t=!1){var i=e.mark(),n=e.next(),s=null;switch(n){case 4:{s=this.parseBreak(e);break}case 8:{s=this.parseVariable(e,8,null,e.tokenPos);break}case 9:{s=this.parseContinue(e);break}case 15:{s=this.parseDoStatement(e);break}case 22:{s=this.parseForStatement(e);break}case 26:{s=this.parseIfStatement(e);break}case 34:{s=this.parseVariable(e,16,null,e.tokenPos);break}case 56:{s=this.parseVariable(e,0,null,e.tokenPos);break}case 61:{s=this.parseBlockStatement(e,t);break}case 45:{t&&this.error(1108,e.range()),s=this.parseReturn(e);break}case 69:return P.createEmptyStatement(e.range(e.tokenPos));case 49:{s=this.parseSwitchStatement(e);break}case 51:{s=this.parseThrowStatement(e);break}case 53:{s=this.parseTryStatement(e);break}case 57:{s=this.parseVoidStatement(e);break}case 58:{s=this.parseWhileStatement(e);break}case 54:if(e.peek(!1,1)==114){s=this.parseTypeDeclaration(e,0,null,e.tokenPos);break}default:{e.reset(i),s=this.parseExpressionStatement(e);break}}return s?e.discard(i):(e.reset(i),this.skipStatement(e)),s}parseBlockStatement(e,t){for(var i=e.tokenPos,n=new Array;!e.skip(62);){let a=e.mark(),o=this.parseStatement(e,t);if(o)e.discard(a),n.push(o);else{if(e.token==120)return null;e.reset(a),this.skipStatement(e)}}var s=P.createBlockStatement(n,e.range(i,e.pos));return e.skip(69),s}parseBreak(e){var t=null;e.peek(!0)==114&&!e.nextTokenOnNewLine&&(e.next(1),t=P.createIdentifierExpression(e.readIdentifier(),e.range()));var i=P.createBreakStatement(t,e.range());return e.skip(69),i}parseContinue(e){var t=null;e.peek(!0)==114&&!e.nextTokenOnNewLine&&(e.next(1),t=P.createIdentifierExpression(e.readIdentifier(),e.range()));var i=P.createContinueStatement(t,e.range());return e.skip(69),i}parseDoStatement(e){var t=e.tokenPos,i=this.parseStatement(e);if(!i)return null;if(e.skip(58))if(e.skip(63)){let n=this.parseExpression(e);if(!n)return null;if(e.skip(64)){let s=P.createDoStatement(i,n,e.range(t,e.pos));return e.skip(69),s}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");else this.error(1005,e.range(),"while");return null}parseExpressionStatement(e){var t=this.parseExpression(e);if(!t)return null;var i=P.createExpressionStatement(t);return e.skip(69),i}parseForStatement(e){var t=e.tokenPos;if(e.skip(63)){let i=null;if(e.skip(8))i=this.parseVariable(e,8,null,e.tokenPos,!0);else if(e.skip(34))i=this.parseVariable(e,16,null,e.tokenPos,!0);else if(e.skip(56))i=this.parseVariable(e,0,null,e.tokenPos,!0);else if(!e.skip(69)&&(i=this.parseExpressionStatement(e),!i))return null;if(i){if(e.skip(39)){if(i.kind==38)return i.expression.kind!=6?(this.error(1003,i.range),null):this.parseForOfStatement(e,t,i);if(i.kind==47){let n=i.declarations;for(let s=0,a=n.length;s<a;++s){let l=n[s].initializer;l&&this.error(1190,l.range)}return this.parseForOfStatement(e,t,i)}return this.error(1003,i.range),null}if(i.kind==47){let n=i.declarations;for(let s=0,a=n.length;s<a;++s){let o=n[s];o.initializer||(o.flags&8?this.error(1155,o.name.range):o.type||this.error(1110,o.name.range.atEnd))}}}if(e.token==69){let n=null;if(!e.skip(69)&&(n=this.parseExpressionStatement(e),!n))return null;if(e.token==69){let s=null;if(!e.skip(64)){if(s=this.parseExpression(e),!s)return null;if(!e.skip(64))return this.error(1005,e.range(),")"),null}let a=this.parseStatement(e);return a?P.createForStatement(i,n?n.expression:null,s,a,e.range(t,e.pos)):null}else this.error(1005,e.range(),";")}else this.error(1005,e.range(),";")}else this.error(1005,e.range(),"(");return null}parseForOfStatement(e,t,i){var n=this.parseExpression(e);if(!n)return null;if(!e.skip(64))return this.error(1005,e.range(),")"),null;var s=this.parseStatement(e);return s?P.createForOfStatement(i,n,s,e.range(t,e.pos)):null}parseIfStatement(e){var t=e.tokenPos;if(e.skip(63)){let i=this.parseExpression(e);if(!i)return null;if(e.skip(64)){let n=this.parseStatement(e);if(!n)return null;let s=null;return e.skip(16)&&(s=this.parseStatement(e),!s)?null:P.createIfStatement(i,n,s,e.range(t,e.pos))}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseSwitchStatement(e){var t=e.tokenPos;if(e.skip(63)){let i=this.parseExpression(e);if(!i)return null;if(e.skip(64))if(e.skip(61)){let n=new Array;for(;!e.skip(62);){let a=this.parseSwitchCase(e);if(!a)return null;n.push(a)}let s=P.createSwitchStatement(i,n,e.range(t,e.pos));return e.skip(69),s}else this.error(1005,e.range(),"{");else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseSwitchCase(e){var t=e.tokenPos,i,n;if(e.skip(5)){let s=this.parseExpression(e);if(!s)return null;if(e.skip(99)){for(i=new Array;e.peek()!=5&&e.nextToken!=13&&e.nextToken!=62;){if(n=this.parseStatement(e),!n)return null;i.push(n)}return P.createSwitchCase(s,i,e.range(t,e.pos))}else this.error(1005,e.range(),":")}else if(e.skip(13))if(e.skip(99)){for(i=new Array;e.peek()!=5&&e.nextToken!=13&&e.nextToken!=62;){if(n=this.parseStatement(e),!n)return null;i.push(n)}return P.createSwitchCase(null,i,e.range(t,e.pos))}else this.error(1005,e.range(),":");else this.error(1130,e.range());return null}parseThrowStatement(e){var t=e.tokenPos,i=this.parseExpression(e);if(!i)return null;var n=P.createThrowStatement(i,e.range(t,e.pos));return e.skip(69),n}parseTryStatement(e){var t=e.tokenPos,i;if(e.skip(61)){let n=new Array;for(;!e.skip(62);){if(i=this.parseStatement(e),!i)return null;n.push(i)}let s=null,a=null,o=null;if(e.skip(6)){if(!e.skip(63))return this.error(1005,e.range(),"("),null;if(!e.skipIdentifier())return this.error(1003,e.range()),null;if(s=P.createIdentifierExpression(e.readIdentifier(),e.range()),!e.skip(64))return this.error(1005,e.range(),")"),null;if(!e.skip(61))return this.error(1005,e.range(),"{"),null;for(a=[];!e.skip(62);){if(i=this.parseStatement(e),!i)return null;a.push(i)}}if(e.skip(21)){if(!e.skip(61))return this.error(1005,e.range(),"{"),null;for(o=[];!e.skip(62);){if(i=this.parseStatement(e),!i)return null;o.push(i)}}if(!(a||o))return this.error(1005,e.range(),"catch"),null;let l=P.createTryStatement(n,s,a,o,e.range(t,e.pos));return e.skip(69),l}else this.error(1005,e.range(),"{");return null}parseTypeDeclaration(e,t,i,n){if(e.skipIdentifier()){let s=P.createIdentifierExpression(e.readIdentifier(),e.range()),a=null;if(e.skip(71)){if(a=this.parseTypeParameters(e),!a)return null;t|=32768}if(e.skip(100)){e.skip(92);let o=this.parseType(e);if(!o)return null;let l=P.createTypeDeclaration(s,i,t,a,o,e.range(n,e.pos));return e.skip(69),l.overriddenModuleName=this.currentModuleName,l}else this.error(1005,e.range(),"=")}else this.error(1003,e.range());return null}parseModuleDeclaration(e,t){var i=e.tokenPos;assert(e.next()==115);var n=e.readString(),s=P.createModuleDeclaration(n,t,e.range(i,e.pos));return this.currentModuleName=n,e.skip(69),s}parseVoidStatement(e){var t=e.tokenPos,i=this.parseExpression(e,he.GROUPING);if(!i)return null;var n=P.createVoidStatement(i,e.range(t,e.pos));return e.skip(69),n}parseWhileStatement(e){var t=e.tokenPos;if(e.skip(63)){let i=this.parseExpression(e);if(!i)return null;if(e.skip(64)){let n=this.parseStatement(e);if(!n)return null;let s=P.createWhileStatement(i,n,e.range(t,e.pos));return e.skip(69),s}else this.error(1005,e.range(),")")}else this.error(1005,e.range(),"(");return null}parseExpressionStart(e){var t=e.next(1),i=e.tokenPos;switch(t){case 68:case 60:case 94:case 95:case 80:case 81:case 55:case 57:case 14:{let n=this.parseExpression(e,he.UNARY_PREFIX);return n?P.createUnaryPrefixExpression(t,n,e.range(i,e.pos)):null}case 86:case 87:{let n=this.parseExpression(e,he.UNARY_PREFIX);if(!n)return null;switch(n.kind){case 6:case 12:case 21:break;default:this.error(2357,n.range)}return P.createUnaryPrefixExpression(t,n,e.range(i,e.pos))}case 37:{if(!e.skipIdentifier())return this.error(1003,e.range()),null;let n=this.parseTypeName(e);if(!n)return null;let s=null,a=null;if(e.skip(63)||(s=this.tryParseTypeArgumentsBeforeArguments(e))){if(a=this.parseArguments(e),!a)return null}else a=[];return P.createNewExpression(n,s,a,e.range(i,e.pos))}case 38:return P.createNullExpression(e.range());case 52:return P.createTrueExpression(e.range());case 20:return P.createFalseExpression(e.range());case 50:return P.createThisExpression(e.range());case 10:return P.createConstructorExpression(e.range());case 63:{if(e.skip(64))return this.parseFunctionExpressionCommon(e,P.createEmptyIdentifierExpression(e.range(i)),[],null,1);let n=e.mark(),s=!0;do switch(e.next(1)){case 68:return e.reset(n),this.parseFunctionExpression(e);case 114:{switch(e.readIdentifier(),e.next()){case 64:if(!e.skip(99)&&!e.skip(79)){s=!1;break}case 99:return e.reset(n),this.parseFunctionExpression(e);case 98:{if(e.skip(99)||e.skip(70)||e.skip(64))return e.reset(n),this.parseFunctionExpression(e);s=!1;break}case 70:break;default:{s=!1;break}}break}default:{s=!1;break}}while(s);e.reset(n);let a=this.parseExpression(e);return a?e.skip(64)?(a=P.createParenthesizedExpression(a,e.range(i,e.pos)),this.maybeParseCallExpression(e,a)):(this.error(1005,e.range(),")"),null):null}case 65:{let n=new Array;for(;!e.skip(66);){let s;if(e.peek()==70)s=P.createOmittedExpression(e.range(e.pos));else if(s=this.parseExpression(e,he.COMMA+1),!s)return null;if(n.push(s),!e.skip(70)){if(e.skip(66))break;return this.error(1005,e.range(),"]"),null}}return P.createArrayLiteralExpression(n,e.range(i,e.pos))}case 61:{let n=e.tokenPos,s=new Array,a=new Array,o;for(;!e.skip(62);){if(e.skipIdentifier())o=P.createIdentifierExpression(e.readIdentifier(),e.range());else{if(!e.skip(115))return this.error(1003,e.range()),null;o=P.createIdentifierExpression(e.readString(),e.range()),o.isQuoted=!0}if(s.push(o),e.skip(99)){let l=this.parseExpression(e,he.COMMA+1);if(!l)return null;a.push(l)}else if(!o.isQuoted)a.push(o);else return this.error(1005,e.range(),":"),null;if(!e.skip(70)){if(e.skip(62))break;return this.error(1005,e.range(),"}"),null}}return P.createObjectLiteralExpression(s,a,e.range(n,e.pos))}case 71:{let n=this.parseType(e);if(!n)return null;if(!e.skip(72))return this.error(1005,e.range(),">"),null;let s=this.parseExpression(e,he.CALL);return s?P.createAssertionExpression(0,s,n,e.range(i,e.pos)):null}case 114:{let n=e.readIdentifier();if(n=="null")return P.createNullExpression(e.range());let s=P.createIdentifierExpression(n,e.range(i,e.pos));return e.skip(118)?this.parseTemplateLiteral(e,s):e.peek(!0)==79&&!e.nextTokenOnNewLine?this.parseFunctionExpressionCommon(e,P.createEmptyIdentifierExpression(e.range(i)),[P.createParameter(0,s,P.createOmittedType(s.range.atEnd),null,s.range)],null,2,i):this.maybeParseCallExpression(e,s,!0)}case 48:{e.peek()!=67&&e.nextToken!=63&&this.error(1034,e.range());let n=P.createSuperExpression(e.range(i,e.pos));return this.maybeParseCallExpression(e,n)}case 115:return P.createStringLiteralExpression(e.readString(),e.range(i,e.pos));case 118:return this.parseTemplateLiteral(e);case 116:{let n=e.readInteger();return e.checkForIdentifierStartAfterNumericLiteral(),P.createIntegerLiteralExpression(n,e.range(i,e.pos))}case 117:{let n=e.readFloat();return e.checkForIdentifierStartAfterNumericLiteral(),P.createFloatLiteralExpression(n,e.range(i,e.pos))}case 84:{let n=e.readRegexpPattern();return e.skip(84)?P.createRegexpLiteralExpression(n,e.readRegexpFlags(),e.range(i,e.pos)):(this.error(1005,e.range(),"/"),null)}case 24:{let n=this.parseFunctionExpression(e);return n?this.maybeParseCallExpression(e,n):null}case 7:return this.parseClassExpression(e);default:return t==120?this.error(1126,e.range(i)):this.error(1109,e.range()),null}}tryParseTypeArgumentsBeforeArguments(e){var t=e.mark();if(!e.skip(71))return null;var i=e.tokenPos,n=null;do{if(e.peek()==72)break;let s=this.parseType(e,!0,!0);if(!s)return e.reset(t),null;n?n.push(s):n=[s]}while(e.skip(70));if(e.skip(72)){let s=e.pos;if(e.skip(63))return n||this.error(1099,e.range(i,s)),n}return e.reset(t),null}parseArguments(e){for(var t=new Array;!e.skip(64);){let i=this.parseExpression(e,he.COMMA+1);if(!i)return null;if(t.push(i),!e.skip(70)){if(e.skip(64))break;return this.error(1005,e.range(),")"),null}}return t}parseExpression(e,t=he.COMMA){assert(t!=he.NONE);var i=this.parseExpressionStart(e);if(!i)return null;for(var n=i.range.start,s;(s=qd(e.peek()))>=t;){let a=e.next();switch(a){case 1:{if(e.skip(8))i=P.createAssertionExpression(3,i,null,e.range(n,e.pos));else{let o=this.parseType(e);if(!o)return null;i=P.createAssertionExpression(1,i,o,e.range(n,e.pos))}break}case 94:{i=P.createAssertionExpression(2,i,null,e.range(n,e.pos)),i=this.maybeParseCallExpression(e,i);break}case 30:{let o=this.parseType(e);if(!o)return null;i=P.createInstanceOfExpression(i,o,e.range(n,e.pos));break}case 65:{let o=this.parseExpression(e);if(!o)return null;if(!e.skip(66))return this.error(1005,e.range(),"]"),null;i=P.createElementAccessExpression(i,o,e.range(n,e.pos)),i=this.maybeParseCallExpression(e,i);break}case 86:case 87:{i.kind!=6&&i.kind!=12&&i.kind!=21&&this.error(2357,i.range),i=P.createUnaryPostfixExpression(a,i,e.range(n,e.pos));break}case 98:{let o=this.parseExpression(e);if(!o)return null;if(!e.skip(99))return this.error(1005,e.range(),":"),null;let l=this.parseExpression(e,t>he.COMMA?he.COMMA+1:he.COMMA);if(!l)return null;i=P.createTernaryExpression(i,o,l,e.range(n,e.pos));break}case 70:{let o=[i];do{if(i=this.parseExpression(e,he.COMMA+1),!i)return null;o.push(i)}while(e.skip(70));i=P.createCommaExpression(o,e.range(n,e.pos));break}case 67:{if(e.skipIdentifier(2)){let o=P.createIdentifierExpression(e.readIdentifier(),e.range());i=P.createPropertyAccessExpression(i,o,e.range(n,e.pos))}else{let o=this.parseExpression(e,s+1);if(!o)return null;if(o.kind==9){if(i=this.joinPropertyCall(e,n,i,o),!i)return null}else return this.error(1003,o.range),null}if(e.skip(118)){if(i=this.parseTemplateLiteral(e,i),!i)return null}else i=this.maybeParseCallExpression(e,i,!0);break}case 100:case 101:case 102:case 104:case 103:case 105:case 106:case 107:case 108:case 109:case 110:case 112:case 111:case 82:{let o=this.parseExpression(e,s);if(!o)return null;i=P.createBinaryExpression(a,i,o,e.range(n,e.pos));break}case 71:case 72:case 73:case 74:case 75:case 77:case 78:case 76:case 80:case 81:case 83:case 84:case 85:case 88:case 89:case 90:case 91:case 92:case 93:case 96:case 97:{let o=this.parseExpression(e,s+1);if(!o)return null;i=P.createBinaryExpression(a,i,o,e.range(n,e.pos));break}default:assert(!1)}}return i}parseTemplateLiteral(e,t=null){var i=t?t.range.start:e.tokenPos,n=new Array,s=new Array,a=new Array;for(n.push(e.readString(0,t!=null)),s.push(e.source.text.substring(e.readStringStart,e.readStringEnd));e.readingTemplateString;){let o=this.parseExpression(e);if(!o)return null;if(a.push(o),!e.skip(62))return this.error(1005,e.range(),"}"),null;n.push(e.readString(96,t!=null)),s.push(e.source.text.substring(e.readStringStart,e.readStringEnd))}return P.createTemplateLiteralExpression(t,n,s,a,e.range(i,e.pos))}joinPropertyCall(e,t,i,n){var s=n.expression;switch(s.kind){case 6:{n.expression=P.createPropertyAccessExpression(i,s,e.range(t,e.pos));break}case 9:{let a=this.joinPropertyCall(e,t,i,s);if(!a)return null;n.expression=a,n.range=e.range(t,e.pos);break}default:return this.error(1003,n.range),null}return n}maybeParseCallExpression(e,t,i=!1){for(var n=null;e.skip(63)||i&&(n=this.tryParseTypeArgumentsBeforeArguments(e));){let s=this.parseArguments(e);if(!s)break;t=P.createCallExpression(t,n,s,e.range(t.range.start,e.pos)),i=!1}return t}skipStatement(e){e.peek(!0),e.nextTokenOnNewLine&&e.next();do{let t=e.peek(!0);if(t==120||t==69){e.next();break}if(e.nextTokenOnNewLine)break;switch(e.next()){case 114:{e.readIdentifier();break}case 115:case 118:{e.readString();break}case 116:{e.readInteger(),e.checkForIdentifierStartAfterNumericLiteral();break}case 117:{e.readFloat(),e.checkForIdentifierStartAfterNumericLiteral();break}case 61:{this.skipBlock(e);break}}}while(!0);e.readingTemplateString=!1}skipBlock(e){var t=1,i=!0;do switch(e.next()){case 120:{this.error(1005,e.range(),"}"),i=!1;break}case 61:{++t;break}case 62:{--t,t||(i=!1);break}case 114:{e.readIdentifier();break}case 115:{e.readString();break}case 118:{for(e.readString();e.readingTemplateString;)this.skipBlock(e),e.readString(96);break}case 116:{e.readInteger(),e.checkForIdentifierStartAfterNumericLiteral();break}case 117:{e.readFloat(),e.checkForIdentifierStartAfterNumericLiteral();break}}while(i)}},he=(k=>(k[k.NONE=0]="NONE",k[k.COMMA=1]="COMMA",k[k.SPREAD=2]="SPREAD",k[k.YIELD=3]="YIELD",k[k.ASSIGNMENT=4]="ASSIGNMENT",k[k.CONDITIONAL=5]="CONDITIONAL",k[k.LOGICAL_OR=6]="LOGICAL_OR",k[k.LOGICAL_AND=7]="LOGICAL_AND",k[k.BITWISE_OR=8]="BITWISE_OR",k[k.BITWISE_XOR=9]="BITWISE_XOR",k[k.BITWISE_AND=10]="BITWISE_AND",k[k.EQUALITY=11]="EQUALITY",k[k.RELATIONAL=12]="RELATIONAL",k[k.SHIFT=13]="SHIFT",k[k.ADDITIVE=14]="ADDITIVE",k[k.MULTIPLICATIVE=15]="MULTIPLICATIVE",k[k.EXPONENTIATED=16]="EXPONENTIATED",k[k.UNARY_PREFIX=17]="UNARY_PREFIX",k[k.UNARY_POSTFIX=18]="UNARY_POSTFIX",k[k.CALL=19]="CALL",k[k.MEMBERACCESS=20]="MEMBERACCESS",k[k.GROUPING=21]="GROUPING",k))(he||{});function qd(r){switch(r){case 70:return 1;case 100:case 101:case 102:case 104:case 103:case 105:case 106:case 107:case 108:case 109:case 110:case 112:case 111:return 4;case 98:return 5;case 97:return 6;case 96:return 7;case 92:return 8;case 93:return 9;case 91:return 10;case 75:case 76:case 77:case 78:return 11;case 1:case 29:case 30:case 71:case 72:case 73:case 74:return 12;case 88:case 89:case 90:return 13;case 80:case 81:return 14;case 83:case 84:case 85:return 15;case 82:return 16;case 86:case 87:return 18;case 67:case 65:case 94:return 20}return 0}var gc=16,Jr=gc-1,kl=class{constructor(e,t,i,n,s){this.localFile=e;this.localIdentifier=t;this.foreignIdentifier=i;this.foreignPath=n;this.foreignPathAlt=s}},Pl=class{constructor(e,t,i,n){this.localIdentifier=e;this.foreignIdentifier=t;this.foreignPath=i;this.foreignPathAlt=n}},Tc=class{constructor(e,t,i){this.foreignPath=e;this.foreignPathAlt=t;this.pathLiteral=i}},Le=(U=>(U[U.INVALID=0]="INVALID",U[U.INDEXED_GET=1]="INDEXED_GET",U[U.INDEXED_SET=2]="INDEXED_SET",U[U.UNCHECKED_INDEXED_GET=3]="UNCHECKED_INDEXED_GET",U[U.UNCHECKED_INDEXED_SET=4]="UNCHECKED_INDEXED_SET",U[U.ADD=5]="ADD",U[U.SUB=6]="SUB",U[U.MUL=7]="MUL",U[U.DIV=8]="DIV",U[U.REM=9]="REM",U[U.POW=10]="POW",U[U.BITWISE_AND=11]="BITWISE_AND",U[U.BITWISE_OR=12]="BITWISE_OR",U[U.BITWISE_XOR=13]="BITWISE_XOR",U[U.BITWISE_SHL=14]="BITWISE_SHL",U[U.BITWISE_SHR=15]="BITWISE_SHR",U[U.BITWISE_SHR_U=16]="BITWISE_SHR_U",U[U.EQ=17]="EQ",U[U.NE=18]="NE",U[U.GT=19]="GT",U[U.GE=20]="GE",U[U.LT=21]="LT",U[U.LE=22]="LE",U[U.PLUS=23]="PLUS",U[U.MINUS=24]="MINUS",U[U.NOT=25]="NOT",U[U.BITWISE_NOT=26]="BITWISE_NOT",U[U.PREFIX_INC=27]="PREFIX_INC",U[U.PREFIX_DEC=28]="PREFIX_DEC",U[U.POSTFIX_INC=29]="POSTFIX_INC",U[U.POSTFIX_DEC=30]="POSTFIX_DEC",U))(Le||{});(n=>{function r(s,a){switch(assert(a.length),s){case 2:case 3:{switch(a.charCodeAt(0)){case 91:{if(a=="[]")return 1;if(a=="[]=")return 2;break}case 123:{if(a=="{}")return 3;if(a=="{}=")return 4;break}case 43:{if(a=="+")return 5;break}case 45:{if(a=="-")return 6;break}case 42:{if(a=="*")return 7;if(a=="**")return 10;break}case 47:{if(a=="/")return 8;break}case 37:{if(a=="%")return 9;break}case 38:{if(a=="&")return 11;break}case 124:{if(a=="|")return 12;break}case 94:{if(a=="^")return 13;break}case 61:{if(a=="==")return 17;break}case 33:{if(a=="!=")return 18;break}case 62:{if(a==">")return 19;if(a==">=")return 20;if(a==">>")return 15;if(a==">>>")return 16;break}case 60:{if(a=="<")return 21;if(a=="<=")return 22;if(a=="<<")return 14;break}}break}case 4:{switch(a.charCodeAt(0)){case 43:{if(a=="+")return 23;if(a=="++")return 27;break}case 45:{if(a=="-")return 24;if(a=="--")return 28;break}case 33:{if(a=="!")return 25;break}case 126:{if(a=="~")return 26;break}}break}case 5:{switch(a.charCodeAt(0)){case 43:{if(a=="++")return 29;break}case 45:{if(a=="--")return 30;break}}break}}return 0}n.fromDecorator=r;function e(s){switch(s){case 80:case 101:return 5;case 81:case 102:return 6;case 83:case 103:return 7;case 84:case 105:return 8;case 85:case 106:return 9;case 82:case 104:return 10;case 91:case 110:return 11;case 92:case 111:return 12;case 93:case 112:return 13;case 88:case 107:return 14;case 89:case 108:return 15;case 90:case 109:return 16;case 75:return 17;case 76:return 18;case 72:return 19;case 74:return 20;case 71:return 21;case 73:return 22}return 0}n.fromBinaryToken=e;function t(s){switch(s){case 80:return 23;case 81:return 24;case 94:return 25;case 95:return 26;case 86:return 27;case 87:return 28}return 0}n.fromUnaryPrefixToken=t;function i(s){switch(s){case 86:return 29;case 87:return 30}return 0}n.fromUnaryPostfixToken=i})(Le||={});var gs=class extends Ve{constructor(e,t=null){super(t);this.options=e;this.sources=[];this.diagnosticsOffset=0;this.nextClassId=0;this.nextSignatureId=0;this.initialized=!1;this.filesByName=new Map;this.elementsByName=new Map;this.elementsByDeclaration=new Map;this.instancesByName=new Map;this.wrapperClasses=new Map;this.managedClasses=new Map;this.uniqueSignatures=new Array(0);this.moduleExports=new Map;this.moduleImports=new Map;this._arrayBufferViewInstance=null;this._arrayBufferInstance=null;this._arrayPrototype=null;this._staticArrayPrototype=null;this._setPrototype=null;this._mapPrototype=null;this._functionPrototype=null;this._int8ArrayPrototype=null;this._int16ArrayPrototype=null;this._int32ArrayPrototype=null;this._int64ArrayPrototype=null;this._uint8ArrayPrototype=null;this._uint8ClampedArrayPrototype=null;this._uint16ArrayPrototype=null;this._uint32ArrayPrototype=null;this._uint64ArrayPrototype=null;this._float32ArrayPrototype=null;this._float64ArrayPrototype=null;this._stringInstance=null;this._objectInstance=null;this._templateStringsArrayInstance=null;this._allocInstance=null;this._reallocInstance=null;this._freeInstance=null;this._newInstance=null;this._renewInstance=null;this._linkInstance=null;this._collectInstance=null;this._visitInstance=null;this._typeinfoInstance=null;this._instanceofInstance=null;this._newBufferInstance=null;this._newArrayInstance=null;this._BLOCKInstance=null;this._OBJECTInstance=null;this.nativeDummySignature=null;var i=new Vr(3,Ze+"native.ts","[native code]");this.nativeSource=i,this.parser=new Es(this.diagnostics,this.sources),this.resolver=new qn(this);var n=new ys(this,i);this.nativeFile=n,this.filesByName.set(n.internalName,n)}get nativeRange(){return this.nativeSource.range}get arrayBufferViewInstance(){var e=this._arrayBufferViewInstance;return e||(this._arrayBufferViewInstance=e=this.requireClass(w.ArrayBufferView)),e}get arrayBufferInstance(){var e=this._arrayBufferInstance;return e||(this._arrayBufferInstance=e=this.requireClass(w.ArrayBuffer)),e}get arrayPrototype(){var e=this._arrayPrototype;return e||(this._arrayPrototype=e=this.require(w.Array,J.CLASS_PROTOTYPE)),e}get staticArrayPrototype(){var e=this._staticArrayPrototype;return e||(this._staticArrayPrototype=e=this.require(w.StaticArray,J.CLASS_PROTOTYPE)),e}get setPrototype(){var e=this._setPrototype;return e||(this._setPrototype=e=this.require(w.Set,J.CLASS_PROTOTYPE)),e}get mapPrototype(){var e=this._mapPrototype;return e||(this._mapPrototype=e=this.require(w.Map,J.CLASS_PROTOTYPE)),e}get functionPrototype(){var e=this._functionPrototype;return e||(this._functionPrototype=e=this.require(w.Function,J.CLASS_PROTOTYPE)),e}get int8ArrayPrototype(){var e=this._int8ArrayPrototype;return e||(this._int8ArrayPrototype=e=this.require(w.Int8Array,J.CLASS_PROTOTYPE)),e}get int16ArrayPrototype(){var e=this._int16ArrayPrototype;return e||(this._int16ArrayPrototype=e=this.require(w.Int16Array,J.CLASS_PROTOTYPE)),e}get int32ArrayPrototype(){var e=this._int32ArrayPrototype;return e||(this._int32ArrayPrototype=e=this.require(w.Int32Array,J.CLASS_PROTOTYPE)),e}get int64ArrayPrototype(){var e=this._int64ArrayPrototype;return e||(this._int64ArrayPrototype=e=this.require(w.Int64Array,J.CLASS_PROTOTYPE)),e}get uint8ArrayPrototype(){var e=this._uint8ArrayPrototype;return e||(this._uint8ArrayPrototype=e=this.require(w.Uint8Array,J.CLASS_PROTOTYPE)),e}get uint8ClampedArrayPrototype(){var e=this._uint8ClampedArrayPrototype;return e||(this._uint8ClampedArrayPrototype=e=this.require(w.Uint8ClampedArray,J.CLASS_PROTOTYPE)),e}get uint16ArrayPrototype(){var e=this._uint16ArrayPrototype;return e||(this._uint16ArrayPrototype=e=this.require(w.Uint16Array,J.CLASS_PROTOTYPE)),e}get uint32ArrayPrototype(){var e=this._uint32ArrayPrototype;return e||(this._uint32ArrayPrototype=e=this.require(w.Uint32Array,J.CLASS_PROTOTYPE)),e}get uint64ArrayPrototype(){var e=this._uint64ArrayPrototype;return e||(this._uint64ArrayPrototype=e=this.require(w.Uint64Array,J.CLASS_PROTOTYPE)),e}get float32ArrayPrototype(){var e=this._float32ArrayPrototype;return e||(this._float32ArrayPrototype=e=this.require(w.Float32Array,J.CLASS_PROTOTYPE)),e}get float64ArrayPrototype(){var e=this._float64ArrayPrototype;return e||(this._float64ArrayPrototype=e=this.require(w.Float64Array,J.CLASS_PROTOTYPE)),e}get stringInstance(){var e=this._stringInstance;return e||(this._stringInstance=e=this.requireClass(w.String)),e}get objectInstance(){var e=this._objectInstance;return e||(this._objectInstance=e=this.requireClass(w.Object)),e}get templateStringsArrayInstance(){var e=this._templateStringsArrayInstance;return e||(this._templateStringsArrayInstance=e=this.requireClass(w.TemplateStringsArray)),e}get abortInstance(){var e=this.lookup(w.abort);return!e||e.kind!=J.FUNCTION_PROTOTYPE?null:this.resolver.resolveFunction(e,null)}get allocInstance(){var e=this._allocInstance;return e||(this._allocInstance=e=this.requireFunction(w.alloc)),e}get reallocInstance(){var e=this._reallocInstance;return e||(this._reallocInstance=e=this.requireFunction(w.realloc)),e}get freeInstance(){var e=this._freeInstance;return e||(this._freeInstance=e=this.requireFunction(w.free)),e}get newInstance(){var e=this._newInstance;return e||(this._newInstance=e=this.requireFunction(w.new_)),e}get renewInstance(){var e=this._renewInstance;return e||(this._renewInstance=e=this.requireFunction(w.renew)),e}get linkInstance(){var e=this._linkInstance;return e||(this._linkInstance=e=this.requireFunction(w.link)),e}get collectInstance(){var e=this._collectInstance;return e||(this._collectInstance=e=this.requireFunction(w.collect)),e}get visitInstance(){var e=this._visitInstance;return e||(this._visitInstance=e=this.requireFunction(w.visit)),e}get typeinfoInstance(){var e=this._typeinfoInstance;return e||(this._typeinfoInstance=e=this.requireFunction(w.typeinfo)),e}get instanceofInstance(){var e=this._instanceofInstance;return e||(this._instanceofInstance=e=this.requireFunction(w.instanceof_)),e}get newBufferInstance(){var e=this._newBufferInstance;return e||(this._newBufferInstance=e=this.requireFunction(w.newBuffer)),e}get newArrayInstance(){var e=this._newArrayInstance;return e||(this._newArrayInstance=e=this.requireFunction(w.newArray)),e}get BLOCKInstance(){var e=this._BLOCKInstance;return e||(this._BLOCKInstance=e=this.requireClass(w.BLOCK)),e}get OBJECTInstance(){var e=this._OBJECTInstance;return e||(this._OBJECTInstance=e=this.requireClass(w.OBJECT)),e}get isWasi(){return this.elementsByName.has(w.ASC_WASI)}getSource(e){var t=this.sources;for(let i=0;i<t.length;++i){let n=t[i];if(n.internalPath==e)return n.text}return null}get blockOverhead(){return this.BLOCKInstance.nextMemoryOffset}get objectOverhead(){return this.OBJECTInstance.nextMemoryOffset-this.blockOverhead+Jr&~Jr}get totalOverhead(){return this.blockOverhead+this.objectOverhead}computeBlockStart(e){var t=this.blockOverhead;return(e+t+Jr&~Jr)-t}computeBlockStart64(e){var t=i64_new(this.blockOverhead);return i64_sub(i64_align(i64_add(e,t),gc),t)}computeBlockSize(e,t){t&&(e+=this.objectOverhead);var i=this.computeBlockStart(e),n=this.blockOverhead,s=(3*this.options.usizeType.byteSize+n+Jr&~Jr)-n;i<s&&(i=s);let a=1<<30,o=3;if(i>=a||(i&o)!=0)throw new Error("invalid block size");return i}makeNativeVariableDeclaration(e,t=0){var i=this.nativeSource.range;return P.createVariableDeclaration(P.createIdentifierExpression(e,i),null,t,null,null,i)}makeNativeTypeDeclaration(e,t=0){var i=this.nativeSource.range,n=P.createIdentifierExpression(e,i);return P.createTypeDeclaration(n,null,t,null,P.createOmittedType(i),i)}makeNativeFunctionDeclaration(e,t=0){var i=this.nativeSource.range,n=this.nativeDummySignature;return n||(this.nativeDummySignature=n=P.createFunctionType([],P.createNamedType(P.createSimpleTypeName(w.void_,i),null,!1,i),null,!1,i)),P.createFunctionDeclaration(P.createIdentifierExpression(e,i),null,t,null,n,null,0,i)}makeNativeNamespaceDeclaration(e,t=0){var i=this.nativeSource.range;return P.createNamespaceDeclaration(P.createIdentifierExpression(e,i),null,t,[],i)}makeNativeFunction(e,t,i=this.nativeFile,n=0,s=Q.NONE){return new je(e,new Ke(e,i,this.makeNativeFunctionDeclaration(e,n),s),null,t)}getElementByDeclaration(e){var t=this.elementsByDeclaration;return t.has(e)?assert(t.get(e)):null}initialize(){if(!this.initialized){this.initialized=!0;var e=this.options;this.registerNativeType(w.i8,u.i8),this.registerNativeType(w.i16,u.i16),this.registerNativeType(w.i32,u.i32),this.registerNativeType(w.i64,u.i64),this.registerNativeType(w.isize,e.isizeType),this.registerNativeType(w.u8,u.u8),this.registerNativeType(w.u16,u.u16),this.registerNativeType(w.u32,u.u32),this.registerNativeType(w.u64,u.u64),this.registerNativeType(w.usize,e.usizeType),this.registerNativeType(w.bool,u.bool),this.registerNativeType(w.f32,u.f32),this.registerNativeType(w.f64,u.f64),this.registerNativeType(w.void_,u.void),this.registerNativeType(w.number,u.f64),this.registerNativeType(w.boolean,u.bool),this.nativeFile.add(w.native,new bt(w.native,this.nativeFile,this.makeNativeTypeDeclaration(w.native,32770),Q.BUILTIN)),this.nativeFile.add(w.indexof,new bt(w.indexof,this.nativeFile,this.makeNativeTypeDeclaration(w.indexof,32770),Q.BUILTIN)),this.nativeFile.add(w.valueof,new bt(w.valueof,this.nativeFile,this.makeNativeTypeDeclaration(w.valueof,32770),Q.BUILTIN)),this.nativeFile.add(w.returnof,new bt(w.returnof,this.nativeFile,this.makeNativeTypeDeclaration(w.returnof,32770),Q.BUILTIN)),this.nativeFile.add(w.nonnull,new bt(w.nonnull,this.nativeFile,this.makeNativeTypeDeclaration(w.nonnull,32770),Q.BUILTIN)),this.registerNativeType(w.v128,u.v128),this.registerNativeType(w.funcref,u.funcref),this.registerNativeType(w.externref,u.externref),this.registerNativeType(w.anyref,u.anyref),this.registerNativeType(w.eqref,u.eqref),this.registerNativeType(w.i31ref,u.i31ref),this.registerNativeType(w.dataref,u.dataref),this.registerConstantInteger(w.ASC_TARGET,u.i32,i64_new(e.isWasm64?2:1)),this.registerConstantInteger(w.ASC_RUNTIME,u.i32,i64_new(e.runtime)),this.registerConstantInteger(w.ASC_NO_ASSERT,u.bool,i64_new(e.noAssert?1:0,0)),this.registerConstantInteger(w.ASC_MEMORY_BASE,u.i32,i64_new(e.memoryBase,0)),this.registerConstantInteger(w.ASC_TABLE_BASE,u.i32,i64_new(e.tableBase,0)),this.registerConstantInteger(w.ASC_OPTIMIZE_LEVEL,u.i32,i64_new(e.optimizeLevelHint,0)),this.registerConstantInteger(w.ASC_SHRINK_LEVEL,u.i32,i64_new(e.shrinkLevelHint,0)),this.registerConstantInteger(w.ASC_LOW_MEMORY_LIMIT,u.i32,i64_new(e.lowMemoryLimit,0)),this.registerConstantInteger(w.ASC_EXPORT_RUNTIME,u.bool,i64_new(e.exportRuntime?1:0,0)),this.registerConstantInteger(w.ASC_VERSION_MAJOR,u.i32,i64_new(e.bundleMajorVersion)),this.registerConstantInteger(w.ASC_VERSION_MINOR,u.i32,i64_new(e.bundleMinorVersion)),this.registerConstantInteger(w.ASC_VERSION_PATCH,u.i32,i64_new(e.bundlePatchVersion)),this.registerConstantInteger(w.ASC_FEATURE_SIGN_EXTENSION,u.bool,i64_new(e.hasFeature(1)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_MUTABLE_GLOBALS,u.bool,i64_new(e.hasFeature(2)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_NONTRAPPING_F2I,u.bool,i64_new(e.hasFeature(4)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_BULK_MEMORY,u.bool,i64_new(e.hasFeature(8)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_SIMD,u.bool,i64_new(e.hasFeature(16)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_THREADS,u.bool,i64_new(e.hasFeature(32)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_EXCEPTION_HANDLING,u.bool,i64_new(e.hasFeature(64)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_TAIL_CALLS,u.bool,i64_new(e.hasFeature(128)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_REFERENCE_TYPES,u.bool,i64_new(e.hasFeature(256)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_MULTI_VALUE,u.bool,i64_new(e.hasFeature(512)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_GC,u.bool,i64_new(e.hasFeature(1024)?1:0,0)),this.registerConstantInteger(w.ASC_FEATURE_MEMORY64,u.bool,i64_new(e.hasFeature(2048)?1:0,0));var t=new Array,i=new Map,n=new Map,s=new Array,a=new Array;for(let l=0,p=this.sources.length;l<p;++l){let c=this.sources[l],_=new ys(this,c);this.filesByName.set(_.internalName,_);let f=c.statements;for(let E=0,g=f.length;E<g;++E){let b=f[E];switch(b.kind){case 35:{this.initializeExports(b,_,i,n);break}case 36:{this.initializeExportDefault(b,_,s,a);break}case 42:{this.initializeImports(b,_,t,i);break}case 47:{this.initializeVariables(b,_);break}case 51:{this.initializeClass(b,_,s,a);break}case 52:{this.initializeEnum(b,_);break}case 55:{this.initializeFunction(b,_);break}case 57:{this.initializeInterface(b,_,s);break}case 59:{this.initializeNamespace(b,_,s,a);break}case 60:{this.initializeTypeDefinition(b,_);break}}}}for(let l=Map_keys(n),p=0,c=l.length;p<c;++p){let _=l[p],f=assert(n.get(_));for(let E=0,g=f.length;E<g;++E){let b=unchecked(f[E]),x=this.lookupForeignFile(b.foreignPath,b.foreignPathAlt);if(!x){this.error(6054,b.pathLiteral.range,b.pathLiteral.value);continue}_.ensureExportStar(x)}}do{let l=0,p=!1;for(;l<t.length;){let c=t[l],_=c.localIdentifier,f=c.foreignIdentifier,E=assert(this.lookupForeignFile(c.foreignPath,c.foreignPathAlt));if(f){let g=this.lookupForeign(f.text,E,i);g?(c.localFile.add(_.text,g,_),t.splice(l,1),p=!0):++l}else{let g=c.localFile,b=_.text;g.add(b,E.asAliasNamespace(b,g,_),_),t.splice(l,1),p=!0}}if(!p){for(let c=0,_=t.length;c<_;++c){let f=t[c],E=f.foreignIdentifier;E&&this.error(2305,E.range,f.foreignPath,E.text)}break}}while(!0);for(let l=Map_keys(i),p=0,c=l.length;p<c;++p){let _=unchecked(l[p]),f=assert(i.get(_));for(let E=Map_keys(f),g=0,b=E.length;g<b;++g){let x=unchecked(E[g]),S=assert(f.get(x)),v=S.localIdentifier.text,L=S.foreignPath;if(L){let O=assert(this.lookupForeignFile(L,assert(S.foreignPathAlt))),C=this.lookupForeign(v,O,i);C?_.ensureExport(x,C):this.error(2305,S.localIdentifier.range,L,v)}else{let O=_.getMember(v);if(O)_.ensureExport(x,O);else{let C=this.lookup(v);C&&nn(C.kind)?_.ensureExport(x,C):this.error(2305,S.foreignIdentifier.range,_.internalName,S.foreignIdentifier.text)}}}}assert(this.arrayBufferInstance.id==0),assert(this.stringInstance.id==1),assert(this.arrayBufferViewInstance.id==2),this.registerWrapperClass(u.i8,w.I8),this.registerWrapperClass(u.i16,w.I16),this.registerWrapperClass(u.i32,w.I32),this.registerWrapperClass(u.i64,w.I64),this.registerWrapperClass(e.isizeType,w.Isize),this.registerWrapperClass(u.u8,w.U8),this.registerWrapperClass(u.u16,w.U16),this.registerWrapperClass(u.u32,w.U32),this.registerWrapperClass(u.u64,w.U64),this.registerWrapperClass(e.usizeType,w.Usize),this.registerWrapperClass(u.bool,w.Bool),this.registerWrapperClass(u.f32,w.F32),this.registerWrapperClass(u.f64,w.F64),e.hasFeature(16)&&this.registerWrapperClass(u.v128,w.V128),e.hasFeature(256)&&(this.registerWrapperClass(u.funcref,w.Funcref),this.registerWrapperClass(u.externref,w.Externref),e.hasFeature(1024)&&(this.registerWrapperClass(u.anyref,w.Anyref),this.registerWrapperClass(u.eqref,w.Eqref),this.registerWrapperClass(u.i31ref,w.I31ref),this.registerWrapperClass(u.dataref,w.Dataref)));var o=this.resolver;for(let l=0,p=s.length;l<p;++l){let c=s[l],_=assert(c.extendsNode),f=o.resolveTypeName(_.name,c.parent);if(!!f)if(c.kind==J.CLASS_PROTOTYPE)if(f.kind==J.CLASS_PROTOTYPE){let E=f;E.hasDecorator(Q.FINAL)&&this.error(211,_.range,E.identifierNode.text),E.hasDecorator(Q.UNMANAGED)!=c.hasDecorator(Q.UNMANAGED)&&this.error(207,se.join(c.identifierNode.range,_.range)),c.basePrototype=E}else this.error(1311,_.range);else c.kind==J.INTERFACE_PROTOTYPE&&(f.kind==J.INTERFACE_PROTOTYPE?c.basePrototype=f:this.error(2312,_.range))}for(let l=0,p=a.length;l<p;++l){let c=a[l],_=assert(c.implementsNodes);for(let f=0,E=_.length;f<E;++f){let g=_[f],b=o.resolveTypeName(g.name,c.parent);if(!!b)if(b.kind==J.INTERFACE_PROTOTYPE){let x=b,S=c.interfacePrototypes;S||(c.interfacePrototypes=S=new Array),S.push(x)}else this.error(2422,g.range)}}for(let l=0,p=s.length;l<p;++l){let c=s[l],_=c.basePrototype;_&&this.markVirtuals(c,_)}for(let l=0,p=a.length;l<p;++l){let c=a[l],_=c.basePrototype,f=c.interfacePrototypes;if(_&&this.markVirtuals(c,_),f)for(let E=0,g=f.length;E<g;++E)this.markVirtuals(c,f[E])}{let l=e.globalAliases;l||(l=new Map);let p=this.isWasi;l.has(w.abort)||l.set(w.abort,p?h.wasiAbort:h.abort),l.has(w.trace)||l.set(w.trace,p?h.wasiTrace:h.trace),l.has(w.seed)||l.set(w.seed,p?h.wasiSeed:h.seed),l.has(w.Math)||l.set(w.Math,w.NativeMath),l.has(w.Mathf)||l.set(w.Mathf,w.NativeMathf);for(let c=Map_keys(l),_=0,f=c.length;_<f;++_){let E=unchecked(c[_]),g=changetype(l.get(E));if(assert(g!=null),!g.length){this.elementsByName.delete(E);continue}let b=g.charCodeAt(0);if(b>=48&&b<=57)this.registerConstantInteger(E,u.i32,i64_new(parseInt(g,10)));else{let x=this.elementsByName;if(x.has(g))x.set(E,assert(x.get(g)));else throw new Error("no such global element: "+g)}}}for(let l=Map_values(this.filesByName),p=0,c=l.length;p<c;++p){let _=unchecked(l[p]);_.source.sourceKind==1&&this.markModuleExports(_)}}}markVirtuals(e,t){var i=e.instanceMembers;if(i)do{let n=t.instanceMembers;if(n)for(let a=Map_values(i),o=0,l=a.length;o<l;++o){let p=a[o];if(!p.isAny(262656)&&n.has(p.name)){let c=assert(n.get(p.name));if(p.kind==J.FUNCTION_PROTOTYPE&&c.kind==J.FUNCTION_PROTOTYPE){let _=p,f=c;_.visibilityEquals(f)||this.errorRelated(2385,_.identifierNode.range,f.identifierNode.range),c.set(134217728);let E=f.overloads;E||(f.overloads=E=new Set),E.add(p);let g=f.instances;if(g)for(let b=Map_values(g),x=0,S=b.length;x<S;++x)b[x].set(134217728)}else if(p.kind==J.PROPERTY_PROTOTYPE&&c.kind==J.PROPERTY_PROTOTYPE){let _=p,f=c;_.visibilityEquals(f)||this.errorRelated(2385,_.identifierNode.range,f.identifierNode.range),f.set(134217728);let E=f.getterPrototype;if(E){E.set(134217728);let b=_.getterPrototype;if(b){let S=E.overloads;S||(E.overloads=S=new Set),S.add(b)}let x=E.instances;if(x)for(let S=Map_values(x),v=0,L=S.length;v<L;++v)S[v].set(134217728)}let g=f.setterPrototype;if(g&&_.setterPrototype){g.set(134217728);let b=_.setterPrototype;if(b){let S=g.overloads;S||(g.overloads=S=new Set),S.add(b)}let x=g.instances;if(x)for(let S=Map_values(x),v=0,L=S.length;v<L;++v)S[v].set(134217728)}}}}let s=t.basePrototype;if(!s)break;t=s}while(!0)}lookup(e){var t=this.elementsByName;return t.has(e)?assert(t.get(e)):null}require(e,t){var i=this.lookup(e);if(!i)throw new Error("Missing standard library component: "+e);if(i.kind!=t)throw Error("Invalid standard library component kind: "+e);return i}requireGlobal(e){return this.require(e,J.GLOBAL)}requireClass(e){var t=this.require(e,J.CLASS_PROTOTYPE),i=this.resolver.resolveClass(t,null);if(!i)throw new Error("Invalid standard library class: "+e);return i}requireFunction(e,t=null){var i=this.require(e,J.FUNCTION_PROTOTYPE),n=this.resolver.resolveFunction(i,t);if(!n)throw new Error("Invalid standard library function: "+e);return n}markModuleExports(e){var t=e.exports;if(t)for(let n=Map_values(t),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]);this.markModuleExport(o)}var i=e.exportsStar;if(i)for(let n=0,s=i.length;n<s;++n)this.markModuleExports(i[n])}markModuleExport(e){switch(e.set(524288),e.kind){case J.CLASS_PROTOTYPE:{let i=e.instanceMembers;if(i)for(let n=Map_values(i),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]);this.markModuleExport(o)}break}case J.PROPERTY_PROTOTYPE:{let i=e,n=i.getterPrototype;n&&this.markModuleExport(n);let s=i.setterPrototype;s&&this.markModuleExport(s);break}case J.PROPERTY:case J.FUNCTION:case J.FIELD:case J.CLASS:assert(!1)}var t=e.members;if(t)for(let i=Map_values(t),n=0,s=i.length;n<s;++n){let a=unchecked(i[n]);this.markModuleExport(a)}}markModuleImport(e,t,i){i.set(1048576);var n=this.moduleImports,s;n.has(e)?s=assert(n.get(e)):(s=new Map,n.set(e,s)),s.set(t,i)}registerNativeType(e,t){var i=new bt(e,this.nativeFile,this.makeNativeTypeDeclaration(e,2),Q.BUILTIN);i.setType(t),this.nativeFile.add(e,i)}registerWrapperClass(e,t){var i=this.wrapperClasses;assert(!e.isInternalReference&&!i.has(e));var n=assert(this.lookup(t));assert(n.kind==J.CLASS_PROTOTYPE);var s=assert(this.resolver.resolveClass(n,null));s.wrappedType=e,i.set(e,s)}registerConstantInteger(e,t,i){assert(t.isIntegerInclReference);var n=new $r(e,this.nativeFile,Q.NONE,this.makeNativeVariableDeclaration(e,10));n.setConstantIntegerValue(i,t),this.nativeFile.add(e,n)}registerConstantFloat(e,t,i){assert(t.isFloatValue);var n=new $r(e,this.nativeFile,Q.NONE,this.makeNativeVariableDeclaration(e,10));n.setConstantFloatValue(i,t),this.nativeFile.add(e,n)}ensureGlobal(e,t){var i=this.elementsByName;if(i.has(e)){let n=assert(i.get(e));if(n!=t){let s=Dl(n,t);if(!s)return nn(n.kind)?this.errorRelated(2300,t.identifierNode.range,n.declaration.name.range,e):this.error(2300,t.identifierNode.range,e),t;t=s}}return i.set(e,t),t}lookupForeignFile(e,t){var i=this.filesByName;return i.has(e)?assert(i.get(e)):i.has(t)?assert(i.get(t)):null}lookupForeign(e,t,i){do{let s=t.lookupExport(e);if(s)return s;if(i.has(t)){let a=assert(i.get(t));if(a.has(e)){let o=assert(a.get(e)),l=o.foreignPath;if(l){let p=this.lookupForeignFile(l,assert(o.foreignPathAlt));if(!p)return null;e=o.localIdentifier.text,t=p;continue}if(s=t.getMember(o.localIdentifier.text),s)return s}}break}while(!0);var n=t.exportsStar;if(n)for(let s=0,a=n.length;s<a;++s){let o=this.lookupForeign(e,n[s],i);if(o)return o}return null}checkDecorators(e,t){var i=Q.NONE;if(e)for(let n=0,s=e.length;n<s;++n){let a=e[n],o=Et.fromNode(a.name),l=Q.fromKind(o);l&&(l==Q.BUILTIN?!(t&l)&&!a.range.source.isLibrary?this.error(212,a.range,a.name.range.toString()):i|=l:t&l?i&l?this.error(213,a.range):i|=l:this.error(212,a.range,a.name.range.toString()))}return i}initializeClass(e,t,i,n){var s=e.name.text,a=new Is(s,t,e,this.checkDecorators(e.decorators,Q.GLOBAL|Q.FINAL|Q.UNMANAGED));if(!t.add(s,a))return null;var o=e.implementsTypes;if(o){let p=o.length;p&&(a.hasDecorator(Q.UNMANAGED)?this.error(208,se.join(e.name.range,o[p-1].range)):n.push(a))}e.extendsType&&i.push(a);var l=e.members;for(let p=0,c=l.length;p<c;++p){let _=l[p];switch(_.kind){case 54:{this.initializeField(_,a);break}case 58:{let f=_;if(_.isAny(6144))this.initializeProperty(f,a);else{let E=this.initializeMethod(f,a);E&&f.name.kind==26&&(a.constructorPrototype=E)}break}case 65:break;default:assert(!1)}}return a}initializeField(e,t){var i=e.name.text,n=e.decorators,s,a=Q.UNSAFE;if(t.is(16384)&&(a|=Q.EXTERNAL),e.is(32)){if(assert(t.kind!=J.INTERFACE_PROTOTYPE),a|=Q.LAZY,e.is(64)&&(a|=Q.INLINE),s=new $r(i,t,this.checkDecorators(n,a),e),!t.add(i,s))return}else if(assert(!e.isAny(6272)),s=new Ul(i,t,e,this.checkDecorators(n,a)),!t.addInstance(i,s))return}initializeMethod(e,t){var i=e.name.text,n=e.is(32),s=Q.INLINE|Q.UNSAFE;e.is(32768)||(s|=Q.OPERATOR_BINARY|Q.OPERATOR_PREFIX|Q.OPERATOR_POSTFIX),t.is(16384)&&(s|=Q.EXTERNAL);var a=new Ke(i,t,e,this.checkDecorators(e.decorators,s));if(n){if(assert(e.name.kind!=26),!t.add(i,a))return null}else if(!t.addInstance(i,a))return null;return this.checkOperatorOverloads(e.decorators,a,t),a}checkOperatorOverloads(e,t,i){if(e)for(let n=0,s=e.length;n<s;++n){let a=e[n];switch(a.decoratorKind){case 2:case 3:case 4:case 5:{let o=a.args,l=o?o.length:0;if(l==1){let p=a.args[0];if(p.isLiteralKind(2)){let c=p.value,_=Le.fromDecorator(a.decoratorKind,c);if(_==0)this.error(224,p.range,c);else{let f=i.overloadPrototypes;f.has(_)?this.error(2393,p.range):(t.operatorKind=_,f.set(_,t))}}else this.error(1141,p.range)}else this.error(2554,a.range,"1",l.toString())}}}}ensureProperty(e,t){var i=e.name.text;if(e.is(32)){let n=t.members;if(n&&n.has(i)){let s=assert(n.get(i));if(s.kind==J.PROPERTY_PROTOTYPE)return s}else{let s=new ei(i,t,e);return t.add(i,s)?s:null}}else{let n=t.instanceMembers;if(n&&n.has(i)){let s=assert(n.get(i));if(s.kind==J.PROPERTY_PROTOTYPE)return s}else{let s=new ei(i,t,e);return t.addInstance(i,s)?s:null}}return this.error(2718,e.name.range,i),null}initializeProperty(e,t){var i=this.ensureProperty(e,t);if(!!i){var n=e.name.text,s=e.is(2048);if(s){if(i.getterPrototype){this.error(2718,e.name.range,n);return}}else if(i.setterPrototype){this.error(2718,e.name.range,n);return}var a=new Ke((s?kn:Pn)+n,i,e,this.checkDecorators(e.decorators,Q.INLINE|Q.UNSAFE));s?i.getterPrototype=a:i.setterPrototype=a}}initializeEnum(e,t){var i=e.name.text,n=new Ol(i,t,e,this.checkDecorators(e.decorators,Q.GLOBAL|Q.INLINE|Q.LAZY));if(!t.add(i,n))return null;var s=e.values;for(let a=0,o=s.length;a<o;++a)this.initializeEnumValue(s[a],n);return n}initializeEnumValue(e,t){var i=e.name.text,n=new Ml(i,t,e,this.checkDecorators(e.decorators,Q.NONE));t.add(i,n)}initializeExports(e,t,i,n){var s=e.members;if(s)for(let a=0,o=s.length;a<o;++a)this.initializeExport(s[a],t,e.internalPath,i);else{let a;n.has(t)?a=assert(n.get(t)):n.set(t,a=[]);let o=e.internalPath;a.push(new Tc(o,o.endsWith(Ne)?o.substring(0,o.length-Ne.length):o+Ne,assert(e.path)))}}initializeExport(e,t,i,n){var s=e.localName.text,a=e.exportedName.text,o=t.lookupExport(a);if(o){this.error(2484,e.exportedName.range,a);return}if(i==null)if(o=t.getMember(s))t.ensureExport(a,o);else{let l;n.has(t)?l=assert(n.get(t)):n.set(t,l=new Map),l.set(a,new Pl(e.localName,e.exportedName,null,null))}else{let l;n.has(t)?l=assert(n.get(t)):n.set(t,l=new Map),l.set(a,new Pl(e.localName,e.exportedName,i,i.endsWith(Ne)?i.substring(0,i.length-Ne.length):i+Ne))}}initializeExportDefault(e,t,i,n){var s=e.declaration,a=null;switch(s.kind){case 52:{a=this.initializeEnum(s,t);break}case 55:{a=this.initializeFunction(s,t);break}case 51:{a=this.initializeClass(s,t,i,n);break}case 57:{a=this.initializeInterface(s,t,i);break}case 59:{a=this.initializeNamespace(s,t,i,n);break}default:assert(!1)}if(a){let o=t.exports;if(!o)t.exports=o=new Map;else if(o.has("default")){let l=assert(o.get("default"));this.errorRelated(2300,s.name.range,l.declaration.name.range,"default");return}o.set("default",a)}}initializeImports(e,t,i,n){var s=e.declarations;if(s)for(let a=0,o=s.length;a<o;++a)this.initializeImport(s[a],t,e.internalPath,i,n);else{let a=e.namespaceName;a&&i.push(new kl(t,a,null,e.internalPath,e.internalPath+Ne))}}initializeImport(e,t,i,n,s){var a=i.endsWith(Ne)?i.substring(0,i.length-Ne.length):i+Ne,o=this.lookupForeignFile(i,a);if(o){var l=this.lookupForeign(e.foreignName.text,o,s);if(l){t.add(e.name.text,l,e.name);return}}n.push(new kl(t,e.name,e.foreignName,i,a))}initializeFunction(e,t){var i=e.name.text,n=Q.UNSAFE|Q.BUILTIN;e.is(16384)?n|=Q.EXTERNAL|Q.EXTERNAL_JS:(n|=Q.INLINE,(e.range.source.isLibrary||e.is(2))&&(n|=Q.LAZY)),e.is(131072)||t.kind!=J.CLASS_PROTOTYPE&&(n|=Q.GLOBAL);var s=new Ke(i,t,e,this.checkDecorators(e.decorators,n));return t.add(i,s)?s:null}initializeInterface(e,t,i){var n=e.name.text,s=new Bl(n,t,e,this.checkDecorators(e.decorators,Q.GLOBAL));if(!t.add(n,s))return null;e.extendsType&&i.push(s);var a=e.members;for(let o=0,l=a.length;o<l;++o){let p=a[o];switch(p.kind){case 54:{this.initializeFieldAsProperty(p,s);break}case 58:{let c=p;p.isAny(6144)?this.initializeProperty(c,s):this.initializeMethod(c,s);break}default:assert(!1)}}return s}initializeFieldAsProperty(e,t){var i=e.type;i||(i=P.createOmittedType(e.name.range.atEnd)),this.initializeProperty(P.createMethodDeclaration(e.name,e.decorators,e.flags|2048,null,P.createFunctionType([],i,null,!1,e.range),null,e.range),t),e.is(64)||this.initializeProperty(P.createMethodDeclaration(e.name,e.decorators,e.flags|4096,null,P.createFunctionType([P.createParameter(0,e.name,i,null,e.name.range)],P.createOmittedType(e.name.range.atEnd),null,!1,e.range),null,e.range),t)}initializeNamespace(e,t,i,n){var s=e.name.text,a=new bs(s,t,e,this.checkDecorators(e.decorators,Q.GLOBAL));if(!t.add(s,a))return null;var o=assert(t.getMember(s)),l=e.members;for(let p=0,c=l.length;p<c;++p){let _=l[p];switch(_.kind){case 51:{this.initializeClass(_,a,i,n);break}case 52:{this.initializeEnum(_,a);break}case 55:{this.initializeFunction(_,a);break}case 57:{this.initializeInterface(_,a,i);break}case 59:{this.initializeNamespace(_,a,i,n);break}case 60:{this.initializeTypeDefinition(_,a);break}case 47:{this.initializeVariables(_,a);break}default:assert(!1)}}return a!=o&&Tt(a,o),o}initializeTypeDefinition(e,t){var i=e.name.text,n=new bt(i,t,e,this.checkDecorators(e.decorators,Q.NONE));t.add(i,n)}initializeVariables(e,t){var i=e.declarations;for(let n=0,s=i.length;n<s;++n){let a=i[n],o=a.name.text,l=Q.GLOBAL|Q.LAZY;a.is(16384)&&(l|=Q.EXTERNAL),a.is(8)&&(l|=Q.INLINE);let p=new $r(o,t,this.checkDecorators(a.decorators,l),a);t.add(o,p)}}},J=(v=>(v[v.GLOBAL=0]="GLOBAL",v[v.LOCAL=1]="LOCAL",v[v.ENUM=2]="ENUM",v[v.ENUMVALUE=3]="ENUMVALUE",v[v.FUNCTION_PROTOTYPE=4]="FUNCTION_PROTOTYPE",v[v.FUNCTION=5]="FUNCTION",v[v.CLASS_PROTOTYPE=6]="CLASS_PROTOTYPE",v[v.CLASS=7]="CLASS",v[v.INTERFACE_PROTOTYPE=8]="INTERFACE_PROTOTYPE",v[v.INTERFACE=9]="INTERFACE",v[v.FIELD_PROTOTYPE=10]="FIELD_PROTOTYPE",v[v.FIELD=11]="FIELD",v[v.PROPERTY_PROTOTYPE=12]="PROPERTY_PROTOTYPE",v[v.PROPERTY=13]="PROPERTY",v[v.NAMESPACE=14]="NAMESPACE",v[v.FILE=15]="FILE",v[v.TYPEDEFINITION=16]="TYPEDEFINITION",v[v.INDEXSIGNATURE=17]="INDEXSIGNATURE",v))(J||{}),Q=(E=>(E[E.NONE=0]="NONE",E[E.GLOBAL=1]="GLOBAL",E[E.OPERATOR_BINARY=2]="OPERATOR_BINARY",E[E.OPERATOR_PREFIX=4]="OPERATOR_PREFIX",E[E.OPERATOR_POSTFIX=8]="OPERATOR_POSTFIX",E[E.UNMANAGED=16]="UNMANAGED",E[E.FINAL=32]="FINAL",E[E.INLINE=64]="INLINE",E[E.EXTERNAL=128]="EXTERNAL",E[E.EXTERNAL_JS=256]="EXTERNAL_JS",E[E.BUILTIN=512]="BUILTIN",E[E.LAZY=1024]="LAZY",E[E.UNSAFE=2048]="UNSAFE",E))(Q||{});(e=>{function r(t){switch(t){case 1:return 1;case 2:case 3:return 2;case 4:return 4;case 5:return 8;case 6:return 16;case 7:return 32;case 8:return 64;case 9:return 128;case 10:return 256;case 11:return 512;case 12:return 1024;case 13:return 2048;default:return 0}}e.fromKind=r})(Q||={});var Ts=class{constructor(e,t,i,n,s){this.kind=e;this.name=t;this.internalName=i;this.program=n;this.flags=0;this.decoratorFlags=0;this.members=null;this.shadowType=null;this.program=n,this.name=t,this.internalName=i,s?this.parent=s:(assert(this.kind==15),this.parent=this)}get file(){var e=this;do if(e=e.parent,e.kind==15)return e;while(!0)}is(e){return(this.flags&e)==e}isAny(e){return(this.flags&e)!=0}set(e){this.flags|=e}unset(e){this.flags&=~e}hasDecorator(e){return(this.decoratorFlags&e)==e}hasAnyDecorator(e){return(this.decoratorFlags&e)!=0}getMember(e){var t=this.members;return t&&t.has(e)?assert(t.get(e)):null}lookup(e,t=!1){return this.parent.lookup(e,t)}add(e,t,i=null){var n=t.declaration,s=this.members;if(!s)this.members=s=new Map;else if(s.has(e)){let o=assert(s.get(e));if(o.parent==this){let l=Dl(o,t);if(l)t=l;else{let p=i||t.identifierNode;return nn(o.kind)?this.program.errorRelated(2300,p.range,o.identifierNode.range,p.text):this.program.error(2300,p.range,p.text),!1}}}s.set(e,t);var a=this.program;return(t.kind!=4||!t.isBound)&&(a.elementsByName.set(t.internalName,t),a.elementsByDeclaration.set(n,t)),!0}get isPublic(){return!this.isAny(1536)}get isImplicitlyPublic(){return this.isPublic&&!this.is(256)}visibilityEquals(e){if(this.isPublic==e.isPublic)return!0;let t=1536;return(this.flags&t)==(e.flags&t)}toString(){return this.internalName+", kind="+this.kind.toString()}},bc=new Set;function nn(r){return bc.has(r)}var Dt=class extends Ts{constructor(e,t,i,n,s,a){super(e,t,i,n,s);this.declaration=a;bc.add(e),this.declaration=a,this.flags=a.flags}get isDeclaredInLibrary(){return this.declaration.range.source.isLibrary}get identifierNode(){return this.declaration.name}get identifierAndSignatureRange(){var e=this.declaration,t=e.name;if(e.kind==55||e.kind==58){let i=e.signature;return se.join(t.range,i.range)}return t.range}get decoratorNodes(){return this.declaration.decorators}isCompatibleOverride(e){var t=this,i=t.kind;if(i==e.kind)switch(i){case 5:return t.signature.isAssignableTo(e.signature,!0);case 13:{let n=t,s=e,a=n.getterInstance,o=s.getterInstance;if(a){if(!o||!a.signature.isAssignableTo(o.signature,!0))return!1}else if(o)return!1;let l=n.setterInstance,p=s.setterInstance;if(l){if(!p||!l.signature.isAssignableTo(p.signature,!0))return!1}else if(p)return!1;return!0}}return!1}},Ic=new Set;function No(r){return Ic.has(r)}var Gt=class extends Dt{constructor(e,t,i,n,s,a){super(e,t,i,n,s,a);this.type=u.void;Ic.add(e)}setType(e){assert(!this.is(2097152)),this.type=e,this.set(2097152)}},ys=class extends Ts{constructor(e,t){super(15,t.normalizedPath,t.internalPath,e,null);this.source=t;this.exports=null;this.exportsStar=null;this.aliasNamespaces=new Array;this.source=t,assert(!e.filesByName.has(this.internalName)),e.filesByName.set(this.internalName,this);var i=this.program.makeNativeFunction("start:"+this.internalName,new ve(e,null,u.void),this);i.internalName=i.name,this.startFunction=i}add(e,t,i=null){return t.hasDecorator(1)&&(t=this.program.ensureGlobal(e,t)),super.add(e,t,i)?(t=assert(this.getMember(e)),t.is(2)&&!i&&this.ensureExport(t.name,t),!0):!1}getMember(e){var t=super.getMember(e);if(t)return t;var i=this.exportsStar;if(i){for(let n=0,s=i.length;n<s;++n)if(t=i[n].getMember(e))return t}return null}lookup(e,t=!1){var i=this.getMember(e);return i||this.program.lookup(e)}ensureExport(e,t){var i=this.exports;i||(this.exports=i=new Map),i.set(e,t),this.source.sourceKind==3&&this.program.ensureGlobal(e,t);for(let n=0;n<this.aliasNamespaces.length;n++)this.aliasNamespaces[n].add(e,t)}ensureExportStar(e){var t=this.exportsStar;if(!t)this.exportsStar=t=[];else if(t.includes(e))return;t.push(e)}lookupExport(e){var t=this.exports;if(t&&t.has(e))return assert(t.get(e));var i=this.exportsStar;if(i)for(let n=0,s=i.length;n<s;++n){let a=i[n].lookupExport(e);if(a)return a}return null}asAliasNamespace(e,t,i){var n=this.program.makeNativeNamespaceDeclaration(e);n.name=i;var s=new bs(e,t,n);return s.set(33554432),this.copyExportsToNamespace(s),this.aliasNamespaces.push(s),s}copyExportsToNamespace(e){var t=this.exports;if(t)for(let n=Map_keys(t),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]),l=assert(t.get(o));e.add(o,l)}var i=this.exportsStar;if(i)for(let n=0,s=i.length;n<s;++n)i[n].copyExportsToNamespace(e)}},bt=class extends Gt{constructor(e,t,i,n=0){super(16,e,Te(e,t,!1),t.program,t,i);this.decoratorFlags=n}get typeParameterNodes(){return this.declaration.typeParameters}get typeNode(){return this.declaration.type}},bs=class extends Dt{constructor(e,t,i,n=0){super(14,e,Te(e,t,!1),t.program,t,i);this.decoratorFlags=n}lookup(e,t=!1){var i=this.getMember(e);return i||super.lookup(e,t)}},Ol=class extends Gt{constructor(e,t,i,n=0){super(2,e,Te(e,t,!1),t.program,t,i);this.decoratorFlags=n,this.setType(u.i32)}lookup(e,t=!1){var i=this.getMember(e);return i||super.lookup(e,t)}},wl=(i=>(i[i.NONE=0]="NONE",i[i.INTEGER=1]="INTEGER",i[i.FLOAT=2]="FLOAT",i))(wl||{}),ur=class extends Gt{constructor(e,t,i,n=i.program.makeNativeVariableDeclaration(t)){super(e,t,Te(t,i,n.is(131072)),i.program,i,n);this.constantValueKind=0;this.constantIntegerValue=i64_zero;this.constantFloatValue=0;this.flags=n.flags}get typeNode(){return this.declaration.type}get initializerNode(){return this.declaration.initializer}setConstantIntegerValue(e,t){assert(t.isIntegerInclReference),this.type=t,this.constantValueKind=1,this.constantIntegerValue=e,this.set(18874376)}setConstantFloatValue(e,t){assert(t.isFloatValue),this.type=t,this.constantValueKind=2,this.constantFloatValue=e,this.set(18874376)}},Ml=class extends ur{constructor(e,t,i,n=0){super(3,e,t,i);this.isImmutable=!1;this.decoratorFlags=n,this.setType(u.i32)}get valueNode(){return this.declaration.initializer}},$r=class extends ur{constructor(e,t,i,n=t.program.makeNativeVariableDeclaration(e)){super(0,e,t,n);this.decoratorFlags=i}},vc=class{constructor(e,t,i=null){this.name=e;this.type=t;this.initializer=i}},Ue=class extends ur{constructor(e,t,i,n,s=n.program.makeNativeVariableDeclaration(e)){super(1,e,n,s);this.index=t;this.originalName=e,this.index=t,assert(i!=u.void),this.setType(i)}setTemporaryName(e){this.name=e,this.internalName=Te(e,this.parent,!1)}resetTemporaryName(){var e=this.originalName;this.name=e,this.internalName=Te(e,this.parent,!1)}},Ke=class extends Dt{constructor(e,t,i,n=0){super(4,e,Te(e,t,i.is(131072)),t.program,t,i);this.operatorKind=0;this.instances=null;this.overloads=null;this.boundPrototypes=null;this.decoratorFlags=n}get typeParameterNodes(){return this.declaration.typeParameters}get functionTypeNode(){return this.declaration.signature}get bodyNode(){return this.declaration.body}get arrowKind(){return this.declaration.arrowKind}get isBound(){var e=this.parent,t=e.kind;return t==12&&(t=e.parent.kind),t==7||t==9}toBound(e){assert(this.is(131072)),assert(!this.isBound);var t=this.boundPrototypes;if(!t)this.boundPrototypes=t=new Map;else if(t.has(e))return assert(t.get(e));var i=this.declaration;assert(i.kind==58);var n=new Ke(this.name,e,i,this.decoratorFlags);return n.flags=this.flags,n.operatorKind=this.operatorKind,n.overloads=this.overloads,t.set(e,n),n}getResolvedInstance(e){var t=this.instances;return t&&t.has(e)?assert(t.get(e)):null}setResolvedInstance(e,t){var i=this.instances;i?assert(!i.has(e)):this.instances=i=new Map,i.set(e,t)}},je=class extends Gt{constructor(e,t,i,n,s=null){super(5,e,Te(e,t.parent,t.is(131072)),t.program,t.parent,t.declaration);this.localsByName=new Map;this.localsByIndex=[];this.additionalLocals=[];this.debugLocations=[];this.ref=0;this.varargsStub=null;this.virtualStub=null;this.memorySegment=null;this.nextInlineId=0;this.nextAnonymousId=0;this.tempI32s=null;this.tempI64s=null;this.tempF32s=null;this.tempF64s=null;this.tempV128s=null;this.tempFuncrefs=null;this.tempExternrefs=null;this.tempAnyrefs=null;this.tempEqrefs=null;this.tempI31refs=null;this.tempDatarefs=null;this.nextBreakId=0;this.breakStack=null;this.breakLabel=null;this.prototype=t,this.typeArguments=i,this.signature=n,this.flags=t.flags|2097152,this.decoratorFlags=t.decoratorFlags,this.contextualTypeArguments=s,this.original=this;var a=t.program;if(this.type=n.type,!t.is(16384)){let o=0,l=n.thisType;if(l){let c=new Ue(w.this_,o++,l,this);this.localsByName.set(w.this_,c),this.localsByIndex[c.index]=c}let p=n.parameterTypes;for(let c=0,_=p.length;c<_;++c){let f=p[c],E=this.getParameterName(c),g=new Ue(E,o++,f,this);this.localsByName.set(E,g),this.localsByIndex[g.index]=g}}this.flow=Me.createParent(this),vs(a,this)}getParameterName(e){var t=this.declaration.signature.parameters;return t.length>e?t[e].name.text:xc(e)}getClassOrInterface(){var e=this.parent;return e.kind==13&&(e=e.parent),e.kind==7||e.kind==9?e:null}newStub(e){var t=new je(this.original.name+ra+e,this.prototype,this.typeArguments,this.signature.clone(),this.contextualTypeArguments);return t.original=this.original,t.set(this.flags&-4194305|67108864),t}addLocal(e,t=null,i=null){var n=this.signature.parameterTypes.length+this.additionalLocals.length;this.is(131072)&&++n;var s=t??"var$"+n.toString();i||(i=this.program.makeNativeVariableDeclaration(s));var a=new Ue(s,n,e,this,i);if(t){if(this.localsByName.has(t))throw new Error("duplicate local name");this.localsByName.set(t,a)}return this.localsByIndex[a.index]=a,this.additionalLocals.push(e),a}lookup(e,t=!1){if(!t){let i=this.localsByName;if(i.has(e))return assert(i.get(e))}return super.lookup(e,t)}finalize(e,t){this.ref=t;var i=this.breakStack;if(assert(!i||!i.length),this.breakStack=i=null,this.breakLabel=null,this.tempI32s=this.tempI64s=this.tempF32s=this.tempF64s=null,this.program.options.sourceMap){let n=this.debugLocations;for(let s=0,a=n.length;s<a;++s){let o=n[s],l=o.source;e.setDebugLocation(t,o.debugInfoRef,l.debugInfoIndex,l.lineAt(o.start),l.columnAt()-1)}}}},Ul=class extends Dt{constructor(e,t,i,n=0){super(10,e,Te(e,t,assert(i.is(131072))),t.program,t,i);this.decoratorFlags=n}get typeNode(){return this.declaration.type}get initializerNode(){return this.declaration.initializer}get parameterIndex(){return this.declaration.parameterIndex}},Qn=class extends ur{constructor(e,t,i){super(11,e.name,t,e.declaration);this.memoryOffset=-1;this.getterRef=0;this.setterRef=0;this._internalGetterName=null;this._internalSetterName=null;this._internalGetterSignature=null;this._internalSetterSignature=null;this.prototype=e,this.flags=e.flags,this.decoratorFlags=e.decoratorFlags,assert(i!=u.void),this.setType(i),vs(this.program,this)}get thisType(){var e=this.parent;return assert(e.kind==7),e.type}get internalGetterName(){var e=this._internalGetterName;return e==null&&(this._internalGetterName=e=this.parent.internalName+Ii+kn+this.name),e}get internalSetterName(){var e=this._internalSetterName;return e==null&&(this._internalSetterName=e=this.parent.internalName+Ii+Pn+this.name),e}get internalGetterSignature(){var e=this._internalGetterSignature;return e||(this._internalGetterSignature=e=new ve(this.program,null,this.type,this.thisType)),e}get internalSetterSignature(){var e=this._internalSetterSignature;return e||(this._internalGetterSignature=e=new ve(this.program,[this.type],u.void,this.thisType)),e}},ei=class extends Dt{constructor(e,t,i){super(12,e,Te(e,t,i.is(131072)),t.program,t,i);this.getterPrototype=null;this.setterPrototype=null;this.instance=null;this.boundPrototypes=null;this.flags&=-6145}get isBound(){switch(this.parent.kind){case 7:case 9:return!0}return!1}toBound(e){assert(this.is(131072)),assert(!this.isBound);var t=this.boundPrototypes;if(!t)this.boundPrototypes=t=new Map;else if(t.has(e))return assert(t.get(e));var i=this.declaration;assert(i.kind==58);var n=new ei(this.name,e,i);n.flags=this.flags;var s=this.getterPrototype;s&&(n.getterPrototype=s.toBound(e));var a=this.setterPrototype;return a&&(n.setterPrototype=a.toBound(e)),t.set(e,n),n}},Zn=class extends ur{constructor(e,t){super(13,e.name,t,P.createVariableDeclaration(e.identifierNode,null,e.is(131072)?131072:0,null,null,e.identifierNode.range));this.getterInstance=null;this.setterInstance=null;this.prototype=e,this.flags=e.flags,this.decoratorFlags=e.decoratorFlags,this.is(131072)&&vs(this.program,this)}},jn=class extends Gt{constructor(e){super(17,"[]",e.internalName+"[]",e.program,e,e.program.makeNativeVariableDeclaration("[]"))}getGetterInstance(e){return this.parent.lookupOverload(1,e)}getSetterInstance(e){return this.parent.lookupOverload(2,e)}},Is=class extends Dt{constructor(e,t,i,n=0,s=!1){super(s?8:6,e,Te(e,t,i.is(131072)),t.program,t,i);this.instanceMembers=null;this.basePrototype=null;this.interfacePrototypes=null;this.constructorPrototype=null;this.overloadPrototypes=new Map;this.instances=null;this.extendees=new Set;this.decoratorFlags=n}get typeParameterNodes(){return this.declaration.typeParameters}get extendsNode(){return this.declaration.extendsType}get implementsNodes(){return this.declaration.implementsTypes}get isBuiltinArray(){var e=this.program.arrayBufferViewInstance;return e&&this.extends(e.prototype)}extends(e){var t=this,i=new Set;do{if(i.has(t))break;if(i.add(t),t==e)return!0;t=t.basePrototype}while(t);return!1}addInstance(e,t){var i=t.declaration,n=this.instanceMembers;if(!n)this.instanceMembers=n=new Map;else if(n.has(e)){let s=assert(n.get(e)),a=Dl(s,t);if(!a)return nn(s.kind)?this.program.errorRelated(2300,t.identifierNode.range,s.declaration.name.range,t.identifierNode.text):this.program.error(2300,t.identifierNode.range,t.identifierNode.text),!1;t=a}return n.set(e,t),t.is(2)&&this.is(524288)&&t.set(524288),this.program.elementsByDeclaration.set(i,t),!0}getResolvedInstance(e){var t=this.instances;return t&&t.has(e)?t.get(e):null}setResolvedInstance(e,t){var i=this.instances;i?assert(!i.has(e)):this.instances=i=new Map,i.set(e,t)}},Li=class extends Gt{constructor(e,t,i=null,n=!1){super(n?9:7,e,Te(e,t.parent,t.is(131072)),t.program,t.parent,t.declaration);this.base=null;this.interfaces=null;this.contextualTypeArguments=null;this.nextMemoryOffset=0;this.constructorInstance=null;this.overloads=null;this.indexSignature=null;this._id=0;this.rttiFlags=0;this.wrappedType=null;this.extendees=null;this.implementers=null;this.didCheckFieldInitialization=!1;this.visitRef=0;var s=this.program;this.prototype=t,this.flags=t.flags,this.decoratorFlags=t.decoratorFlags,this.typeArguments=i;var a=s.options.usizeType,o=new u(a.kind,a.flags&-129|256,a.size);if(o.classReference=this,this.setType(o),!this.hasDecorator(16)){let p=s.nextClassId++;this._id=p,s.managedClasses.set(p,this)}var l=t.typeParameterNodes;if(i){let p=i.length;if(!l||p!=l.length)throw new Error("type argument count mismatch");if(p){let c=this.contextualTypeArguments;c||(this.contextualTypeArguments=c=new Map);for(let _=0;_<p;++_)c.set(l[_].name.text,i[_])}}else if(l&&l.length>0)throw new Error("type argument count mismatch");vs(s,this)}get id(){return this._id}get isBuiltinArray(){return this.prototype.isBuiltinArray}get isArrayLike(){if(this.isBuiltinArray)return!0;var e=this.getMember("length");return e?(e.kind==11||e.kind==12&&e.getterPrototype!=null)&&(this.lookupOverload(1)!=null||this.lookupOverload(3)!=null):!1}setBase(e){assert(!this.base),this.base=e;var t=e.extendees;t||(e.extendees=t=new Set),t.add(this);var i=e.contextualTypeArguments;if(i){let n=this.contextualTypeArguments;for(let s=Map_keys(i),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]),p=assert(i.get(l));n?n.has(l)||n.set(l,p):(this.contextualTypeArguments=n=new Map,n.set(l,p))}}}addInterface(e){var t=this.interfaces;t||(this.interfaces=t=new Set),t.add(e);var i=e.implementers;i||(e.implementers=i=new Set),i.add(this)}isAssignableTo(e){var t=this;do{if(t==e)return!0;if(e.kind==9){let i=t.interfaces;if(i){for(let n=Set_values(i),s=0,a=n.length;s<a;++s)if(n[s].isAssignableTo(e))return!0}}t=t.base}while(t);return!1}lookupOverload(e,t=!1){if(t)switch(e){case 1:{let n=this.lookupOverload(3);if(n)return n;break}case 2:{let n=this.lookupOverload(4);if(n)return n;break}default:assert(!1)}var i=this;do{let n=i.overloads;if(n!=null&&n.has(e))return assert(n.get(e));i=i.base}while(i);return null}getMethod(e,t=null){var i=this.getMember(e);return i&&i.kind==4?this.program.resolver.resolveFunction(i,t):null}offsetof(e){var t=assert(this.getMember(e));return assert(t.kind==11),t.memoryOffset}createBuffer(e=0){var t=this.program,i=this.nextMemoryOffset+e,n=t.computeBlockSize(i,!0),s=new Uint8Array(t.blockOverhead+n),a=t.OBJECTInstance;return a.writeField("mmInfo",n,s,0),a.writeField("gcInfo",0,s,0),a.writeField("gcInfo2",0,s,0),a.writeField("rtId",this.id,s,0),a.writeField("rtSize",i,s,0),s}writeField(e,t,i,n=this.program.totalOverhead){var s=this.getMember(e);if(s&&s.kind==11){let a=s,o=n+a.memoryOffset,l=a.type.kind;switch(l){case 0:case 5:return assert(!i64_is(t)),pe(i32(t),i,o),1;case 1:case 6:return assert(!i64_is(t)),Ft(i32(t),i,o),2;case 2:case 7:return assert(!i64_is(t)),ce(i32(t),i,o),4;case 4:case 9:return this.program.options.isWasm64?(i64_is(t)?Lr(t,i,o):Cn(i32(t),i,o,l==9),8):(i64_is(t)?Zs(t,i,o,l==9):ce(i32(t),i,o),4);case 3:case 8:return i64_is(t)?Lr(t,i,o):Cn(i32(t),i,o,l==8),8;case 11:return assert(!i64_is(t)),$t(f32(t),i,o),4;case 12:return assert(!i64_is(t)),er(f64(t),i,o),8}}return assert(!1),0}extends(e){return this.prototype.extends(e)}getTypeArgumentsTo(e){var t=this;do{if(t.prototype==e)return t.typeArguments;t=t.base}while(t);return null}getArrayValueType(){var e=this,t=this.program,i=t.arrayPrototype;if(this.extends(i))return this.getTypeArgumentsTo(i)[0];var n=t.staticArrayPrototype;if(this.extends(n))return this.getTypeArgumentsTo(n)[0];for(var s=t.arrayBufferViewInstance;e.base!=s;)e=assert(e.base);var a=e.prototype;switch(a.name.charCodeAt(0)){case 70:{if(a==t.float32ArrayPrototype)return u.f32;if(a==t.float64ArrayPrototype)return u.f64;break}case 73:{if(a==t.int8ArrayPrototype)return u.i8;if(a==t.int16ArrayPrototype)return u.i16;if(a==t.int32ArrayPrototype)return u.i32;if(a==t.int64ArrayPrototype)return u.i64;break}case 85:{if(a==t.uint8ArrayPrototype)return u.u8;if(a==t.uint8ClampedArrayPrototype)return u.u8;if(a==t.uint16ArrayPrototype)return u.u16;if(a==t.uint32ArrayPrototype)return u.u32;if(a==t.uint64ArrayPrototype)return u.u64;break}}return assert(!1),u.void}get isPointerfree(){var e=this.program,t=this.members;if(t){for(let i=Map_values(t),n=0,s=i.length;n<s;++n){let a=unchecked(i[n]);if(a.kind==11&&a.type.isManaged)return!1}if(t.has(w.visit)){let i=this.prototype;if(i==e.arrayPrototype||i==e.staticArrayPrototype||i==e.setPrototype||i==e.mapPrototype){let n=assert(this.getTypeArgumentsTo(i));for(let s=0,a=n.length;s<a;++s)if(n[s].isManaged)return!1;return!0}return!1}}return!0}getAllExtendees(e=null,t=new Set){var i=this.extendees;if(i)for(let n=Set_values(i),s=0,a=n.length;s<a;++s){let o=n[s];if(e){let l=o.prototype.instanceMembers;if(l&&l.has(e))continue}t.add(o),o.getAllExtendees(e,t)}return t}},Bl=class extends Is{constructor(e,t,i,n){super(e,t,i,n,!0)}},Jn=class extends Li{constructor(e,t,i=null){super(e,t,i,!0)}};function vs(r,e){assert(!r.instancesByName.has(e.internalName)),r.instancesByName.set(e.internalName,e)}function Dl(r,e){if(assert(r.program==e.program),e.members)return null;var t=null;switch(r.kind){case 4:{switch(e.kind){case 14:{Tt(e,r),t=r;break}case 16:{r.shadowType||(r.shadowType=e,Tt(e,r),t=r);break}}break}case 6:case 2:{if(e.kind==14){Tt(e,r),t=r;break}break}case 14:{switch(e.kind){case 2:case 6:case 4:{Tt(r,e),t=e;break}case 14:{Tt(e,r),t=r;break}case 16:{r.shadowType||(r.shadowType=e,Tt(e,r),t=r);break}}break}case 0:{e.kind==16&&(r.shadowType||(r.shadowType=e,Tt(e,r),t=r));break}case 16:{switch(e.kind){case 0:case 4:case 14:{e.shadowType||(e.shadowType=r,Tt(r,e),t=e);break}}break}}if(t){let i=r.is(2)||r.hasDecorator(1),n=e.is(2)||e.hasDecorator(1);i!=n&&r.program.error(2395,t.identifierNode.range,t.identifierNode.text)}return t}function Tt(r,e){var t=r.members;if(t){let i=e.members;i||(e.members=i=new Map);for(let n=Map_keys(t),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]),l=assert(t.get(o));i.set(o,l)}}}function Te(r,e,t,i=!1){switch(e.kind){case 15:return i?r:e.internalName+Qe+r;case 5:return i?r:(assert(!t),e.internalName+ta+r);case 12:case 13:e=e.parent;default:return Te(e.name,e.parent,e.is(131072),i)+(t?Ii:vi)+r}}var Fl=[];function xc(r){for(let e=Fl.length;e<=r;++e)Fl.push("$"+e.toString());return Fl[r]}var Gl=class extends Yr{constructor(e){super(e.module);this.seenStores=!1;this.ptrType=e.options.sizeTypeRef}checkRT(){var e=this.module.readStringCached(ti(this.currentFunction));return e.startsWith("~lib/rt/")}visitStore(e){var t=this.module,i=ar(e),n=Ss(e),s=xs(e);as(e,t.call("~onstore",[i,t.i32(n),t.i32(s),t.i32(i32(this.checkRT()))],this.ptrType)),this.seenStores=!0}walkModule(){super.walkModule(),this.seenStores&&this.module.addFunctionImport("~onstore","rtrace","onstore",Oe([this.ptrType,F.I32,F.I32,F.I32]),this.ptrType)}};function Sc(r,e){return nt(e)==6&&r.readStringCached(qr(e))==h.tostack?(assert(Mt(e)==1),Ut(e,0)):0}function Rc(r,e){switch(nt(e)){case 14:return!ge(e);case 8:case 9:return!1}return!0}var zl=class extends Yr{constructor(e){super(e.module);this.slotMaps=new Map;this.tempMaps=new Map;this.exportMap=new Map;this.hasStackCheckFunction=!1;this.callSlotOffset=0;this.callSlotStack=new Array;this.compiler=e}get options(){return this.compiler.options}get ptrType(){return this.options.sizeTypeRef}get ptrSize(){return this.ptrType==F.I64?8:4}get ptrBinaryAdd(){return this.ptrType==F.I64?25:0}get ptrBinarySub(){return this.ptrType==F.I64?26:1}ptrConst(e){return this.ptrType==F.I64?this.module.i64(e):this.module.i32(e)}noteSlot(e,t){let i;if(this.slotMaps.has(e)){if(i=changetype(this.slotMaps.get(e)),i.has(t))return changetype(i.get(t))}else i=new Map,this.slotMaps.set(e,i);let n=i.size;return i.set(t,n),n}noteExport(e,t){!t.length||this.exportMap.set(e,t)}getSharedTemp(e,t){let i;if(this.tempMaps.has(e)){if(i=changetype(this.tempMaps.get(e)),i.has(t))return changetype(i.get(t))}else i=new Map,this.tempMaps.set(e,i);let s=Vl(e)+i.size;return i.set(t,s),s}makeStackOffset(e){assert(e!=0);var t=this.module,i=t.global_set(h.stack_pointer,t.binary(e>=0?this.ptrBinaryAdd:this.ptrBinarySub,t.global_get(h.stack_pointer,this.ptrType),this.ptrConst(abs(e))));return e>0?i:t.block(null,[i,this.makeStackCheck()],F.None)}makeStackFill(e,t){assert(e>0);var i=this.module;if(this.options.hasFeature(8)&&e>16)t.push(i.memory_fill(i.global_get(h.stack_pointer,this.ptrType),i.i32(0),this.ptrConst(e)));else{let n=e;for(;n>=8;)t.push(i.store(8,i.global_get(h.stack_pointer,this.ptrType),i.i64(0),F.I64,e-n)),n-=8;n&&(assert(n==4),t.push(i.store(4,i.global_get(h.stack_pointer,this.ptrType),i.i32(0),F.I32,e-n)))}}makeStackCheck(){var e=this.module;return this.hasStackCheckFunction||(this.hasStackCheckFunction=!0,e.addFunction("~stack_check",F.None,F.None,null,e.if(e.binary(17,e.global_get(h.stack_pointer,this.ptrType),e.global_get(h.data_end,this.ptrType)),this.compiler.makeStaticAbort(this.compiler.ensureStaticString("stack overflow"),this.compiler.program.nativeSource)))),e.call("~stack_check",null,F.None)}updateCallOperands(e){var t=this.module,i=0;for(let n=0,s=e.length;n<s;++n){let a=e[n],o=Sc(t,a);if(!o)continue;if(!Rc(t,o)){e[n]=o;continue}let l=this.currentFunction,p=Vl(l),c=this.noteSlot(l,p+this.callSlotOffset+n),_=this.getSharedTemp(l,this.ptrType),f=new Array;f.push(t.local_set(_,o,!1)),f.push(t.store(this.ptrSize,t.global_get(h.stack_pointer,this.ptrType),t.local_get(_,this.ptrType),this.ptrType,c*this.ptrSize)),f.push(t.local_get(_,this.ptrType)),e[n]=t.block(null,f,this.ptrType),++i}return i}visitCallPre(e){var t=Mt(e),i=new Array(t);for(let s=0;s<t;++s)i[s]=Ut(e,s);let n=this.updateCallOperands(i);for(let s=0,a=i.length;s<a;++s)rs(e,s,i[s]);n&&(this.callSlotOffset+=n),this.callSlotStack.push(n)}visitCall(e){let t=this.callSlotStack.pop();t&&(this.callSlotOffset-=t)}visitCallIndirectPre(e){let t=wi(e),i=new Array(t);for(let s=0;s<t;++s)i[s]=Mi(e,s);let n=this.updateCallOperands(i);for(let s=0,a=i.length;s<a;++s)is(e,s,i[s]);n&&(this.callSlotOffset+=n),this.callSlotStack.push(n)}visitCallIndirect(e){let t=this.callSlotStack.pop();t&&(this.callSlotOffset-=t)}visitLocalSet(e){let t=this.module,i=sr(e),n=Sc(t,i);if(!n)return;if(!Rc(t,n)){ns(e,n);return}let s=Bt(e),a=this.noteSlot(this.currentFunction,s),o=new Array;o.push(t.store(this.ptrSize,t.global_get(h.stack_pointer,this.ptrType),t.local_tee(s,n,!1),this.ptrType,a*this.ptrSize)),Rs(e)?(o.push(t.local_get(s,this.ptrType)),this.replaceCurrent(t.flatten(o,this.ptrType))):this.replaceCurrent(t.flatten(o,F.None))}updateFunction(e){let t=ti(e),i=sn(e),n=an(e),s=assert(wt(e)),a=As(e),o=new Array;for(let _=0;_<a;++_)o[_]=Ns(e,_);let l=this.tempMaps;if(l.has(e)){let _=changetype(l.get(e));for(let f=Map_keys(_),E=0,g=f.length;E<g;++E)o.push(f[E])}let p=this.module.ref;on(p,t);let c=me(o);ri(p,t,i,n,c,o.length,s),ne(c)}updateExport(e,t){var i=this.module,n=i.ref;assert(Nc(e)==0);var s=Cc(e),a=i.readStringCached(s),o=Lc(e),l=ii(n,s),p=sn(l),c=Yl(p),_=c.length,f=an(l),E=_,g=new Array,b=assert(t.length),x=b*this.ptrSize,S="export:"+a,v=i.allocStringCached(S);if(ii(n,v)==0){let L=new Array;L.push(this.makeStackOffset(-x));for(let k=0;k<b;++k)L.push(i.store(this.ptrSize,i.global_get(h.stack_pointer,this.ptrType),i.local_get(t[k],this.ptrType),this.ptrType,k*this.ptrSize));let O=new Array(_);for(let k=0;k<_;++k)O[k]=i.local_get(k,c[k]);if(f!=F.None){let k=E++;g.push(f),L.push(i.local_set(k,i.call(a,O,f),!1)),L.push(this.makeStackOffset(+x)),L.push(i.local_get(k,f))}else L.push(i.call(a,O,f)),L.push(this.makeStackOffset(+x));let C=me(g);ri(n,v,p,f,C,g.length,i.block(null,L,f)),ne(C)}Fs(n,o),Ls(n,v,o)}walkModule(){super.walkModule();var e=this.module,t=new Ac(this);for(let n=Map_keys(this.slotMaps),s=0,a=n.length;s<a;++s){let o=n[s],p=changetype(this.slotMaps.get(o)).size*this.ptrSize;t.frameSize=p,t.walkFunction(o);let c=new Array;c.push(this.makeStackOffset(-p)),this.makeStackFill(p,c);let _=wt(o),f=It(_);if(f==F.Unreachable)c.push(_);else if(f==F.None)c.push(_),c.push(this.makeStackOffset(+p));else{let E=this.getSharedTemp(o,f);c.push(e.local_set(E,_,!1)),c.push(this.makeStackOffset(+p)),c.push(e.local_get(E,f))}ls(o,e.flatten(c,f))}for(let n=Map_keys(this.tempMaps),s=0,a=n.length;s<a;++s)this.updateFunction(n[s]);var i=this.exportMap;for(let n=Map_keys(i),s=0,a=n.length;s<a;++s){let o=n[s],l=Cs(e.ref,e.allocStringCached(o)),p=changetype(i.get(o));this.updateExport(l,p)}}},Ac=class extends Yr{constructor(e){super(e.module);this.frameSize=0;this.parentPass=e}visitReturn(e){assert(this.frameSize);var t=this.module,i=or(e),n=new Array;if(i){let s=It(i),a=this.parentPass.getSharedTemp(this.currentFunction,s);n.push(t.local_set(a,i,!1)),n.push(this.parentPass.makeStackOffset(+this.frameSize)),os(e,t.local_get(a,s))}else n.push(this.parentPass.makeStackOffset(+this.frameSize));n.push(e),this.replaceCurrent(t.flatten(n,F.Unreachable))}};var Ps=class{constructor(){this.target=1;this.runtime=2;this.noAssert=!1;this.exportMemory=!0;this.importMemory=!1;this.initialMemory=0;this.maximumMemory=0;this.sharedMemory=!1;this.zeroFilledMemory=!1;this.importTable=!1;this.exportTable=!1;this.sourceMap=!1;this.exportStart=null;this.memoryBase=0;this.tableBase=0;this.globalAliases=null;this.features=15;this.noUnsafe=!1;this.pedantic=!1;this.lowMemoryLimit=0;this.exportRuntime=!1;this.stackSize=0;this.bundleMajorVersion=0;this.bundleMinorVersion=0;this.bundlePatchVersion=0;this.optimizeLevelHint=0;this.shrinkLevelHint=0;this.basenameHint="output"}get isWasm64(){return this.target==2}get usizeType(){return this.target==2?u.usize64:u.usize32}get isizeType(){return this.target==2?u.isize64:u.isize32}get sizeTypeRef(){return this.target==2?F.I64:F.I32}get willOptimize(){return this.optimizeLevelHint>0||this.shrinkLevelHint>0}hasFeature(e){return(this.features&e)!=0}},Hl=(o=>(o[o.NONE=0]="NONE",o[o.CONV_IMPLICIT=1]="CONV_IMPLICIT",o[o.CONV_EXPLICIT=2]="CONV_EXPLICIT",o[o.MUST_WRAP=4]="MUST_WRAP",o[o.WILL_DROP=8]="WILL_DROP",o[o.PREFER_STATIC=16]="PREFER_STATIC",o[o.IS_THIS=32]="IS_THIS",o))(Hl||{}),Kl=(l=>(l[l.NONE=0]="NONE",l[l.DATA=1]="DATA",l[l.STACK=2]="STACK",l[l.HEAP=4]="HEAP",l[l.RTTI=8]="RTTI",l[l.visitGlobals=16]="visitGlobals",l[l.visitMembers=32]="visitMembers",l[l.setArgumentsLength=64]="setArgumentsLength",l))(Kl||{}),ln;(n=>(n.argumentsLength="__argumentsLength",n.setArgumentsLength="__setArgumentsLength",n.memory="memory",n.table="table"))(ln||={});var Fc=["__new","__pin","__unpin","__collect"],kc=["__rtti_base"],si=class extends Ve{constructor(e){super(e.diagnostics);this.currentParent=null;this.currentType=u.void;this.memorySegments=[];this.stringSegments=new Map;this.functionTable=[];this.builtinArgumentsLength=0;this.runtimeFeatures=0;this.inlineStack=[];this.lazyFunctions=new Set;this.pendingClassInstanceOf=new Set;this.virtualStubs=new Set;this.pendingElements=new Set;this.doneModuleExports=new Set;this.hasCustomFunctionExports=!1;this.f32ModInstance=null;this.f64ModInstance=null;this.f32PowInstance=null;this.f64PowInstance=null;this.i32PowInstance=null;this.i64PowInstance=null;this._reusableCallExpression=null;this.program=e;var t=e.options,i=lt.create(t.stackSize>0,t.sizeTypeRef);this.module=i,t.memoryBase?(this.memoryOffset=i64_new(t.memoryBase),i.setLowMemoryUnused(!1)):!t.lowMemoryLimit&&t.optimizeLevelHint>=2?(this.memoryOffset=i64_new(1024),i.setLowMemoryUnused(!0)):(this.memoryOffset=i64_new(8),i.setLowMemoryUnused(!1));var n=0;t.hasFeature(1)&&(n|=32),t.hasFeature(2)&&(n|=2),t.hasFeature(4)&&(n|=4),t.hasFeature(8)&&(n|=16),t.hasFeature(16)&&(n|=8),t.hasFeature(32)&&(n|=1),t.hasFeature(64)&&(n|=64),t.hasFeature(128)&&(n|=128),t.hasFeature(256)&&(n|=256),t.hasFeature(512)&&(n|=512),t.hasFeature(1024)&&(n|=1024),t.hasFeature(2048)&&(n|=2048),i.setFeatures(n);var s=e.makeNativeFunction(h.start,new ve(e,[],u.void));s.internalName=h.start,this.currentFlow=s.flow,this.currentBody=new Array,this.shadowStack=new zl(this)}get resolver(){return this.program.resolver}get options(){return this.program.options}static compile(e){return new si(e).compile()}compile(){var e=this.options,t=this.module,i=this.program,n=this.resolver,s=e.stackSize>0;this.program.initialize();var a=this.currentFlow.actualFunction;assert(a.internalName==h.start);var o=this.currentBody;assert(o.length==0),e.isWasm64?(t.addGlobal(h.data_end,F.I64,!0,t.i64(0)),t.addGlobal(h.heap_base,F.I64,!0,t.i64(0)),t.addGlobal(h.rtti_base,F.I64,!0,t.i64(0))):(t.addGlobal(h.data_end,F.I32,!0,t.i32(0)),t.addGlobal(h.heap_base,F.I32,!0,t.i32(0)),t.addGlobal(h.rtti_base,F.I32,!0,t.i32(0)));var l=i.filesByName;for(let k=Map_values(l),D=0,Y=k.length;D<Y;++D){let z=unchecked(k[D]);z.source.sourceKind==1&&(this.compileFile(z),this.compileModuleExports(z))}if(this.options.exportRuntime){for(let k=0,D=Fc.length;k<D;++k){let Y=Fc[k],z=i.requireFunction(Y);this.compileFunction(z)&&!t.hasExport(Y)&&t.addFunctionExport(z.internalName,Y)}for(let k=0,D=kc.length;k<D;++k){let Y=kc[k],z=i.requireGlobal(Y);this.compileGlobal(z)&&!t.hasExport(Y)&&t.addGlobalExport(z.internalName,Y)}}var p=this.lazyFunctions;do{let k=new Array;for(let D=Set_values(p),Y=0,z=D.length;Y<z;++Y){let K=unchecked(D[Y]);k.push(K)}p.clear();for(let D=0,Y=k.length;D<Y;++D)this.compileFunction(unchecked(k[D]),!0)}while(p.size);for(let k=Set_values(this.pendingClassInstanceOf),D=0,Y=k.length;D<Y;++D){let z=unchecked(k[D]);Uc(this,z)}var c=this.functionTable,_=this.virtualStubs;for(let k=0,D=c.length;k<D;++k){let Y=c[k];Y.is(134217728)?(assert(Y.is(131072)),c[k]=this.ensureVirtualStub(Y)):Y.signature.requiredParameters<Y.signature.parameterTypes.length&&(c[k]=this.ensureVarargsStub(Y))}var f=new Set;do{n.discoveredOverload=!1;for(let k=Set_values(_),D=0,Y=k.length;D<Y;++D){let z=unchecked(k[D]),K=n.resolveOverloads(z);if(K)for(let Z=0,ue=K.length;Z<ue;++Z)this.compileFunction(K[Z]);f.add(z)}}while(_.size>f.size||n.discoveredOverload);f.clear();for(let k=Set_values(_),D=0,Y=k.length;D<Y;++D)this.finalizeVirtualStub(k[D]);t.removeGlobal(h.rtti_base),this.runtimeFeatures&8&&Mc(this),this.runtimeFeatures&16&&Oc(this),this.runtimeFeatures&32&&wc(this);var E=i64_align(this.memoryOffset,e.usizeType.byteSize);t.removeGlobal(h.data_end),((this.runtimeFeatures&1)!=0||s)&&(e.isWasm64?t.addGlobal(h.data_end,F.I64,!1,t.i64(i64_low(E),i64_high(E))):t.addGlobal(h.data_end,F.I32,!1,t.i32(i64_low(E)))),t.removeGlobal(h.stack_pointer),((this.runtimeFeatures&2)!=0||s)&&(E=i64_align(i64_add(E,i64_new(e.stackSize)),e.usizeType.byteSize),e.isWasm64?t.addGlobal(h.stack_pointer,F.I64,!0,t.i64(i64_low(E),i64_high(E))):t.addGlobal(h.stack_pointer,F.I32,!0,t.i32(i64_low(E)))),t.removeGlobal(h.heap_base),((this.runtimeFeatures&4)!=0||s)&&(e.isWasm64?t.addGlobal(h.heap_base,F.I64,!1,t.i64(i64_low(E),i64_high(E))):t.addGlobal(h.heap_base,F.I32,!1,t.i32(i64_low(E)))),this.memoryOffset=E;var g=this.options.lowMemoryLimit;if(g){let k=i64_new(g&-16);i64_gt(E,k)&&this.error(104,null,i64_to_string(E),i64_to_string(k))}var b=0;(this.options.memoryBase||this.memorySegments.length)&&(b=u32(i64_low(i64_shr_u(i64_align(E,65536),i64_new(16))))),e.initialMemory&&(e.initialMemory<b?this.error(105,null,b.toString()):b=e.initialMemory);var x=lt.UNLIMITED_MEMORY;e.maximumMemory&&(e.maximumMemory<b?this.error(106,null,b.toString()):x=e.maximumMemory);var S=!1;e.sharedMemory&&(S=!0,e.maximumMemory||(this.error(107,null),S=!1),e.hasFeature(32)||(this.error(108,null),S=!1)),t.setMemory(b,x,this.memorySegments,e.target,e.exportMemory?ln.memory:null,S),e.importMemory&&t.addMemoryImport("0","env","memory",S),e.importTable&&(t.addTableImport("0","env","table"),e.pedantic&&e.willOptimize&&this.pedantic(901,null)),e.exportTable&&(t.addTableExport("0",ln.table),e.pedantic&&e.willOptimize&&this.pedantic(902,null));var v=this.options.tableBase;v||(v=1);var L=new Array(c.length);for(let k=0,D=c.length;k<D;++k)L[k]=c[k].internalName;t.addFunctionTable("0",v+c.length,lt.UNLIMITED_TABLE,L,t.i32(v)),this.runtimeFeatures&64&&(t.addFunction(h.setArgumentsLength,F.I32,F.None,null,t.global_set(this.ensureArgumentsLength(),t.local_get(0,F.I32))),t.addFunctionExport(h.setArgumentsLength,ln.setArgumentsLength));var O=!o.length,C=e.exportStart;if(i.isWasi&&!C&&(C=this.hasCustomFunctionExports?"_initialize":"_start"),!O||C!=null){let k=a.signature;!O&&C!=null&&(t.addGlobal(h.started,F.I32,!0,t.i32(0)),o.unshift(t.global_set(h.started,t.i32(1))),o.unshift(t.if(t.global_get(h.started,F.I32),t.return())));let D=t.addFunction(a.internalName,k.paramRefs,k.resultRefs,Ur(a.additionalLocals),t.flatten(o));a.finalize(t,D),C==null?t.setStart(D):!ke(C)||t.hasExport(C)?this.error(110,this.program.nativeRange,C):t.addFunctionExport(a.internalName,C)}return s&&this.shadowStack.walkModule(),i.lookup("ASC_RTRACE")!=null&&new Gl(this).walkModule(),t}compileModuleExports(e){var t=e.exports;if(t)for(let n=Map_keys(t),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]),l=assert(t.get(o));this.compileModuleExport(o,l)}var i=e.exportsStar;if(i)for(let n=0,s=i.length;n<s;++n)this.compileModuleExports(i[n])}compileModuleExport(e,t,i=""){var n=this.module;switch(t.kind){case 4:{let s=t;if(!s.is(32768)){let a=this.resolver.resolveFunction(s,null);a&&this.compileModuleExport(e,a,i);return}break}case 5:{let s=t;if(!s.hasDecorator(512)){let a=s.signature;if(a.requiredParameters<a.parameterTypes.length&&(s=this.ensureVarargsStub(s),this.runtimeFeatures|=64),this.compileFunction(s),s.is(4194304)){let o=i+e;n.hasExport(o)||(n.addFunctionExport(s.internalName,o),this.hasCustomFunctionExports=!0,a.hasManagedOperands&&this.shadowStack.noteExport(o,a.getManagedOperandIndices()));return}}break}case 0:{let s=t;if(!(s.is(8)||s.is(96))&&!this.options.hasFeature(2)){this.warning(103,s.identifierNode.range,"mutable-globals");return}if(this.compileGlobal(s),s.is(4194304)){let o=i+e;n.hasExport(o)||n.addGlobalExport(t.internalName,o);return}break}case 2:{this.compileEnum(t);let s=t.members;if(s){let a=i+e+vi;for(let o=Map_keys(s),l=0,p=o.length;l<p;++l){let c=unchecked(o[l]),_=assert(s.get(c));_.is(512)||this.compileModuleExport(c,_,a)}}return}case 3:{let s=t;if(!s.isImmutable&&!this.options.hasFeature(2)){this.error(103,s.identifierNode.range,"mutable-globals");return}if(s.is(4194304)){let a=i+e;n.hasExport(a)||n.addGlobalExport(t.internalName,a);return}break}}this.warning(235,t.identifierNode.range)}compileElement(e,t=!0){switch(e.kind){case 0:{this.compileGlobal(e);break}case 2:{this.compileEnum(e);break}case 4:{if(!e.is(32768)){let i=this.resolver.resolveFunction(e,null);i&&this.compileFunction(i)}break}case 6:{if(!e.is(32768)){let i=this.resolver.resolveClass(e,null);i&&this.compileClass(i)}break}case 12:{let i=this.resolver.resolveProperty(e);i&&this.compileProperty(i);break}case 8:case 14:case 16:case 3:case 17:break;default:assert(!1)}if(t){let i=e.members;if(i)for(let n=Map_values(i),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]);this.compileElement(o)}}}compileFileByPath(e,t){var i,n=this.program.filesByName,s;if(n.has(e))i=assert(n.get(e));else if(n.has(s=e+Ne))i=assert(n.get(s));else{this.error(6054,t.range,e);return}this.compileFile(i)}compileFile(e){if(!e.is(4194304)){e.set(4194304);var t=e.startFunction,i=t.signature,n=this.currentBody,s=new Array;this.currentBody=s;var a=this.currentFlow,o=t.flow;this.currentFlow=o;for(let l=e.source.statements,p=0,c=l.length;p<c;++p)this.compileTopLevelStatement(l[p],s);if(this.currentFlow=a,this.currentBody=n,s.length){let l=this.module,p=t.localsByIndex,c=p.length,_=new Array(c);for(let f=0;f<c;++f)_[f]=p[f].type.toRef();l.addFunction(t.internalName,i.paramRefs,i.resultRefs,_,l.flatten(s)),n.push(l.call(t.internalName,null,F.None))}}}compileGlobal(e){if(e.is(4194304))return!e.is(8388608);e.set(4194304);var t=this.pendingElements;t.add(e);var i=this.module,n=0,s=e.typeNode,a=e.initializerNode;if(!e.is(2097152))if(s){let E=this.resolver.resolveType(s,e.parent);if(!E)return e.set(8388608),t.delete(e),!1;if(E==u.void)return this.error(1110,s.range),e.set(8388608),t.delete(e),!1;e.setType(E),this.checkTypeSupported(e.type,s)}else if(a){let E=this.currentFlow;if(e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow),n=this.compileExpression(a,u.auto,20),this.currentFlow=E,this.currentType==u.void)return this.error(2322,a.range,this.currentType.toString(),"<auto>"),e.set(8388608),t.delete(e),!1;e.setType(this.currentType)}else return this.error(1110,e.identifierNode.range.atEnd),e.set(8388608),t.delete(e),!1;if(e.is(16384)&&e.hasDecorator(512)){let E=e.internalName;return E==h.data_end?this.runtimeFeatures|=1:E==h.stack_pointer?this.runtimeFeatures|=2:E==h.heap_base?this.runtimeFeatures|=4:E==h.rtti_base&&(this.runtimeFeatures|=8),t.delete(e),!0}var o=e.type,l=o.toRef(),p=e.is(8)||e.is(96),c=e.hasDecorator(64);if(e.is(16384))return p||this.options.hasFeature(2)?(Pc(e,e.declaration),this.program.markModuleImport(pr,Vt,e),i.addGlobalImport(e.internalName,pr,Vt,l,!p),t.delete(e),!0):(this.error(103,e.declaration.range,"mutable-globals"),e.set(8388608),t.delete(e),!1);var _=!1;if(a){if(!n){let E=this.currentFlow;e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow),n=this.compileExpression(a,o,21),this.currentFlow=E}if(ee(n)!=14)if(p){if(ee(n)!=14){let E=i.runExpression(n,1);E?n=E:_=!0}}else _=!0;if(_&&ee(n)==10){let E=assert($i(n));if(!Ql(i.getGlobal(E))){let g=this.program.elementsByName;g.has(E)&&assert(g.get(E)).is(16384)&&(_=!1)}}if(c)if(_)this.warning(206,a.range);else{switch(assert(ee(n)==14),le(n)){case F.I32:{e.constantValueKind=1,e.constantIntegerValue=i64_new(ie(n),0);break}case F.I64:{e.constantValueKind=1,e.constantIntegerValue=i64_new(Be(n),$e(n));break}case F.F32:{e.constantValueKind=2,e.constantFloatValue=Ye(n);break}case F.F64:{e.constantValueKind=2,e.constantFloatValue=He(n);break}default:return assert(!1),e.set(8388608),t.delete(e),!1}e.set(16777216)}}else e.is(16777216)?n=this.compileInlineConstant(e,e.type,16):n=this.makeZero(o,e.declaration);var f=e.internalName;return _?(c&&this.error(212,gt(8,e.decoratorNodes).range,"inline"),i.addGlobal(f,l,!0,this.makeZero(o,e.declaration)),this.currentBody.push(i.global_set(f,n))):c||i.addGlobal(f,l,!p,n),t.delete(e),!0}compileEnum(e){if(e.is(4194304))return!e.is(8388608);e.set(4194304);var t=this.pendingElements;t.add(e);var i=this.module,n=this.currentParent;this.currentParent=e;var s=null,a=!1,o=e.is(8)||e.hasDecorator(64),l=e.members;if(l)for(let p=Map_values(l),c=0,_=p.length;c<_;++c){let f=unchecked(p[c]);if(f.kind!=3)continue;let E=!1,g=f,b=g.valueNode;g.set(4194304);let x=this.currentFlow;e.hasDecorator(1024)&&(this.currentFlow=e.file.startFunction.flow);let S;if(b){if(S=this.compileExpression(b,u.i32,1),ee(S)!=14){let v=i.runExpression(S,1);v?S=v:(e.is(8)&&this.error(2474,b.range),E=!0)}}else if(s==null)S=i.i32(0);else if(a&&this.error(1061,g.identifierNode.range.atEnd),o){let v=i64_add(s.constantIntegerValue,i64_new(1));assert(!i64_high(v)),S=i.i32(i64_low(v))}else{S=i.binary(0,i.global_get(s.internalName,F.I32),i.i32(1));let v=i.runExpression(S,1);v?S=v:(e.is(8)&&this.error(2474,f.declaration.range),E=!0)}this.currentFlow=x,E?(i.addGlobal(g.internalName,F.I32,!0,i.i32(0)),this.currentBody.push(this.makeGlobalAssignment(g,S,u.i32,!1)),a=!0):(o?(g.setConstantIntegerValue(i64_new(ie(S)),u.i32),g.is(524288)&&i.addGlobal(g.internalName,F.I32,!1,S)):i.addGlobal(g.internalName,F.I32,!1,S),g.isImmutable=!0,a=!1),s=g}return this.currentParent=n,t.delete(e),!0}compileFunction(e,t=!1){if(e.is(4194304))return!e.is(8388608);if(!t){if(e.hasDecorator(512))return!0;if(e.hasDecorator(1024))return this.lazyFunctions.add(e),!0}var i=e.prototype.functionTypeNode.parameters,n=i.length;if(n>=2){let f=new Set;f.add(i[0].name.text);for(let E=1;E<n;E++){let g=i[E].name,b=g.text;f.has(b)?this.error(2300,g.range,b):f.add(b)}}e.set(4194304);var s=this.pendingElements;s.add(e);var a=this.currentType,o=this.module,l=e.signature,p=e.prototype.bodyNode,c=e.declaration;assert(c.kind==55||c.kind==58),this.checkSignatureSupported(e.signature,c.signature);var _;if(p){if(e.is(16384)&&this.error(1183,e.identifierNode.range),e.hasAnyDecorator(384)){let b=e.decoratorNodes,x;(x=gt(9,b))&&this.error(212,x.range,"external"),(x=gt(10,b))&&this.error(212,x.range,"external.js")}let f=this.currentFlow,E=e.flow;this.currentFlow=E;let g=new Array;this.compileFunctionBody(e,g)||g.push(o.unreachable()),this.currentFlow=f,_=o.addFunction(e.internalName,l.paramRefs,l.resultRefs,Ur(e.additionalLocals),o.flatten(g,e.signature.returnType.toRef()))}else e.is(16384)?(Pc(e,c),this.program.markModuleImport(pr,Vt,e),o.addFunctionImport(e.internalName,pr,Vt,l.paramRefs,l.resultRefs),_=o.getFunction(e.internalName)):e.is(128)||e.parent.kind==9?_=o.addFunction(e.internalName,l.paramRefs,l.resultRefs,null,o.unreachable()):(this.error(2391,e.identifierNode.range),_=0,e.set(8388608));return e.finalize(o,_),this.currentType=a,s.delete(e),!0}compileFunctionBody(e,t){var i=this.module,n=assert(e.prototype.bodyNode),s=e.signature.returnType,a=this.currentFlow,o=e.signature.thisType?assert(a.lookupLocal(w.this_)):null,l=t.length;if(n.kind==30)t=this.compileStatements(n.statements,!0,t);else{assert(n.kind==38),assert(e.prototype.arrowKind),assert(!e.isAny(268288));let p=this.compileExpression(n.expression,s,1);a.canOverflow(p,s)||a.set(2),a.isNonnull(p,s)&&a.set(4),t?t.push(p):t=[p],a.is(256)||(a.canOverflow(p,s)||a.set(2),a.isNonnull(p,s)&&a.set(4),a.set(257))}if(e.is(262144)){assert(e.is(131072)),o=assert(o);let p=assert(e.parent);assert(p.kind==7);let c=p;if(a.isAny(8256)||!a.is(256)){let _=new Array;_.push(this.makeConditionalAllocation(c,o.index)),this.makeFieldInitializationInConstructor(c,_);for(let f=t.length-1;f>=l;--f)t[f+1]=t[f];t[l]=i.flatten(_,F.None),a.is(16384)&&this.options.pedantic&&this.pedantic(905,e.identifierNode.range)}a.is(16384)&&!c.hasDecorator(32)&&this.error(231,c.identifierNode.range),a.is(256)||(t.push(i.local_get(o.index,this.options.sizeTypeRef)),a.set(261)),c.base&&!a.is(128)&&this.error(2377,e.prototype.declaration.range)}else if(s!=u.void&&!a.is(256))return this.error(2355,e.prototype.functionTypeNode.returnType.range),!1;return!0}compileClass(e){if(e.is(4194304))return!0;e.set(4194304);var t=e.prototype,i=t.members;if(i)for(let s=Map_values(i),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);switch(l.kind){case 0:{this.compileGlobal(l);break}case 4:{if(l.is(32768))break;let p=this.resolver.resolveFunction(l,null);if(!p)break;l=p}case 5:{this.compileFunction(l);break}case 12:{let p=this.resolver.resolveProperty(l);if(!p)break;l=p}case 13:{this.compileProperty(l);break}}}this.ensureConstructor(e,e.identifierNode),this.checkFieldInitialization(e);var n=e.members;if(n)for(let s=Map_values(n),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);switch(l.kind){case 4:{if(l.is(32768))break;let p=this.resolver.resolveFunction(l,null);if(!p)break;l=p}case 5:{this.compileFunction(l);break}case 11:{this.compileField(l);break}case 12:{let p=this.resolver.resolveProperty(l);if(!p)break;l=p}case 13:{this.compileProperty(l);break}}}return!0}compileField(e){return this.compileFieldGetter(e),this.compileFieldSetter(e),e.is(4194304)}compileFieldGetter(e){if(e.getterRef)return!0;var t=this.module,i=e.type,n=i.toRef(),s=this.options.sizeTypeRef;if(e.getterRef=t.addFunction(e.internalGetterName,s,n,null,t.load(i.byteSize,i.isSignedIntegerValue,t.local_get(0,s),n,e.memoryOffset)),e.setterRef)e.set(4194304);else{let a=e.typeNode;a&&this.checkTypeSupported(e.type,a)}return!0}compileFieldSetter(e){if(e.setterRef)return!0;var t=e.type,i=this.options.sizeTypeRef,n=t.toRef(),s=this.module,a=s.store(t.byteSize,s.local_get(0,i),s.local_get(1,n),n,e.memoryOffset);if(t.isManaged){let o=e.parent;if(assert(o.kind==7),o.type.isManaged){let l=this.program.linkInstance;this.compileFunction(l),a=s.block(null,[a,s.call(l.internalName,[s.local_get(0,i),s.local_get(1,n),s.i32(0)],F.None)],F.None)}}if(e.setterRef=s.addFunction(e.internalSetterName,Oe([i,n]),F.None,null,a),e.getterRef)e.set(4194304);else{let o=e.typeNode;o&&this.checkTypeSupported(e.type,o)}return!0}compileProperty(e){return this.compilePropertyGetter(e),this.compilePropertySetter(e),e.is(4194304)}compilePropertyGetter(e){var t=e.getterInstance;if(t){let i=this.compileFunction(t),n=e.setterInstance;return t.is(4194304)&&(!n||n.is(4194304))&&e.set(4194304),i}return!1}compilePropertySetter(e){var t=e.setterInstance;if(t){let i=this.compileFunction(t),n=e.getterInstance;return n&&n.is(4194304)&&t.is(4194304)&&e.set(4194304),i}return!1}addAlignedMemorySegment(e,t=16){assert(ht(t));var i=i64_align(this.memoryOffset,t),n=new un(e,i);return this.memorySegments.push(n),this.memoryOffset=i64_add(i,i64_new(e.length)),n}addRuntimeMemorySegment(e){var t=this.program.computeBlockStart64(this.memoryOffset),i=new un(e,t);return this.memorySegments.push(i),this.memoryOffset=i64_add(t,i64_new(e.length)),i}ensureStaticString(e){var t=this.ensureStaticStringPtr(e);return this.currentType=this.program.stringInstance.type,this.module.usize(t)}ensureStaticStringPtr(e){var t=this.program,i=t.totalOverhead,n=assert(t.stringInstance),s,a=this.stringSegments;if(a.has(e))s=assert(a.get(e));else{let o=e.length,l=n.createBuffer(o<<1);for(let p=0;p<o;++p)Ft(e.charCodeAt(p),l,i+(p<<1));s=this.addRuntimeMemorySegment(l),a.set(e,s)}return i64_add(s.offset,i64_new(i))}writeStaticBuffer(e,t,i,n){var s=n.length,a=i.byteSize,o=i.toRef();switch(o){case F.I32:{switch(a){case 1:{for(let l=0;l<s;++l){let p=n[l];assert(le(p)==o),assert(ee(p)==14),pe(ie(p),e,t),t+=1}break}case 2:{for(let l=0;l<s;++l){let p=n[l];assert(le(p)==o),assert(ee(p)==14),Ft(ie(p),e,t),t+=2}break}case 4:{for(let l=0;l<s;++l){let p=n[l];assert(le(p)==o),assert(ee(p)==14),ce(ie(p),e,t),t+=4}break}default:assert(!1)}break}case F.I64:{for(let l=0;l<s;++l){let p=n[l];assert(le(p)==o),assert(ee(p)==14),Lr(i64_new(Be(p),$e(p)),e,t),t+=8}break}case F.F32:{for(let l=0;l<s;++l){let p=n[l];assert(le(p)==o),assert(ee(p)==14),$t(Ye(p),e,t),t+=4}break}case F.F64:{for(let l=0;l<s;++l){let p=n[l];assert(le(p)==o),assert(ee(p)==14),er(He(p),e,t),t+=8}break}default:assert(!1)}return t}addStaticBuffer(e,t,i=this.program.arrayBufferInstance.id){var n=this.program,s=n.arrayBufferInstance,a=s.createBuffer(t.length*e.byteSize);return this.program.OBJECTInstance.writeField("rtId",i,a,0),this.writeStaticBuffer(a,n.totalOverhead,e,t),this.addRuntimeMemorySegment(a)}addStaticArrayHeader(e,t,i=null){var n=this.program;i||(i=assert(this.resolver.resolveClass(this.program.arrayPrototype,[e])));var s=Nr(t.buffer,n.OBJECTInstance.offsetof("rtSize")),a=i32(s/e.byteSize),o=i64_add(t.offset,i64_new(n.totalOverhead)),l=i.createBuffer();return assert(i.writeField("buffer",o,l)),assert(i.writeField("dataStart",o,l)),assert(i.writeField("byteLength",s,l)),assert(i.writeField("length_",a,l)),this.addRuntimeMemorySegment(l)}ensureRuntimeFunction(e){assert(e.is(4194304)&&!e.is(67108864));var t=this.program,i=e.memorySegment;if(!i){let n=this.functionTable,s=this.options.tableBase;s||(s=1);let a=s+n.length;n.push(e);let o=assert(this.resolver.resolveClass(t.functionPrototype,[e.type])),l=o.createBuffer();assert(o.writeField("_index",a,l)),assert(o.writeField("_env",0,l)),e.memorySegment=i=this.addRuntimeMemorySegment(l)}return i64_add(i.offset,i64_new(t.totalOverhead))}compileTopLevelStatement(e,t){switch(e.kind){case 51:{let i=e.members;for(let n=0,s=i.length;n<s;++n)this.compileTopLevelStatement(i[n],t);break}case 52:{let i=this.program.getElementByDeclaration(e);i&&(assert(i.kind==2),i.hasDecorator(1024)||this.compileEnum(i));break}case 59:{let i=e,n=this.program.getElementByDeclaration(i);if(n){let s=this.currentParent;this.currentParent=n;let a=i.members;for(let o=0,l=a.length;o<l;++o)this.compileTopLevelStatement(a[o],t);this.currentParent=s}break}case 47:{let i=e.declarations;for(let n=0,s=i.length;n<s;++n){let a=this.program.getElementByDeclaration(i[n]);a&&(assert(a.kind==0),!a.is(16384)&&!a.hasDecorator(1024)&&this.compileGlobal(a))}break}case 54:{let i=this.program.getElementByDeclaration(e);i&&i.kind==0&&(i.hasDecorator(1024)||this.compileGlobal(i));break}case 35:{let i=e,n=i.internalPath;n!=null&&this.compileFileByPath(n,assert(i.path));break}case 36:{this.compileTopLevelStatement(e.declaration,t);break}case 42:{let i=e;this.compileFileByPath(i.internalPath,i.path);break}case 55:case 58:case 57:case 65:case 60:break;default:{let i=this.compileStatement(e);ee(i)!=22&&t.push(i);break}}}compileStatement(e,t=!1){var i=this.module,n;switch(e.kind){case 30:{n=this.compileBlockStatement(e);break}case 31:{n=this.compileBreakStatement(e);break}case 32:{n=this.compileContinueStatement(e);break}case 33:{n=this.compileDoStatement(e);break}case 34:{n=this.compileEmptyStatement(e);break}case 38:{n=this.compileExpressionStatement(e);break}case 39:{n=this.compileForStatement(e);break}case 40:{n=this.compileForOfStatement(e);break}case 41:{n=this.compileIfStatement(e);break}case 43:{n=this.compileReturnStatement(e,t);break}case 44:{n=this.compileSwitchStatement(e);break}case 45:{n=this.compileThrowStatement(e);break}case 46:{n=this.compileTryStatement(e);break}case 47:{n=this.compileVariableStatement(e),n||(n=i.nop());break}case 48:{n=this.compileVoidStatement(e);break}case 49:{n=this.compileWhileStatement(e);break}case 60:{this.error(100,e.range,"Inner type alias"),n=i.unreachable();break}case 50:{n=i.nop();break}default:assert(!1),n=i.unreachable()}return this.options.sourceMap&&this.addDebugLocation(n,e.range),n}compileStatements(e,t=!1,i=null){var n=e.length;i||(i=new Array(n),i.length=0);var s=this.module,a=this.currentFlow;for(let o=0;o<n;++o){let l=this.compileStatement(e[o],t&&o==n-1);switch(ee(l)){case 1:if(!en(l)){for(let p=0,c=tn(l);p<c;++p)i.push(rn(l,p));break}default:i.push(l);case 22:}if(a.isAny(272)){Us(l)&&i.push(s.unreachable());break}}return i}compileBlockStatement(e){var t=e.statements,i=this.currentFlow,n=i.fork();this.currentFlow=n;var s=this.compileStatements(t);return n.freeScopedLocals(),i.inherit(n),this.currentFlow=i,this.module.flatten(s)}compileBreakStatement(e){var t=this.module,i=e.label;if(i)return this.error(100,i.range,"Break label"),t.unreachable();var n=this.currentFlow,s=n.breakLabel;return s==null?(this.error(1105,e.range),t.unreachable()):(n.freeScopedLocals(),n.set(16),t.br(s))}compileContinueStatement(e){var t=this.module,i=e.label;if(i)return this.error(100,i.range,"Continue label"),t.unreachable();var n=this.currentFlow,s=n.continueLabel;return s==null?(this.error(1104,e.range),t.unreachable()):(n.set(288),n.freeScopedLocals(),t.br(s))}compileDoStatement(e){return this.doCompileDoStatement(e,null)}doCompileDoStatement(e,t){var i=this.module,n=this.currentFlow,s=n.pushBreakLabel(),a=n.fork(!0);t&&a.unifyLocalFlags(t);var o=a.fork();this.currentFlow=a;var l="do-break|"+s;a.breakLabel=l;var p="do-continue|"+s;a.continueLabel=p;var c="do-loop|"+s,_=a.fork();this.currentFlow=_;var f=new Array,E=e.statement;E.kind==30?this.compileStatements(E.statements,!1,f):f.push(this.compileStatement(E));var g=_.isAny(4128);if(_.isAny(272)&&!g)f.push(i.unreachable()),a.inherit(_);else{let x=a.fork();this.currentFlow=x;let S=this.makeIsTrueish(this.compileExpression(e.condition,u.i32),this.currentType,e.condition),v=this.evaluateCondition(S);if(g&&(f=[i.block(p,f)]),v==2)f.push(i.drop(S)),a.inherit(_);else if(v==1&&!_.isAny(2064))f.push(i.drop(S)),f.push(i.br(c)),a.set(256);else if(f.push(i.br(c,S)),a.inherit(x),Me.hasIncompatibleLocalStates(o,a))return n.popBreakLabel(),this.currentFlow=n,this.doCompileDoStatement(e,a)}assert(!a.hasScopedLocals),n.inherit(a),n.popBreakLabel(),this.currentFlow=n;var b=i.block(l,[i.loop(c,i.flatten(f))]);return n.is(256)&&(b=i.block(null,[b,i.unreachable()])),b}compileEmptyStatement(e){return this.module.nop()}compileExpressionStatement(e){return this.compileExpression(e.expression,u.void,1)}compileForStatement(e){return this.doCompileForStatement(e,null)}doCompileForStatement(e,t){var i=this.module,n=this.currentFlow,s=n.pushBreakLabel(),a=new Array,o=n.fork(!0);this.currentFlow=o;var l="for-break"+s;o.breakLabel=l;var p="for-continue|"+s;o.continueLabel=p;var c="for-loop|"+s,_=e.initializer;_&&(assert(_.kind==38||_.kind==47),a.push(this.compileStatement(_))),t&&o.unifyLocalFlags(t);var f=o.fork(),E=o.fork();this.currentFlow=E;var g,b,x=e.condition;if(x){if(g=this.makeIsTrueish(this.compileExpression(x,u.bool),this.currentType,x),b=this.evaluateCondition(g),b==2)return a.push(i.drop(g)),E.freeScopedLocals(),o.inherit(E),o.freeScopedLocals(),n.inherit(o),n.popBreakLabel(),this.currentFlow=n,i.flatten(a)}else g=i.i32(1),b=1;var S=o.getTempLocal(u.bool),v=new Array;v.push(i.local_set(S.index,g,!1)),E.freeScopedLocals(),o.inherit(E),this.currentFlow=o;var L=o.fork();L.inheritNonnullIfTrue(g),this.currentFlow=L;var O=new Array,C=e.statement;C.kind==30?this.compileStatements(C.statements,!1,O):O.push(this.compileStatement(C)),L.isAny(272)&&O.push(i.unreachable()),b==1?o.inherit(L):o.inheritBranch(L),L.freeScopedLocals();var k=new Array;if(k.push(i.block(p,O)),!L.is(256)||L.isAny(4128)){let D=e.incrementor;if(D){let Y=o.fork();this.currentFlow=Y,k.push(this.compileExpression(D,u.void,9)),Y.freeScopedLocals(),o.inherit(Y),this.currentFlow=o}if(k.push(i.br(c)),Me.hasIncompatibleLocalStates(f,o))return assert(!L.hasScopedLocals),o.freeScopedLocals(),n.popBreakLabel(),this.currentFlow=n,this.doCompileForStatement(e,o)}return v.push(i.if(i.local_get(S.index,F.I32),i.flatten(k))),a.push(i.block(l,[i.loop(c,i.flatten(v))])),o.freeTempLocal(S),this.currentFlow=o,o.freeScopedLocals(),n.inherit(o),n.popBreakLabel(),n.is(256)&&a.push(i.unreachable()),this.currentFlow=n,i.flatten(a)}compileForOfStatement(e){return this.error(100,e.range,"Iterators"),this.module.unreachable()}compileIfStatement(e){var t=this.module,i=e.ifTrue,n=e.ifFalse,s=this.makeIsTrueish(this.compileExpression(e.condition,u.bool),this.currentType,e.condition),a=this.evaluateCondition(s);switch(a){case 1:return t.block(null,[t.drop(s),this.compileStatement(i)]);case 2:return n?t.block(null,[t.drop(s),this.compileStatement(n)]):t.drop(s)}var o=this.currentFlow,l=new Array,p=o.fork();this.currentFlow=p,p.inheritNonnullIfTrue(s),i.kind==30?this.compileStatements(i.statements,!1,l):l.push(this.compileStatement(i));var c=p.isAny(272);if(c&&l.push(t.unreachable()),p.freeScopedLocals(),this.currentFlow=o,n){let _=new Array,f=o.fork();return this.currentFlow=f,f.inheritNonnullIfFalse(s),n.kind==30?this.compileStatements(n.statements,!1,_):_.push(this.compileStatement(n)),f.isAny(272)&&_.push(t.unreachable()),f.freeScopedLocals(),this.currentFlow=o,o.inheritMutual(p,f),t.if(s,t.flatten(l),t.flatten(_))}else return o.inheritBranch(p),o.inheritNonnullIfFalse(s,p.isAny(272)?null:p),t.if(s,t.flatten(l))}compileReturnStatement(e,t){var i=this.module,n=0,s=this.currentFlow,a=s.returnType,o=e.value;if(o){let l=1;s.actualFunction.is(524288)&&(l|=4),n=this.compileExpression(o,a,l),s.canOverflow(n,a)||s.set(2),s.isNonnull(n,a)&&s.set(4),s.actualFunction.is(262144)&&o.kind!=24&&s.set(16384)}else if(a!=u.void)return this.error(2322,e.range,"void",a.toString()),this.currentType=a,i.unreachable();return s.freeScopedLocals(),s.set(257),s.isInline?n?t?n:this.currentType==u.void?i.block(null,[n,i.br(assert(s.inlineReturnLabel))]):i.br(assert(s.inlineReturnLabel),0,n):t?i.nop():i.br(assert(s.inlineReturnLabel)):n?t?n:this.currentType==u.void?i.block(null,[n,i.return()]):i.return(n):t?i.nop():i.return()}compileSwitchStatement(e){var t=this.module,i=e.cases,n=i.length;if(!n)return this.compileExpression(e.condition,u.void,1);var s=this.currentFlow,a=s.pushBreakLabel(),o=s.getTempLocal(u.u32),l=o.index,p=new Array(1+n);p[0]=t.local_set(l,this.compileExpression(e.condition,u.u32,1),!1);var c=1,_=-1;for(let b=0;b<n;++b){let S=i[b].label;S?p[c++]=t.br("case"+b.toString()+"|"+a,t.binary(15,t.local_get(l,F.I32),this.compileExpression(S,u.u32,1))):_=b}s.freeTempLocal(o),p[c]=t.br((_>=0?"case"+_.toString():"break")+"|"+a);var f=t.block("case0|"+a,p,F.None),E=511,g=0;for(let b=0;b<n;++b){let S=i[b].statements,v=S.length,L=s.fork();this.currentFlow=L;let O="break|"+a;L.breakLabel=O;let C=b==n-1,k=C?O:"case"+(b+1).toString()+"|"+a,D=new Array(1+v);D[0]=f;let Y=1,z=!1;for(let K=0;K<v;++K){let Z=this.compileStatement(S[K]);if(ee(Z)!=22&&(D[Y++]=Z),L.isAny(272)){L.is(256)&&(z=!0);break}}D.length=Y,(z||C||L.isAny(2064))&&(E&=L.flags),g|=L.deriveConditionalFlags(),L.unset(2064),L.freeScopedLocals(),this.currentFlow=s,f=t.block(k,D,F.None)}return s.popBreakLabel(),_>=0&&(s.flags|=E&-17),s.flags|=g&-2049,f}compileThrowStatement(e){var t=this.currentFlow;t.set(264);var i=new Array,n=e.value,s=null;if(n.kind==17){let a=n.args;a.length&&(s=a[0])}return i.push(this.makeAbort(s,e)),t.freeScopedLocals(),this.module.flatten(i)}compileTryStatement(e){return this.error(100,e.range,"Exceptions"),this.module.unreachable()}compileVariableStatement(e){var t=this.module,i=e.declarations,n=i.length,s=this.currentFlow,a=new Array,o=this.resolver;for(let l=0;l<n;++l){let p=i[l],c=p.name.text,_=null,f=0,E=p.type,g=p.initializer;if(E){if(_=o.resolveType(E,s.actualFunction,re(s.contextualTypeArguments)),!_)continue;if(this.checkTypeSupported(_,E),g){let S=this.pendingElements,v=s.addScopedDummyLocal(c,_,e);S.add(v),f=this.compileExpression(g,_,1),S.delete(v),s.freeScopedDummyLocal(c)}}else if(g){let S=this.pendingElements,v=s.addScopedDummyLocal(c,u.auto,e);if(S.add(v),f=this.compileExpression(g,u.auto),S.delete(v),s.freeScopedDummyLocal(c),this.currentType==u.void){this.error(2322,p.range,this.currentType.toString(),"<auto>");continue}_=this.currentType}else{this.error(1110,p.name.range.atEnd);continue}let b=p.is(8),x=!1;if(b)if(f){let S=t.runExpression(f,1);if(S){f=S;let v=null;switch(le(f)){case F.I32:{v=new Ue(c,-1,_,s.parentFunction),v.setConstantIntegerValue(i64_new(ie(f),0),_);break}case F.I64:{v=new Ue(c,-1,_,s.parentFunction),v.setConstantIntegerValue(i64_new(Be(f),$e(f)),_);break}case F.F32:{v=new Ue(c,-1,_,s.parentFunction),v.setConstantFloatValue(Ye(f),_);break}case F.F64:{v=new Ue(c,-1,_,s.parentFunction),v.setConstantFloatValue(He(f),_);break}}if(v){let L=s.scopedLocals;if(!L)s.scopedLocals=L=new Map;else if(L.has(c)){let O=assert(L.get(c));return this.errorRelated(2300,p.name.range,O.declaration.name.range,c),this.module.unreachable()}L.set(c,v),x=!0}}}else this.error(1155,p.range);if(!x){let S;if(p.isAny(24)||s.isInline){let v=s.getScopedLocal(c);v?(v.declaration.range.source.isNative?this.error(2300,p.name.range,c):this.errorRelated(2300,p.name.range,v.declaration.name.range,c),S=v):S=s.addScopedLocal(c,_),b&&s.setLocalFlag(S.index,1)}else{let v=s.lookupLocal(c);if(v){this.errorRelated(2300,p.name.range,v.declaration.name.range,c);continue}S=s.parentFunction.addLocal(_,c,p),b&&s.setLocalFlag(S.index,1)}f?a.push(this.makeLocalAssignment(S,f,_,!1)):S.type.isShortIntegerValue&&s.setLocalFlag(S.index,2)}}return this.currentType=u.void,a.length==0?0:t.flatten(a)}compileVoidStatement(e){return this.compileExpression(e.expression,u.void,10)}compileWhileStatement(e){return this.doCompileWhileStatement(e,null)}doCompileWhileStatement(e,t){var i=this.module,n=this.currentFlow,s=n.pushBreakLabel(),a=new Array,o=n.fork(!0);t&&o.unifyLocalFlags(t);var l=o.fork();this.currentFlow=o;var p="while-break|"+s;o.breakLabel=p;var c="while-continue|"+s;o.continueLabel=c;var _=o.fork();this.currentFlow=_;var f=this.makeIsTrueish(this.compileExpression(e.condition,u.bool),this.currentType,e.condition),E=this.evaluateCondition(f);if(E==2)return a.push(i.drop(f)),assert(!o.hasScopedLocals),n.popBreakLabel(),this.currentFlow=n,i.flatten(a);var g=o.getTempLocal(u.bool);a.push(i.local_set(g.index,f,!1)),_.freeScopedLocals(),o.inherit(_),this.currentFlow=o;var b=o.fork();b.inheritNonnullIfTrue(f),this.currentFlow=b;var x=new Array,S=e.statement;if(S.kind==30?this.compileStatements(S.statements,!1,x):x.push(this.compileStatement(S)),b.is(256))x.push(i.unreachable()),E==1?o.inherit(b):o.inheritBranch(b);else if(E==1&&!b.isAny(2064))x.push(i.br(c)),o.set(256);else{let L=b.is(16);if(L?x.push(i.unreachable()):x.push(i.br(c)),E==1?o.inherit(b):o.inheritBranch(b),!L&&Me.hasIncompatibleLocalStates(l,o))return o.freeTempLocal(g),n.popBreakLabel(),this.currentFlow=n,this.doCompileWhileStatement(e,o)}a.push(i.if(i.local_get(g.index,F.I32),i.flatten(x))),o.freeTempLocal(g),this.currentFlow=o,assert(!o.hasScopedLocals),n.inherit(o),n.popBreakLabel(),this.currentFlow=n;var v=i.block(p,[i.loop(c,i.flatten(a))]);return E==1&&n.is(256)&&(v=i.block(null,[v,i.unreachable()])),v}compileInlineConstant(e,t,i){assert(e.is(18874368));var n=e.type;switch(this.currentType=n,n.kind){case 10:return this.module.i32(e.constantValueKind==1?i64_ne(e.constantIntegerValue,i64_zero):0);case 0:case 1:{let s=n.computeSmallIntegerShift(u.i32);return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue)<<s>>s:0)}case 5:case 6:{let s=e.type.computeSmallIntegerMask(u.i32);return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue)&s:0)}case 2:case 7:return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue):0);case 4:case 9:if(!e.program.options.isWasm64)return this.module.i32(e.constantValueKind==1?i64_low(e.constantIntegerValue):0);case 3:case 8:return e.constantValueKind==1?this.module.i64(i64_low(e.constantIntegerValue),i64_high(e.constantIntegerValue)):this.module.i64(0);case 12:{if(!(e.hasDecorator(512)&&t==u.f32))return this.module.f64(e.constantFloatValue);this.currentType=u.f32}case 11:return this.module.f32(e.constantFloatValue);default:return assert(!1),this.module.unreachable()}}compileExpression(e,t,i=0){for(;e.kind==20;)e=e.expression;this.currentType=t,t==u.void&&(i|=8);var n;switch(e.kind){case 7:{n=this.compileAssertionExpression(e,t,i);break}case 8:{n=this.compileBinaryExpression(e,t,i);break}case 9:{n=this.compileCallExpression(e,t,i);break}case 11:{n=this.compileCommaExpression(e,t,i);break}case 12:{n=this.compileElementAccessExpression(e,t,i);break}case 14:{n=this.compileFunctionExpression(e,t,i);break}case 6:case 13:case 18:case 24:case 23:case 25:{n=this.compileIdentifierExpression(e,t,i);break}case 15:{n=this.compileInstanceOfExpression(e,t,i);break}case 16:{n=this.compileLiteralExpression(e,t,i);break}case 17:{n=this.compileNewExpression(e,t,i);break}case 21:{n=this.compilePropertyAccessExpression(e,t,i);break}case 22:{n=this.compileTernaryExpression(e,t,i);break}case 27:{n=this.compileUnaryPostfixExpression(e,t,i);break}case 28:{n=this.compileUnaryPrefixExpression(e,t,i);break}case 29:{let o=e;n=o.expr,this.currentType=o.type;break}case 10:{this.error(100,e.range,"Block-scoped class declarations or expressions"),n=this.module.unreachable();break}default:assert(!1),n=this.module.unreachable()}var s=this.currentType,a=(i&4)!=0;return s!=t.nonNullableType&&(i&2?(n=this.convertExpression(n,s,t,!0,e),this.currentType=s=t):i&1&&(n=this.convertExpression(n,s,t,!1,e),this.currentType=s=t)),a&&(n=this.ensureSmallIntegerWrap(n,s)),this.options.sourceMap&&this.addDebugLocation(n,e.range),n}convertExpression(e,t,i,n,s){var a=this.module;if(t.kind==20)return assert(i.kind!=20),this.error(2322,s.range,t.toString(),i.toString()),a.unreachable();if(i.kind==20)return a.drop(e);if(t.isReference||i.isReference)return this.currentFlow.isNonnull(e,t)?t=t.nonNullableType:n&&t.isNullableReference&&!i.isNullableReference&&(this.options.noAssert||(e=this.makeRuntimeNonNullCheck(e,t,s)),t=t.nonNullableType),t.isAssignableTo(i)?(assert(i.isExternalReference||t.kind==i.kind),this.currentType=i,e):n&&i.nonNullableType.isAssignableTo(t)?i.isExternalReference?(this.error(100,s.range,"ref.cast"),this.currentType=i,a.unreachable()):(assert(t.kind==i.kind),this.options.noAssert||(e=this.makeRuntimeUpcastCheck(e,t,i,s)),this.currentType=i,e):(this.error(2322,s.range,t.toString(),i.toString()),this.currentType=i,a.unreachable());if(assert(!t.isReference&&!i.isReference),t.isAssignableTo(i)||n||this.error(200,s.range,t.toString(),i.toString()),t.isFloatValue)if(i.isFloatValue)t.kind==11?i.kind==12&&(e=a.unary(43,e)):i.kind==11&&(e=a.unary(44,e));else if(i.isIntegerValue)if(t.kind==11)if(i.isBooleanValue)e=this.makeIsTrueish(e,u.f32,s);else if(i.isSignedIntegerValue){let o=this.options.hasFeature(4);i.isLongIntegerValue?e=a.unary(o?56:26,e):e=a.unary(o?52:25,e)}else{let o=this.options.hasFeature(4);i.isLongIntegerValue?e=a.unary(o?57:28,e):e=a.unary(o?53:27,e)}else if(i.isBooleanValue)e=this.makeIsTrueish(e,u.f64,s);else if(i.isSignedIntegerValue){let o=this.options.hasFeature(4);i.isLongIntegerValue?e=a.unary(o?58:30,e):e=a.unary(o?54:29,e)}else{let o=this.options.hasFeature(4);i.isLongIntegerValue?e=a.unary(o?59:32,e):e=a.unary(o?55:31,e)}else assert(i.flags==0,"void type expected"),e=a.drop(e);else t.isIntegerValue&&i.isFloatValue?i.kind==11?t.isLongIntegerValue?e=a.unary(t.isSignedIntegerValue?39:41,e):e=a.unary(t.isSignedIntegerValue?35:37,e):t.isLongIntegerValue?e=a.unary(t.isSignedIntegerValue?40:42,e):e=a.unary(t.isSignedIntegerValue?36:38,e):t==u.v128&&i.isBooleanValue?e=this.makeIsTrueish(e,u.v128,s):t.isLongIntegerValue?i.isBooleanValue?e=a.binary(41,e,a.i64(0)):i.isLongIntegerValue||(e=a.unary(24,e)):i.isLongIntegerValue?e=a.unary(t.isSignedIntegerValue?22:23,this.ensureSmallIntegerWrap(e,t)):t.isShortIntegerValue?t.size<i.size&&(e=this.ensureSmallIntegerWrap(e,t)):!n&&!this.options.isWasm64&&t.isVaryingIntegerValue&&!i.isVaryingIntegerValue&&this.warning(201,s.range,t.toString(),i.toString());return this.currentType=i,e}compileAssertionExpression(e,t,i){var n=i&-4;switch(e.assertionKind){case 0:case 1:{let s=this.currentFlow,a=this.resolver.resolveType(assert(e.toType),s.actualFunction,re(s.contextualTypeArguments));return a?this.compileExpression(e.expression,a,n|2):this.module.unreachable()}case 2:{assert(!e.toType);let s=this.compileExpression(e.expression,t.exceptVoid,n),a=this.currentType;return this.currentFlow.isNonnull(s,a)?this.info(210,e.expression.range):this.options.noAssert||(s=this.makeRuntimeNonNullCheck(s,a,e)),this.currentType=a.nonNullableType,s}case 3:return this.error(100,e.range,"Const assertion"),this.module.unreachable();default:assert(!1)}return this.module.unreachable()}compileBinaryExpression(e,t,i){var n=this.module,s=e.left,a=e.right,o,l,p,c,_,f,E=!1,g=e.operator;switch(g){case 71:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(21);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!0),!_||!_.isNumericValue)return this.error(2365,e.range,"<",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_,f=this.makeLt(o,p,_),this.currentType=u.bool;break}case 72:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(19);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!0),!_||!_.isNumericValue)return this.error(2365,e.range,">",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_,f=this.makeGt(o,p,_),this.currentType=u.bool;break}case 73:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(22);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!0),!_||!_.isNumericValue)return this.error(2365,e.range,"<=",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_,f=this.makeLe(o,p,_),this.currentType=u.bool;break}case 74:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(20);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!0),!_||!_.isNumericValue)return this.error(2365,e.range,">=",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_,f=this.makeGe(o,p,_),this.currentType=u.bool;break}case 77:case 75:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(17);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_)return this.error(2365,e.range,ye(e.operator),l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_,f=this.makeEq(o,p,_,e),this.currentType=u.bool;break}case 78:case 76:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClass();if(v){let L=v.lookupOverload(18);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_)return this.error(2365,e.range,ye(e.operator),l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_,f=this.makeNe(o,p,_,e),this.currentType=u.bool;break}case 100:return this.compileAssignment(s,a,t);case 101:E=!0;case 80:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(5);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isNumericValue)return this.error(2469,e.range,"+",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isNumericValue)return this.error(2365,e.range,"+",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeAdd(o,p,_);break}case 102:E=!0;case 81:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(6);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isNumericValue)return this.error(2469,e.range,"-",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!l.isNumericValue)return this.error(2365,e.range,"-",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeSub(o,p,_);break}case 103:E=!0;case 83:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(7);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isNumericValue)return this.error(2469,e.range,"*",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isNumericValue)return this.error(2365,e.range,"*",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeMul(o,p,_);break}case 104:E=!0;case 82:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(10);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isNumericValue)return this.error(2469,e.range,"**",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isNumericValue)return this.error(2365,e.range,"**",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makePow(o,p,_,e);break}case 105:E=!0;case 84:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(8);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isNumericValue)return this.error(2469,e.range,"/",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isNumericValue)return this.error(2365,e.range,"/",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeDiv(o,p,_);break}case 106:E=!0;case 85:{o=this.compileExpression(s,t),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(9);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isNumericValue)return this.error(2469,e.range,"%",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isNumericValue)return this.error(2365,e.range,"%",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeRem(o,p,_,e);break}case 107:E=!0;case 88:{o=this.compileExpression(s,t.intType),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(14);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(!l.isIntegerValue)return this.error(2469,e.range,"<<",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=this.currentType,f=this.makeShl(o,p,c);break}case 108:E=!0;case 89:{o=this.compileExpression(s,t.intType),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(15);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(!l.isIntegerValue)return this.error(2469,e.range,">>",l.toString()),this.module.unreachable();p=this.compileExpression(a,l,1),c=this.currentType,f=this.makeShr(o,p,c);break}case 109:E=!0;case 90:{o=this.compileExpression(s,t.intType),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(16);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(!l.isIntegerValue)return this.error(2469,e.range,">>>",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=this.currentType,f=this.makeShru(o,p,c);break}case 110:E=!0;case 91:{o=this.compileExpression(s,t.intType),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(11);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isIntegerValue)return this.error(2469,e.range,"&",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isIntegerValue)return this.error(2365,e.range,"&",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeAnd(o,p,_);break}case 111:E=!0;case 92:{o=this.compileExpression(s,t.intType),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(12);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isIntegerValue)return this.error(2469,e.range,"|",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isIntegerValue)return this.error(2365,e.range,"|",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeOr(o,p,_);break}case 112:E=!0;case 93:{o=this.compileExpression(s,t.intType),l=this.currentType;let v=l.getClassOrWrapper(this.program);if(v){let L=v.lookupOverload(13);if(L){f=this.compileBinaryOverload(L,s,o,l,a,e);break}}if(E){if(!l.isIntegerValue)return this.error(2469,e.range,"^",l.toString()),n.unreachable();p=this.compileExpression(a,l,1),c=_=this.currentType}else{if(p=this.compileExpression(a,l),c=this.currentType,_=u.commonDenominator(l,c,!1),!_||!_.isIntegerValue)return this.error(2365,e.range,"^",l.toString(),c.toString()),this.currentType=t,n.unreachable();o=this.convertExpression(o,l,_,!1,s),l=_,p=this.convertExpression(p,c,_,!1,a),c=_}f=this.makeXor(o,p,_);break}case 96:{let v=this.currentFlow,L=i&4;o=this.compileExpression(s,t.exceptVoid,L),l=this.currentType;let O=v.fork();if(this.currentFlow=O,O.inheritNonnullIfTrue(o),t==u.bool||t==u.void){o=this.makeIsTrueish(o,l,s);let C=this.evaluateCondition(o);C==2?f=o:(p=this.compileExpression(a,l,L),c=this.currentType,O.freeScopedLocals(),p=this.makeIsTrueish(p,c,a),C==1?f=p:f=n.if(o,p,n.i32(0))),this.currentFlow=v,this.currentType=u.bool}else{if(p=this.compileExpression(a,l,L|1),c=this.currentType,O.freeScopedLocals(),this.currentFlow=v,f=n.tryCopyTrivialExpression(o))f=n.if(this.makeIsTrueish(o,this.currentType,s),p,f);else{let C=v.getTempLocal(l);v.canOverflow(o,l)||v.setLocalFlag(C.index,2),v.isNonnull(o,l)&&v.setLocalFlag(C.index,4),f=n.if(this.makeIsTrueish(n.local_tee(C.index,o,l.isManaged),l,s),p,n.local_get(C.index,l.toRef())),v.freeTempLocal(C)}this.currentType=l}break}case 97:{let v=this.currentFlow,L=i&4;o=this.compileExpression(s,t.exceptVoid,L),l=this.currentType;let O=v.fork();if(this.currentFlow=O,O.inheritNonnullIfFalse(o),t==u.bool||t==u.void){o=this.makeIsTrueish(o,l,s);let C=this.evaluateCondition(o);C==1?f=o:(p=this.compileExpression(a,l,L),c=this.currentType,O.freeScopedLocals(),p=this.makeIsTrueish(p,c,a),C==2?f=p:f=n.if(o,n.i32(1),p)),this.currentFlow=v,this.currentType=u.bool}else{if(p=this.compileExpression(a,l,L|1),c=this.currentType,O.freeScopedLocals(),this.currentFlow=v,f=n.tryCopyTrivialExpression(o))f=n.if(this.makeIsTrueish(o,l,s),f,p);else{let C=v.getTempLocal(l);v.canOverflow(o,l)||v.setLocalFlag(C.index,2),v.isNonnull(o,l)&&v.setLocalFlag(C.index,4),f=n.if(this.makeIsTrueish(n.local_tee(C.index,o,l.isManaged),l,s),n.local_get(C.index,l.toRef()),p),v.freeTempLocal(C)}this.currentType=l}break}default:assert(!1),f=this.module.unreachable()}if(!E)return f;var b=this.resolver,x=b.lookupExpression(s,this.currentFlow);if(!x)return n.unreachable();var S=b.getTypeOfElement(x);return S||(S=u.void),this.currentType.isStrictlyAssignableTo(S)?this.makeAssignment(x,f,this.currentType,a,b.currentThisExpression,b.currentElementExpression,t!=u.void):(this.error(2322,e.range,this.currentType.toString(),S.toString()),n.unreachable())}makeLt(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:return n.binary(17,e,t);case 3:return n.binary(42,e,t);case 4:return n.binary(this.options.isWasm64?42:17,e,t);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 7:return n.binary(18,e,t);case 9:return n.binary(this.options.isWasm64?43:18,e,t);case 8:return n.binary(43,e,t);case 11:return n.binary(59,e,t);case 12:return n.binary(72,e,t)}return assert(!1),n.unreachable()}makeGt(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:return n.binary(21,e,t);case 4:return n.binary(this.options.isWasm64?46:21,e,t);case 3:return n.binary(46,e,t);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 7:return n.binary(22,e,t);case 9:return n.binary(this.options.isWasm64?47:22,e,t);case 8:return n.binary(47,e,t);case 11:return n.binary(61,e,t);case 12:return n.binary(74,e,t)}return assert(!1),n.unreachable()}makeLe(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:return n.binary(19,e,t);case 4:return n.binary(this.options.isWasm64?44:19,e,t);case 3:return n.binary(44,e,t);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 7:return n.binary(20,e,t);case 9:return n.binary(this.options.isWasm64?45:20,e,t);case 8:return n.binary(45,e,t);case 11:return n.binary(60,e,t);case 12:return n.binary(73,e,t)}return assert(!1),n.unreachable()}makeGe(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:return n.binary(23,e,t);case 4:return n.binary(this.options.isWasm64?48:23,e,t);case 3:return n.binary(48,e,t);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 7:return n.binary(24,e,t);case 9:return n.binary(this.options.isWasm64?49:24,e,t);case 8:return n.binary(49,e,t);case 11:return n.binary(62,e,t);case 12:return n.binary(75,e,t)}return assert(!1),n.unreachable()}makeEq(e,t,i,n){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:case 7:return s.binary(15,e,t);case 4:case 9:return s.binary(this.options.isWasm64?40:15,e,t);case 3:case 8:return s.binary(40,e,t);case 11:return s.binary(57,e,t);case 12:return s.binary(70,e,t);case 13:return s.unary(70,s.binary(76,e,t));case 17:case 18:case 19:return s.ref_eq(e,t);case 14:case 15:case 16:return this.error(203,n.range,"ref.eq",i.toString()),s.unreachable()}return assert(!1),s.unreachable()}makeNe(e,t,i,n){var s=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:case 7:return s.binary(16,e,t);case 9:case 4:return s.binary(this.options.isWasm64?41:16,e,t);case 3:case 8:return s.binary(41,e,t);case 11:return s.binary(58,e,t);case 12:return s.binary(71,e,t);case 13:return s.unary(67,s.binary(77,e,t));case 17:case 18:case 19:return s.unary(20,s.ref_eq(e,t));case 14:case 15:case 16:return this.error(203,n.range,"ref.eq",i.toString()),s.unreachable()}return assert(!1),s.unreachable()}makeAdd(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:case 2:case 7:return n.binary(0,e,t);case 9:case 4:return n.binary(this.options.isWasm64?25:0,e,t);case 3:case 8:return n.binary(25,e,t);case 11:return n.binary(50,e,t);case 12:return n.binary(63,e,t)}return assert(!1),n.unreachable()}makeSub(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:case 2:case 7:return n.binary(1,e,t);case 9:case 4:return n.binary(this.options.isWasm64?26:1,e,t);case 3:case 8:return n.binary(26,e,t);case 11:return n.binary(51,e,t);case 12:return n.binary(64,e,t)}return assert(!1),n.unreachable()}makeMul(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:case 2:case 7:return n.binary(2,e,t);case 9:case 4:return n.binary(this.options.isWasm64?27:2,e,t);case 3:case 8:return n.binary(27,e,t);case 11:return n.binary(52,e,t);case 12:return n.binary(65,e,t)}return assert(!1),n.unreachable()}makePow(e,t,i,n){let s=this.module;switch(i.kind){case 10:return s.select(s.i32(1),s.binary(15,t,s.i32(0)),e,F.I32);case 0:case 5:case 1:case 6:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:case 7:{let a=this.i32PowInstance;if(!a){let l=this.program.lookup(w.ipow32);if(!l)return this.error(2304,n.range,"ipow32"),s.unreachable();assert(l.kind==4),this.i32PowInstance=a=this.resolver.resolveFunction(l,null)}if(!a||!this.compileFunction(a))return s.unreachable();let o=this.makeCallDirect(a,[e,t],n);return i.size<32&&(o=this.ensureSmallIntegerWrap(o,i)),o}case 3:case 8:{let a=this.i64PowInstance;if(!a){let o=this.program.lookup(w.ipow64);if(!o)return this.error(2304,n.range,"ipow64"),s.unreachable();assert(o.kind==4),this.i64PowInstance=a=this.resolver.resolveFunction(o,null)}return!a||!this.compileFunction(a)?s.unreachable():this.makeCallDirect(a,[e,t],n)}case 4:case 9:{let a=this.options.isWasm64,o=a?this.i64PowInstance:this.i32PowInstance;if(!o){let l=this.program.lookup(a?w.ipow64:w.ipow32);if(!l)return this.error(2304,n.range,a?"ipow64":"ipow32"),s.unreachable();assert(l.kind==4),o=this.resolver.resolveFunction(l,null),a?this.i64PowInstance=o:this.i32PowInstance=o}return!o||!this.compileFunction(o)?s.unreachable():this.makeCallDirect(o,[e,t],n)}case 11:{let a=this.f32PowInstance;if(!a){let o=this.program.lookup(w.Mathf);if(!o)return this.error(2304,n.range,"Mathf"),s.unreachable();let l=o.members;if(!l||!l.has(w.pow))return this.error(2304,n.range,"Mathf.pow"),s.unreachable();let p=assert(l.get(w.pow));assert(p.kind==4),this.f32PowInstance=a=this.resolver.resolveFunction(p,null)}return!a||!this.compileFunction(a)?s.unreachable():this.makeCallDirect(a,[e,t],n)}case 12:{let a=this.f64PowInstance;if(!a){let o=this.program.lookup(w.Math);if(!o)return this.error(2304,n.range,"Math"),s.unreachable();let l=o.members;if(!l||!l.has(w.pow))return this.error(2304,n.range,"Math.pow"),s.unreachable();let p=assert(l.get(w.pow));assert(p.kind==4),this.f64PowInstance=a=this.resolver.resolveFunction(p,null)}return!a||!this.compileFunction(a)?s.unreachable():this.makeCallDirect(a,[e,t],n)}}return assert(!1),s.unreachable()}makeDiv(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:return n.binary(3,e,t);case 4:return n.binary(this.options.isWasm64?28:3,e,t);case 3:return n.binary(28,e,t);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 7:return n.binary(4,e,t);case 9:return n.binary(this.options.isWasm64?29:4,e,t);case 8:return n.binary(29,e,t);case 11:return n.binary(53,e,t);case 12:return n.binary(66,e,t)}return assert(!1),n.unreachable()}makeRem(e,t,i,n){var s=this.module;switch(i.kind){case 0:case 1:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 2:return s.binary(5,e,t);case 4:return s.binary(this.options.isWasm64?30:5,e,t);case 3:return s.binary(30,e,t);case 5:case 6:case 10:e=this.ensureSmallIntegerWrap(e,i),t=this.ensureSmallIntegerWrap(t,i);case 7:return s.binary(6,e,t);case 9:return s.binary(this.options.isWasm64?31:6,e,t);case 8:return s.binary(31,e,t);case 11:{let a=this.f32ModInstance;if(!a){let o=this.program.lookup(w.Mathf);if(!o)return this.error(2304,n.range,"Mathf"),s.unreachable();let l=o.members;if(!l||!l.has(w.mod))return this.error(2304,n.range,"Mathf.mod"),s.unreachable();let p=assert(l.get(w.mod));assert(p.kind==4),this.f32ModInstance=a=this.resolver.resolveFunction(p,null)}return!a||!this.compileFunction(a)?s.unreachable():this.makeCallDirect(a,[e,t],n)}case 12:{let a=this.f64ModInstance;if(!a){let o=this.program.lookup(w.Math);if(!o)return this.error(2304,n.range,"Math"),s.unreachable();let l=o.members;if(!l||!l.has(w.mod))return this.error(2304,n.range,"Math.mod"),s.unreachable();let p=assert(l.get(w.mod));assert(p.kind==4),this.f64ModInstance=a=this.resolver.resolveFunction(p,null)}return!a||!this.compileFunction(a)?s.unreachable():this.makeCallDirect(a,[e,t],n)}}return assert(!1),s.unreachable()}makeShl(e,t,i){var n=this.module;switch(i.kind){case 10:return e;case 0:case 1:case 5:case 6:return n.binary(10,e,n.binary(7,t,n.i32(i.size-1)));case 2:case 7:return n.binary(10,e,t);case 3:case 8:return n.binary(35,e,t);case 9:case 4:return n.binary(this.options.isWasm64?35:10,e,t)}return assert(!1),n.unreachable()}makeShr(e,t,i){var n=this.module;switch(i.kind){case 10:return e;case 0:case 1:return n.binary(11,this.ensureSmallIntegerWrap(e,i),n.binary(7,t,n.i32(i.size-1)));case 5:case 6:return n.binary(12,this.ensureSmallIntegerWrap(e,i),n.binary(7,t,n.i32(i.size-1)));case 2:return n.binary(11,e,t);case 3:return n.binary(36,e,t);case 4:return n.binary(this.options.isWasm64?36:11,e,t);case 7:return n.binary(12,e,t);case 8:return n.binary(37,e,t);case 9:return n.binary(this.options.isWasm64?37:12,e,t)}return assert(!1),n.unreachable()}makeShru(e,t,i){var n=this.module;switch(i.kind){case 10:return e;case 0:case 1:case 5:case 6:return n.binary(12,this.ensureSmallIntegerWrap(e,i),n.binary(7,t,n.i32(i.size-1)));case 2:case 7:return n.binary(12,e,t);case 3:case 8:return n.binary(37,e,t);case 9:case 4:return n.binary(this.options.isWasm64?37:12,e,t)}return assert(!1),n.unreachable()}makeAnd(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:case 2:case 5:case 6:case 10:case 7:return n.binary(7,e,t);case 3:case 8:return n.binary(32,e,t);case 9:case 4:return n.binary(this.options.isWasm64?32:7,e,t)}return assert(!1),n.unreachable()}makeOr(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:return n.binary(8,e,t);case 2:case 7:return n.binary(8,e,t);case 3:case 8:return n.binary(33,e,t);case 9:case 4:return n.binary(this.options.isWasm64?33:8,e,t)}return assert(!1),n.unreachable()}makeXor(e,t,i){var n=this.module;switch(i.kind){case 0:case 1:case 5:case 6:case 10:return n.binary(9,e,t);case 2:case 7:return n.binary(9,e,t);case 3:case 8:return n.binary(34,e,t);case 4:case 9:return n.binary(this.options.isWasm64?34:9,e,t)}return assert(!1),n.unreachable()}compileUnaryOverload(e,t,i,n){return this.makeCallDirect(e,[i],n,!1)}compileBinaryOverload(e,t,i,n,s,a){var o;if(e.is(131072)){assert(n.isStrictlyAssignableTo(e.signature.parameterTypes[0]));let p=assert(e.parent);assert(p.kind==7),o=e.signature.parameterTypes[0]}else o=e.signature.parameterTypes[1];i=this.convertExpression(i,n,e.signature.parameterTypes[0],!1,t);var l=this.compileExpression(s,o,1);return this.makeCallDirect(e,[i,l],a)}compileAssignment(e,t,i){var n=this.program,s=n.resolver,a=this.currentFlow,o=s.lookupExpression(e,a);if(!o)return this.module.unreachable();var l=s.currentThisExpression,p=s.currentElementExpression,c;switch(o.kind){case 0:if(!this.compileGlobal(o))return this.module.unreachable();case 1:case 11:{if(this.pendingElements.has(o))return this.error(2448,e.range,o.internalName),this.module.unreachable();c=o.type,o.hasDecorator(2048)&&this.checkUnsafe(e);break}case 12:{let E=o,g=s.resolveProperty(E);if(!g)return this.module.unreachable();o=g}case 13:{let E=o,g=E.setterInstance;if(!g)return this.error(2540,e.range,E.internalName),this.module.unreachable();assert(g.signature.parameterTypes.length==1),c=g.signature.parameterTypes[0],g.hasDecorator(2048)&&this.checkUnsafe(e);break}case 17:{let E=o.parent;assert(E.kind==7);let g=E,b=a.is(32768),x=g.lookupOverload(2,b);if(!x)return g.lookupOverload(1,b)?this.error(2542,e.range,g.internalName):this.error(2329,e.range,g.internalName),this.module.unreachable();assert(x.signature.parameterTypes.length==2),c=x.signature.parameterTypes[1],x.hasDecorator(2048)&&this.checkUnsafe(e),!b&&this.options.pedantic&&this.pedantic(904,e.range);break}default:return this.error(2540,e.range,o.internalName),this.module.unreachable()}assert(c!=u.void);var _=this.compileExpression(t,c),f=this.currentType;return this.makeAssignment(o,this.convertExpression(_,f,c,!1,t),f,t,l,p,i!=u.void)}makeAssignment(e,t,i,n,s,a,o){var l=this.module,p=this.currentFlow;switch(e.kind){case 1:{let c=e;return p.isLocalFlag(c.index,1,!0)?(this.error(2540,n.range,e.internalName),this.currentType=o?c.type:u.void,l.unreachable()):this.makeLocalAssignment(c,t,i,o)}case 0:{let c=e;return this.compileGlobal(c)?e.isAny(72)?(this.error(2540,n.range,e.internalName),this.currentType=o?c.type:u.void,l.unreachable()):this.makeGlobalAssignment(c,t,i,o):l.unreachable()}case 11:{let c=e,_=c.initializerNode,f=p.actualFunction.is(262144);if(c.is(64)&&(!f||_))return this.error(2540,n.range,c.internalName),l.unreachable();s=assert(s),f&&s.kind==24&&p.setThisFieldFlag(c,1);let E=c.parent;return assert(E.kind==7),this.makeFieldAssignment(c,t,i,this.compileExpression(s,E.type,33),o)}case 13:{let c=e,_=c.setterInstance;if(!_)return this.error(2540,n.range,e.internalName),l.unreachable();if(assert(_.signature.parameterTypes.length==1),c.is(131072)){let f=assert(_.signature.thisType),E=this.compileExpression(assert(s),f,33);if(!o)return this.makeCallDirect(_,[E,t],n);let g=assert(e.getterInstance);assert(g.signature.thisType==f);let b=g.signature.returnType,x=b.toRef(),S=p.getTempLocal(b),v=l.block(null,[this.makeCallDirect(_,[l.local_tee(S.index,E,b.isManaged),t],n),this.makeCallDirect(g,[l.local_get(S.index,x)],n)],x);return p.freeTempLocal(S),v}else{if(!o)return this.makeCallDirect(_,[t],n);let f=assert(e.getterInstance);return l.block(null,[this.makeCallDirect(_,[t],n),this.makeCallDirect(f,null,n)],f.signature.returnType.toRef())}}case 17:{let _=e.parent;assert(_.kind==7);let f=_;assert(f.kind==7);let E=p.is(32768),g=f.lookupOverload(1,E);if(!g)return this.error(2329,n.range,f.internalName),l.unreachable();let b=f.lookupOverload(2,E);if(!b)return this.error(2542,n.range,f.internalName),this.currentType=o?g.signature.returnType:u.void,l.unreachable();assert(b.signature.parameterTypes.length==2);let x=f.type,S=this.compileExpression(assert(s),x,33),v=this.compileExpression(assert(a),u.i32,1),L=this.currentType;if(o){let O=p.getTempLocal(x),C=p.getTempLocal(L),k=g.signature.returnType,D=l.block(null,[this.makeCallDirect(b,[l.local_tee(O.index,S,x.isManaged),l.local_tee(C.index,v,L.isManaged),t],n),this.makeCallDirect(g,[l.local_get(O.index,O.type.toRef()),l.local_get(C.index,C.type.toRef())],n)],k.toRef());return p.freeTempLocal(C),p.freeTempLocal(O),D}else return this.makeCallDirect(b,[S,v,t],n)}}return assert(!1),l.unreachable()}makeLocalAssignment(e,t,i,n){var s=this.module,a=this.currentFlow,o=e.type;assert(o!=u.void);var l=e.index;return o.isNullableReference&&(!i.isNullableReference||a.isNonnull(t,o)?a.setLocalFlag(l,4):a.unsetLocalFlag(l,4)),a.setLocalFlag(l,8),o.isShortIntegerValue&&(a.canOverflow(t,o)?a.unsetLocalFlag(l,2):a.setLocalFlag(l,2)),n?(this.currentType=o,s.local_tee(l,t,o.isManaged)):(this.currentType=u.void,s.local_set(l,t,o.isManaged))}makeGlobalAssignment(e,t,i,n){var s=this.module,a=e.type;assert(a!=u.void);var o=a.toRef();return t=this.ensureSmallIntegerWrap(t,a),n?(this.currentType=a,s.block(null,[s.global_set(e.internalName,t),s.global_get(e.internalName,o)],o)):(this.currentType=u.void,s.global_set(e.internalName,t))}makeFieldAssignment(e,t,i,n,s){var a=this.module,o=this.currentFlow,l=e.type,p=l.toRef();assert(e.parent.kind==7);var c=e.parent.type;if(!e.is(4194304)){e.set(4194304);let _=e.typeNode;_&&this.checkTypeSupported(e.type,_)}if(s){this.compileField(e);let _=o.getTempLocal(c),f=a.block(null,[a.call(e.internalSetterName,[a.local_tee(_.index,n,c.isManaged),t],F.None),a.call(e.internalGetterName,[a.local_get(_.index,c.toRef())],p)],p);return o.freeTempLocal(_),this.currentType=l,f}else{this.compileFieldSetter(e);let _=a.call(e.internalSetterName,[n,t],F.None);return this.currentType=u.void,_}}compileCallExpression(e,t,i){var n=this.module,s=this.currentFlow;if(e.expression.kind==23){let c=this.currentFlow,_=c.actualFunction;if(!_.is(262144))return this.error(2337,e.range),n.unreachable();let f=assert(_.parent);assert(f.kind==7);let E=f,g=E.base;if(!g)return this.error(2335,e.expression.range),n.unreachable();let b=assert(c.lookupLocal(w.this_)),x=this.options.sizeTypeRef,S=this.ensureConstructor(g,e);this.checkFieldInitialization(g,e);let v=this.compileCallDirect(S,e.args,e,n.local_get(b.index,x));return c.isAny(8256)?(this.error(17009,e.range),n.unreachable()):(c.set(192),this.currentType=u.void,n.local_set(b.index,v,E.type.isManaged))}var a=this.resolver.lookupExpression(e.expression,s);if(!a)return n.unreachable();var o=this.resolver.currentThisExpression,l,p;switch(a.kind){case 4:{let c=a;if(c.hasDecorator(512))return this.compileCallExpressionBuiltin(c,e,t);let _=this.resolver.maybeInferCall(e,c,s);if(!_)return this.module.unreachable();a=_}case 5:{let c=a,_=0;return c.is(131072)&&(_=this.compileExpression(assert(o),assert(c.signature.thisType),33)),this.compileCallDirect(c,e.args,e,_,i)}case 1:{let c=a;if(l=c.type.signatureReference,l){if(c.is(16777216)){let _=c.constantIntegerValue;this.options.isWasm64?p=n.i64(i64_low(_),i64_high(_)):(assert(!i64_high(_)),p=n.i32(i64_low(_)))}else p=n.local_get(c.index,this.options.sizeTypeRef);break}return this.error(2349,e.range,c.type.toString()),n.unreachable()}case 0:{let c=a;if(l=c.type.signatureReference,l){p=n.global_get(c.internalName,c.type.toRef());break}return this.error(2349,e.range,c.type.toString()),n.unreachable()}case 11:{let c=a,_=c.type;if(l=_.signatureReference,l){let f=c.parent;assert(f.kind==7);let E=this.options.usizeType;p=n.load(E.byteSize,!1,this.compileExpression(assert(o),f.type,33),E.toRef(),c.memoryOffset);break}return this.error(2349,e.range,_.toString()),n.unreachable()}case 12:{let c=this.resolver.resolveProperty(a);if(!c)return n.unreachable();a=c}case 13:{let c=a,_=c.getterInstance,f=assert(this.resolver.getTypeOfElement(a));if(!_)return this.error(2349,e.range,f.toString()),n.unreachable();let E=0;if(c.is(131072)&&(E=this.compileExpression(assert(o),assert(_.signature.thisType),33)),p=this.compileCallDirect(_,[],e.expression,E),l=this.currentType.signatureReference,!l)return this.error(2349,e.range,this.currentType.toString()),n.unreachable();break}case 7:{let _=a.getTypeArgumentsTo(this.program.functionPrototype);if(_&&_.length>0){let f=_[0];l=f.getSignature(),p=this.compileExpression(e.expression,f,1);break}}default:{let c=this.resolver.getTypeOfElement(a);return c?this.error(2757,e.range,c.toString()):this.error(225,e.range),n.unreachable()}}return this.compileCallIndirect(assert(l),p,e.args,e,0,t==u.void)}compileCallExpressionLike(e,t,i,n,s,a=0){var o=this._reusableCallExpression;return o?(o.expression=e,o.typeArguments=t,o.args=i,o.range=n):this._reusableCallExpression=o=P.createCallExpression(e,t,i,n),this.compileCallExpression(o,s,a)}compileCallExpressionBuiltin(e,t,i){e.hasDecorator(2048)&&this.checkUnsafe(t);var n=null,s=e.typeParameterNodes,a=t.typeArguments;t.typeArguments&&(e.is(32768)||this.error(2315,t.range,e.internalName),n=this.resolver.resolveTypeArguments(assert(s),a,this.currentFlow.actualFunction.parent,re(this.currentFlow.contextualTypeArguments),t));var o=t.expression,l=new Xl(this,e,n,t.args,o.kind==21?o.expression:null,i,t,!1),p=e.internalName;if(d.has(p))return assert(d.get(p))(l);var c=e.parent;if(c.kind==7&&c.prototype==this.program.functionPrototype){let f=e.name;if(ks.has(f))return assert(ks.get(f))(l)}return assert(!1),this.module.unreachable()}checkCallSignature(e,t,i,n){var s=e.thisType;if(i!=(s!=null))return this.error(2685,n.range),!1;var a=e.hasRest;if(a)return this.error(100,n.range,"Rest parameters"),!1;var o=e.requiredParameters,l=e.parameterTypes.length;return t<o?(this.error(o<l?2555:2554,n.range,o.toString(),t.toString()),!1):t>l&&!a?(this.error(2554,n.range,l.toString(),t.toString()),!1):!0}checkUnsafe(e,t=null){this.options.noUnsafe&&!e.range.source.isLibrary&&(t?this.errorRelated(101,e.range,t.range):this.error(101,e.range))}compileCallDirect(e,t,i,n=0,s=0){var a=t.length,o=e.signature;if(!this.checkCallSignature(o,a,n!=0,i))return this.currentType=o.returnType,this.module.unreachable();e.hasDecorator(2048)&&this.checkUnsafe(i);let l=this.currentFlow.actualFunction;if(l.is(262144)&&i.isAccessOnThis){let E=l.parent;assert(E.kind==7),this.checkFieldInitialization(E,i)}if(e.hasDecorator(64)&&(!e.is(134217728)||i.isAccessOnSuper)){assert(!e.is(67108864));let E=this.inlineStack;if(E.includes(e))this.warning(217,i.range,e.internalName);else{E.push(e);let g=o.parameterTypes;assert(a<=g.length);let b=new Array(a);for(let S=0;S<a;++S)b[S]=this.compileExpression(t[S],g[S],1);let x=this.makeCallInline(e,b,n,(s&8)!=0);return E.pop(),x}}var p=n?a+1:a,c=new Array(p),_=0;n&&(c[0]=n,_=1);var f=o.parameterTypes;for(let E=0;E<a;++E,++_){let g=f[E],b=this.compileExpression(t[E],g,1);c[_]=b}return assert(_==p),this.makeCallDirect(e,c,i,(s&8)!=0)}makeCallInline(e,t,i=0,n=!1){var s=this.module,a=t?t.length:0,o=e.signature,l=o.parameterTypes,p=l.length,c=this.currentFlow,_=Me.createInline(c.parentFunction,e),f=[],E=new Set;for(let x=a-1;x>=0;--x){let S=t[x],v=l[x],L=_.addScopedLocal(e.getParameterName(x),v,E);st(S,E),c.canOverflow(S,v)||_.setLocalFlag(L.index,2),_.isNonnull(S,v)&&_.setLocalFlag(L.index,4),f.unshift(s.local_set(L.index,S,v.isManaged))}if(i){let x=assert(e.parent);assert(x.kind==7);let S=x,v=assert(e.signature.thisType),L=_.addScopedLocal(w.this_,v,E);f.unshift(s.local_set(L.index,i,v.isManaged));let O=S.base;O&&_.addScopedAlias(w.super_,O.type,L.index)}else assert(!e.signature.thisType);this.currentFlow=_;var g=e.is(262144);g&&_.set(65536);for(let x=a;x<p;++x){let S=l[x],v=this.compileExpression(assert(e.prototype.functionTypeNode.parameters[x].initializer),S,1),L=_.addScopedLocal(e.getParameterName(x),S);f.push(this.makeLocalAssignment(L,v,S,!1))}if(_.unset(65536),this.compileFunctionBody(e,f),g){let x=e.parent;assert(x.kind==7),this.checkFieldInitializationInFlow(x,_)}_.freeScopedLocals();var b=_.returnType;return this.currentFlow=c,this.currentType=b,s.block(_.inlineReturnLabel,f,b.toRef())}ensureArgumentsLength(){var e=h.argumentsLength;if(!this.builtinArgumentsLength){let t=this.module;this.builtinArgumentsLength=t.addGlobal(e,F.I32,!0,t.i32(0))}return e}ensureVarargsStub(e){var t=e.varargsStub;if(t)return t;var i=e.signature,n=i.parameterTypes,s=e.prototype.functionTypeNode.parameters,a=i.returnType,o=e.is(131072),l=i.requiredParameters,p=l,c=n.length,_=c;o&&(++p,++_);var f=assert(_-p),E=new Array(p),g=0,b=new Array,x=this.module,S=i.thisType;S&&(E[0]=x.local_get(0,S.toRef()),g=1);for(let K=0;K<l;++K,++g){let Z=n[K];E[g]=x.local_get(g,Z.toRef())}assert(g==p),t=e.newStub("varargs"),t.signature.requiredParameters=c,e.varargsStub=t;var v=this.currentFlow,L=t.flow;e.is(262144)&&L.set(65536),this.currentFlow=L;var O=f+1,C=new Array(O),k="of"+f.toString();for(let K=0;K<O;++K){let Z=K.toString()+k;C[K]=Z}var D=this.ensureArgumentsLength(),Y=x.block(C[0],[x.block("outOfRange",[x.switch(C,"outOfRange",l?x.binary(1,x.global_get(D,F.I32),x.i32(l)):x.global_get(D,F.I32))]),x.unreachable()]);for(let K=0;K<f;++K,++g){let Z=n[l+K],ue=s[l+K],te=ue.initializer,j;te?(j=this.compileExpression(te,Z,1),j=x.local_set(g,j,Z.isManaged)):(this.error(215,ue.range),j=x.unreachable()),Y=x.block(C[K+1],[Y,j]),E[g]=x.local_get(g,Z.toRef())}assert(g==_),b.push(Y),b.push(this.makeCallDirect(e,E,e.declaration.name)),L.freeScopedLocals(),this.currentFlow=v;var z=x.addFunction(t.internalName,t.signature.paramRefs,t.signature.resultRefs,Ur(t.additionalLocals),x.flatten(b,a.toRef()));return t.set(4194304),t.finalize(x,z),t}ensureVirtualStub(e){var t=e.virtualStub;if(t)return t;t=e.newStub("virtual"),e.virtualStub=t;var i=this.module;return t.ref=i.addFunction(t.internalName,t.signature.paramRefs,t.signature.resultRefs,null,i.unreachable()),this.virtualStubs.add(e),t}finalizeVirtualStub(e){var t=this.ensureVirtualStub(e);if(!t.is(4194304)){assert(e.parent.kind==7||e.parent.kind==9);var i=this.module,n=this.options.usizeType,s=n.toRef(),a=e.signature.parameterTypes,o=e.signature.returnType,l=a.length,p=1+a.length,c=new Ms(this.module,i.load(4,!1,i.binary(s==F.I64?26:1,i.local_get(0,s),s==F.I64?i.i64(8):i.i32(8)),F.I32)),_=this.resolver.resolveOverloads(e);if(_)for(let g=0,b=_.length;g<b;++g){let x=_[g];if(!x.is(4194304))continue;let S=x.type,v=e.type;if(!S.isAssignableTo(v)){this.error(2322,x.identifierNode.range,S.toString(),v.toString());continue}let L=x.signature,O=L.parameterTypes,C=O.length,k=new Array(1+C);k[0]=i.local_get(0,s);for(let te=1;te<=l;++te)k[te]=i.local_get(te,a[te-1].toRef());let D=!1;for(let te=l;te<C;++te)k[1+te]=this.makeZero(O[te],x.declaration),D=!0;let Y=D?this.ensureVarargsStub(x).internalName:x.internalName,z=L.returnType.toRef(),K=new Array;D&&K.push(i.global_set(this.ensureArgumentsLength(),i.i32(l))),o==u.void?(K.push(i.call(Y,k,z)),K.push(i.return())):K.push(i.return(i.call(Y,k,z)));let Z=assert(x.getClassOrInterface());c.addCase(Z.id,K);let ue=Z.getAllExtendees(e.declaration.name.text);for(let te=Set_values(ue),j=0,U=te.length;j<U;++j){let _e=te[j];c.addCase(_e.id,K)}}var f;if(e.prototype.bodyNode){let g=new Array(l);g[0]=i.local_get(0,s);for(let b=0,x=a.length;b<x;++b)g[1+b]=i.local_get(1+b,a[b].toRef());f=i.call(e.internalName,g,o.toRef())}else f=i.unreachable();var E=t.ref;E&&i.removeFunction(t.internalName),t.ref=i.addFunction(t.internalName,t.signature.paramRefs,t.signature.resultRefs,[F.I32],i.block(null,[c.render(p),f],o.toRef())),t.set(4194304)}}operandsTostack(e,t){if(!!this.options.stackSize){var i=this.module,n=0,s=e.thisType;if(s){if(s.isManaged){let l=t[0],p=i.runExpression(l,0);ge(p)||(t[n]=i.tostack(l))}++n}var a=0,o=e.parameterTypes;for(assert(o.length>=t.length-n);n<t.length;){if(o[a].isManaged){let p=t[n],c=i.runExpression(p,0);ge(c)||(t[n]=i.tostack(p))}++n,++a}}}makeCallDirect(e,t,i,n=!1){if(e.hasDecorator(64))if(e.is(134217728))this.warning(228,i.range,e.internalName);else{assert(!e.is(67108864));let b=this.inlineStack;if(b.includes(e))this.warning(217,i.range,e.internalName);else{b.push(e);let x;if(e.is(131072)){let S=assert(t);assert(S.length),x=this.makeCallInline(e,S.slice(1),S[0],n)}else x=this.makeCallInline(e,t,0,n);return b.pop(),x}}var s=this.module,a=t?t.length:0,o=a,l=e.signature.requiredParameters,p=l,c=e.signature.parameterTypes,_=c.length,f=_;if(e.is(131072)&&(++p,++f,--o),assert(a>=p),!this.compileFunction(e))return s.unreachable();var E=e.signature.returnType;if(a<f){t||(t=new Array(f),t.length=0);let b=e.prototype.functionTypeNode.parameters;assert(b.length==c.length);let x=!0;for(let S=o;S<_;++S){let v=b[S].initializer;if(v){if(v.compilesToConst){t.push(this.compileExpression(v,c[S],1));continue}let L=this.resolver.lookupExpression(v,e.flow,c[S],1);if(L&&L.kind==0){let O=L;if(this.compileGlobal(O)){O.is(16777216)?t.push(this.compileInlineConstant(O,c[S],1)):t.push(this.convertExpression(s.global_get(O.internalName,O.type.toRef()),O.type,c[S],!1,v));continue}}}t.push(this.makeZero(c[S],e.declaration)),x=!1}if(!x&&!e.is(1048576)){let S=e;if(e=this.ensureVarargsStub(e),!this.compileFunction(e))return s.unreachable();e.flow.flags=S.flow.flags;let v=E.toRef(),L=t[f-1];assert(!(ni(L,s.ref)&32));let O=c[_-1];t[f-1]=s.block(null,[s.global_set(this.ensureArgumentsLength(),s.i32(o)),L],O.toRef()),this.operandsTostack(e.signature,t);let C=s.call(e.internalName,t,v);return E!=u.void&&n?(C=s.drop(C),this.currentType=u.void):this.currentType=E,C}}e.is(134217728)&&!i.isAccessOnSuper&&(e=this.ensureVirtualStub(e)),t&&this.operandsTostack(e.signature,t);var g=s.call(e.internalName,t,E.toRef());return this.currentType=E,g}compileCallIndirect(e,t,i,n,s=0,a=!1){var o=i.length;if(!this.checkCallSignature(e,o,s!=0,n))return this.module.unreachable();var l=s?o+1:o,p=new Array(l),c=0;s&&(p[0]=s,c=1);var _=e.parameterTypes;for(let f=0;f<o;++f,++c)p[c]=this.compileExpression(i[f],_[f],1);return assert(c==l),this.makeCallIndirect(e,t,n,p,a)}makeCallIndirect(e,t,i,n=null,s=!1){var a=this.module,o=n?n.length:0,l=o,p=e.requiredParameters,c=p,_=e.parameterTypes,f=e.returnType,E=_.length,g=E;if(e.thisType&&(++c,++g,--l),assert(o>=c),o<g){n||(n=new Array(g),n.length=0);let v=e.parameterTypes;for(let L=l;L<E;++L)n.push(this.makeZero(v[L],i))}var b=this.ensureArgumentsLength(),x=this.options.sizeTypeRef;if(ni(t,a.ref)&32){let v=this.currentFlow,L=v.getTempLocal(this.options.usizeType,st(t));t=a.block(null,[a.local_set(L.index,t,!0),a.global_set(b,a.i32(l)),a.local_get(L.index,x)],x),v.freeTempLocal(L)}else t=a.block(null,[a.global_set(b,a.i32(l)),t],x);n&&this.operandsTostack(e,n);var S=a.call_indirect(null,a.load(4,!1,t,F.I32),n,e.paramRefs,e.resultRefs);return this.currentType=f,S}compileCommaExpression(e,t,i){var n=e.expressions,s=n.length,a=new Array(s--);for(let o=0;o<s;++o)a[o]=this.compileExpression(n[o],u.void,9);return a[s]=this.compileExpression(n[s],t,i),this.module.flatten(a,this.currentType.toRef())}compileElementAccessExpression(e,t,i){var n=this.module,s=e.expression,a=this.resolver.resolveExpression(s,this.currentFlow);if(a){let o=a.getClassOrWrapper(this.program);if(o){let l=this.currentFlow.is(32768),p=o.lookupOverload(1,l);if(p){let c=assert(p.signature.thisType),_=this.compileExpression(s,c,1);return!l&&this.options.pedantic&&this.pedantic(904,e.range),this.compileCallDirect(p,[e.elementExpression],e,_,i)}}this.error(2329,e.expression.range,a.toString())}return n.unreachable()}compileFunctionExpression(e,t,i){var n=e.declaration.clone();assert(!n.typeParameters);var s=this.currentFlow,a=s.actualFunction,o=n.name.text.length>0,l=!o||t!=u.void,p=new Ke(l?(o?n.name.text+"|":"anonymous|")+(a.nextAnonymousId++).toString():n.name.text,a,n,0),c,_=re(s.contextualTypeArguments),f=this.module,E=t.signatureReference;if(E){let x=p.functionTypeNode,S=x.parameters,v=S.length,L=E.parameterTypes,O=L.length;if(v>O)return this.error(2554,e.range,O.toString(),v.toString()),f.unreachable();for(let K=0;K<v;++K){let Z=S[K];if(!xe(Z.type)){let ue=this.resolver.resolveType(Z.type,a.parent,_);if(!ue)return f.unreachable();if(!L[K].isStrictlyAssignableTo(ue))return this.error(2322,Z.range,L[K].toString(),ue.toString()),f.unreachable()}}let C=E.returnType;if(!xe(x.returnType)){let K=this.resolver.resolveType(x.returnType,a.parent,_);if(!K)return f.unreachable();if(C==u.void?K!=u.void:!K.isStrictlyAssignableTo(C))return this.error(2322,x.returnType.range,K.toString(),C.toString()),f.unreachable()}let k=E.thisType,D=x.explicitThisType;if(D){if(!k)return this.error(2332,D.range),f.unreachable();let K=this.resolver.resolveType(D,a.parent,_);if(!K)return f.unreachable();if(!k.isStrictlyAssignableTo(K))return this.error(2322,D.range,k.toString(),K.toString()),f.unreachable()}let Y=new ve(this.program,L,C,k);Y.requiredParameters=O,c=new je(p.name,p,null,Y,_),c.flow.outer=s;let z=this.compileFunction(c);if(this.currentType=E.type,!z)return f.unreachable()}else{if(c=this.resolver.resolveFunction(p,null,_),!c)return this.module.unreachable();c.flow.outer=s;let x=this.compileFunction(c);if(this.currentType=c.signature.type,!x)return f.unreachable()}var g=this.ensureRuntimeFunction(c),b=this.options.isWasm64?f.i64(i64_low(g),i64_high(g)):f.i32(i64_low(g));if(!l){let x=c.name,S=s.getScopedLocal(x);if(S)S.declaration.range.source.isNative?this.error(2300,n.name.range,x):this.errorRelated(2300,n.name.range,S.declaration.name.range,x);else{let v=c.type,L=s.addScopedLocal(c.name,v);s.setLocalFlag(L.index,1),b=f.local_tee(L.index,b,v.isManaged)}}return b}maybeCompileEnclosingSource(e){var t=e.range.source.internalPath,i=this.program.filesByName;assert(i.has(t));var n=assert(i.get(t));n.is(4194304)||this.compileFileByPath(t,e)}compileIdentifierExpression(e,t,i){var n=this.module,s=this.currentFlow,a=s.actualFunction;switch(e.kind){case 18:{let p=this.options;if(t.isReference){let c=t.getClass();if(c)return this.currentType=c.type.asNullable(),p.isWasm64?n.i64(0):n.i32(0);let _=t.getSignature();return _?(this.currentType=_.type.asNullable(),p.isWasm64?n.i64(0):n.i32(0)):this.makeZero(t,e)}return this.currentType=p.usizeType,this.warning(226,e.range,this.currentType.toString()),p.isWasm64?n.i64(0):n.i32(0)}case 25:return this.currentType=u.bool,n.i32(1);case 13:return this.currentType=u.bool,n.i32(0);case 24:{let p=a.signature.thisType;if(!p)return this.error(2332,e.range),this.currentType=this.options.usizeType,n.unreachable();if(a.is(262144)&&(s.is(65536)&&this.error(2333,e.range),!(i&32))){let _=a.parent;assert(_.kind==7),this.checkFieldInitialization(_,e)}let c=assert(s.lookupLocal(w.this_));return s.set(64),this.currentType=p,n.local_get(c.index,p.toRef())}case 23:{if(a.is(262144)&&(s.is(65536)?this.error(2336,e.range):s.is(128)||this.error(17011,e.range)),s.isInline){let p=s.lookupLocal(w.this_);if(p){let _=assert(p.type.getClass()).base;if(_)return this.currentType=_.type,n.local_get(p.index,_.type.toRef())}}if(a.is(131072)){let p=assert(a.parent);assert(p.kind==7);let _=p.base;if(_){let f=_.type;return this.currentType=f,n.local_get(0,f.toRef())}}return this.error(2335,e.range),this.currentType=this.options.usizeType,n.unreachable()}}this.maybeCompileEnclosingSource(e);var o=this.currentParent;o||(o=a);var l=this.resolver.lookupIdentifierExpression(e,s,o);if(!l)return this.currentType==u.void&&(this.currentType=u.i32),n.unreachable();switch(l.kind){case 1:{let p=l,c=p.type;if(assert(c!=u.void),this.pendingElements.has(p))return this.error(2448,e.range,p.internalName),this.currentType=c,n.unreachable();if(p.is(16777216))return this.compileInlineConstant(p,t,i);let _=p.index;return assert(_>=0),c.isNullableReference&&s.isLocalFlag(_,4,!1)&&(c=c.nonNullableType),this.currentType=c,l.parent!=s.parentFunction?(this.error(100,e.range,"Closures"),n.unreachable()):n.local_get(_,c.toRef())}case 0:{let p=l;if(!this.compileGlobal(p))return n.unreachable();let c=p.type;return this.pendingElements.has(p)?(this.error(2448,e.range,p.internalName),this.currentType=c,n.unreachable()):(assert(c!=u.void),p.is(16777216)?this.compileInlineConstant(p,t,i):(this.currentType=c,n.global_get(p.internalName,c.toRef())))}case 3:{let p=l;return l.is(4194304)?(this.currentType=u.i32,p.is(16777216)?(assert(p.constantValueKind==1),n.i32(i64_low(p.constantIntegerValue))):n.global_get(p.internalName,F.I32)):(this.error(2651,e.range),this.currentType=u.i32,n.unreachable())}case 4:{let p=l,c=p.typeParameterNodes;if(c&&c.length!=0){this.error(1140,e.range);break}let _=this.resolver.resolveFunction(p,null,re(s.contextualTypeArguments));if(!_||!this.compileFunction(_))return n.unreachable();if(t.isExternalReference)return this.currentType=u.funcref,n.ref_func(_.internalName,F.Funcref);let f=this.ensureRuntimeFunction(_);return this.currentType=_.signature.type,this.options.isWasm64?n.i64(i64_low(f),i64_high(f)):n.i32(i64_low(f))}}return this.error(234,e.range),n.unreachable()}compileInstanceOfExpression(e,t,i){var n=this.currentFlow,s=e.isType;if(s.kind==1){let o=s;if(!(o.isNullable||o.hasTypeArguments)){let l=this.resolver.resolveTypeName(o.name,n.actualFunction,1);if(l&&l.kind==6){let p=l;if(p.is(32768))return this.makeInstanceofClass(e,p)}}}var a=this.resolver.resolveType(e.isType,n.actualFunction,re(n.contextualTypeArguments));return a?this.makeInstanceofType(e,a):(this.currentType=u.bool,this.module.unreachable())}makeInstanceofType(e,t){var i=this.module,n=this.currentFlow,s=this.compileExpression(e.expression,t),a=this.currentType;if(this.currentType=u.bool,t.isValue)return i.maybeDropCondition(s,i.i32(a==t?1:0));if(a.isValue)return i.maybeDropCondition(s,i.i32(0));var o=a.toRef();if(a.isNullableReference&&!t.isNullableReference){if(a.nonNullableType.isAssignableTo(t))return i.binary(o==F.I64?41:16,s,this.makeZero(a,e.expression));if(t.isAssignableTo(a)){let l=this.program;if(a.isUnmanaged||t.isUnmanaged)this.error(2365,e.range,"instanceof",a.toString(),t.toString());else{let p=n.getTempLocal(a),c=assert(l.instanceofInstance);this.compileFunction(c);let _=i.if(i.unary(o==F.I64?21:20,i.local_tee(p.index,s,a.isManaged)),i.i32(0),this.makeCallDirect(c,[i.local_get(p.index,o),i.i32(t.classReference.id)],e));return n.freeTempLocal(p),this.options.pedantic&&this.pedantic(903,e.range),_}}}else{if(a.isAssignableTo(t))return i.maybeDropCondition(s,i.i32(1));if(t.isAssignableTo(a)){let l=this.program;if(a.isUnmanaged||t.isUnmanaged)this.error(2365,e.range,"instanceof",a.toString(),t.toString());else{let p=n.getTempLocal(a),c=assert(l.instanceofInstance);this.compileFunction(c);let _=i.if(i.unary(o==F.I64?21:20,i.local_tee(p.index,s,a.isManaged)),i.i32(0),this.makeCallDirect(c,[i.local_get(p.index,o),i.i32(t.classReference.id)],e));return n.freeTempLocal(p),_}}}return i.maybeDropCondition(s,i.i32(0))}makeInstanceofClass(e,t){var i=this.module,n=this.compileExpression(e.expression,u.auto),s=this.currentType,a=s.toRef();this.currentType=u.bool;var o=s.getClass();if(o){if(o.extends(t))return s.isNullableReference?i.binary(a==F.I64?41:16,n,this.makeZero(s,e.expression)):i.maybeDropCondition(n,i.i32(1));if(t.extends(o.prototype))return this.pendingClassInstanceOf.add(t),i.call(t.internalName+"~instanceof",[n],F.I32)}return i.maybeDropCondition(n,i.i32(0))}compileLiteralExpression(e,t,i,n=!1){var s=this.module;switch(e.literalKind){case 5:return assert(!n),this.compileArrayLiteral(e,t,i);case 0:{let a=e.value;return n&&(a=-a),t==u.f32?s.f32(a):(this.currentType=u.f64,s.f64(a))}case 1:{let a=e.value;n&&(a=i64_sub(i64_new(0),a));let o=this.resolver.determineIntegerLiteralType(a,t);switch(this.currentType=o,o.kind){case 4:if(!this.options.isWasm64)return s.i32(i64_low(a));case 3:return s.i64(i64_low(a),i64_high(a));case 9:if(!this.options.isWasm64)return s.i32(i64_low(a));case 8:return s.i64(i64_low(a),i64_high(a));case 11:return s.f32(i64_to_f32(a));case 12:return s.f64(i64_to_f64(a));default:return s.i32(i64_low(a))}}case 2:return assert(!n),this.compileStringLiteral(e,i);case 3:return assert(!n),this.compileTemplateLiteral(e,i);case 6:return assert(!n),this.compileObjectLiteral(e,t);case 4:return this.error(100,e.range,"Regular expressions"),this.currentType=t,s.unreachable()}return assert(!1),s.unreachable()}compileStringLiteral(e,t){return this.ensureStaticString(e.value)}compileTemplateLiteral(e,t){var i=e.tag,n=e.parts,s=n.length,a=e.expressions,o=a.length;assert(o==s-1);var l=this.module,p=this.program.stringInstance,c=p.type;if(!i){if(s==1)return this.ensureStaticString(n[0]);if(s==2){let j=a[0],U=n[0].length,_e=n[1].length;if(!U&&!_e)return this.makeToString(this.compileExpression(j,c),this.currentType,j);let Lt=U!=0;if(Lt^_e!=0){let qe,Jt,ft=this.makeToString(this.compileExpression(j,c),this.currentType,j);Lt?(qe=this.ensureStaticString(n[0]),Jt=ft):(qe=ft,Jt=this.ensureStaticString(n[1]));let hi=assert(p.getMethod("concat"));return this.makeCallDirect(hi,[qe,Jt],j)}}if(s==3&&!n[0].length&&!n[1].length&&!n[2].length){let j=a[0],U=a[1],_e=this.makeToString(this.compileExpression(j,c),this.currentType,j),Lt=this.makeToString(this.compileExpression(U,c),this.currentType,U),qe=assert(p.getMethod("concat"));return this.makeCallDirect(qe,[_e,Lt],e)}let O=s+o,C=new Array(O);C[0]=this.ensureStaticString(n[0]);for(let j=1;j<s;++j)C[2*j-1]=l.usize(0),C[2*j]=this.ensureStaticString(n[j]);let k=assert(this.resolver.resolveClass(this.program.staticArrayPrototype,[c])),D=this.addStaticBuffer(c,C,k.id),Y=i64_add(D.offset,i64_new(this.program.totalOverhead)),z=assert(k.getMethod("join")),K=assert(k.lookupOverload(2,!0)),Z=new Array(2*o+1),ue=new Array(o),te=this.currentFlow;for(let j=0;j<o;++j){let U=a[j],_e=te.getTempLocal(c);ue[j]=_e,Z[j]=l.local_set(_e.index,this.makeToString(this.compileExpression(U,c),this.currentType,U),!0)}for(let j=0;j<o;++j)Z[o+j]=this.makeCallDirect(K,[l.usize(Y),l.i32(2*j+1),l.local_get(ue[j].index,c.toRef())],e),te.freeTempLocal(ue[j]);return Z[2*o]=this.makeCallDirect(z,[l.usize(Y),this.ensureStaticString("")],e),l.flatten(Z,c.toRef())}var _=this.program.templateStringsArrayInstance,f=_,E=this.resolver.lookupExpression(i,this.currentFlow,u.auto,1);if(E)switch(E.kind){case 4:{let O=this.resolver.resolveFunction(E,null,re(),1);if(!O)break;E=O}case 5:{let C=E.signature.parameterTypes;if(C.length){let k=C[0].getClass();k&&!k.extends(_.prototype)&&(f=assert(this.resolver.resolveClass(this.program.arrayPrototype,[c])))}break}}var g=e.rawParts;assert(g.length==s);var b=new Array(s);for(let O=0;O<s;++O)b[O]=this.ensureStaticString(n[O]);var x;if(f==_){var S=new Array(s);for(let O=0;O<s;++O)S[O]=this.ensureStaticString(g[O]);x=this.addStaticArrayHeader(c,this.addStaticBuffer(this.options.usizeType,b),f);var v=this.addStaticArrayHeader(c,this.addStaticBuffer(this.options.usizeType,S));f.writeField("raw",i64_add(v.offset,i64_new(this.program.totalOverhead)),x.buffer)}else x=this.addStaticArrayHeader(c,this.addStaticBuffer(this.options.usizeType,b),f);var L=a.slice();return L.unshift(P.createCompiledExpression(l.usize(i64_add(x.offset,i64_new(this.program.totalOverhead))),f.type,this.program.nativeRange)),this.error(100,e.range,"Tagged template literals"),this.compileCallExpressionLike(i,null,L,e.range,c)}compileArrayLiteral(e,t,i){var n=this.module,s=this.currentFlow,a=this.program;let o=t.getClass();if(o&&o.extends(a.staticArrayPrototype))return this.compileStaticArrayLiteral(e,t,i);var l=this.resolver.lookupExpression(e,s,this.currentType);if(!l)return n.unreachable();assert(l.kind==7);var p=l,c=p.type,_=p.getTypeArgumentsTo(a.arrayPrototype)[0],f=assert(a.arrayBufferInstance),E=s.getTempLocal(this.options.usizeType),g=s.getTempLocal(f.type),b=e.elementExpressions,x=b.length,S=new Array(x),v=!_.isExternalReference;for(let D=0;D<x;++D){let Y=b[D];if(Y.kind!=19){let z=this.compileExpression(Y,_,1),K=n.runExpression(z,1);K?z=K:v=!1,S[D]=z}else S[D]=this.makeZero(_,Y)}if(v){s.freeTempLocal(E),s.freeTempLocal(g);let D=a.totalOverhead,Y=this.addStaticBuffer(_,S),z=i64_add(Y.offset,i64_new(D));if(i&16){let K=this.addStaticArrayHeader(_,Y),Z=i64_add(K.offset,i64_new(D));return this.currentType=c,a.options.isWasm64?this.module.i64(i64_low(Z),i64_high(Z)):this.module.i32(i64_low(Z))}else return this.makeNewArray(p,x,z,e)}var L=p.lookupOverload(2,!0);if(!L)return s.freeTempLocal(E),s.freeTempLocal(g),this.error(2542,e.range,p.internalName),this.currentType=c,n.unreachable();var O=c.toRef(),C=new Array;C.push(n.local_set(E.index,this.makeNewArray(p,x,i64_new(0),e),c.isManaged));var k=assert(p.getMember("dataStart"));assert(k.kind==11),C.push(n.local_set(g.index,n.load(c.byteSize,!1,n.local_get(E.index,O),O,k.memoryOffset),!0));for(let D=0;D<x;++D)C.push(n.call(L.internalName,[n.local_get(E.index,O),n.i32(D),S[D]],F.None));return C.push(n.local_get(E.index,O)),s.freeTempLocal(E),s.freeTempLocal(g),x&&this.compileFunction(L),this.currentType=c,n.flatten(C,O)}makeNewArray(e,t,i,n){var s=this.program,a=this.module;assert(!e.extends(s.staticArrayPrototype));var o=e.getArrayValueType(),l=this.makeCallDirect(s.newArrayInstance,[a.i32(t),s.options.isWasm64?a.i64(o.alignLog2):a.i32(o.alignLog2),a.i32(e.id),s.options.isWasm64?a.i64(i64_low(i),i64_high(i)):a.i32(i64_low(i))],n);return this.currentType=e.type,l}compileStaticArrayLiteral(e,t,i){var n=this.module,s=this.currentFlow,a=this.program,o=assert(t.getClass()),l=o.type,p=assert(o.getTypeArgumentsTo(a.staticArrayPrototype)),c=p[0],_=s.getTempLocal(this.options.usizeType),f=e.elementExpressions,E=f.length,g=new Array(E),b=!c.isExternalReference;for(let C=0;C<E;++C){let k=f[C];if(k.kind!=19){let D=this.compileExpression(k,c,1),Y=n.runExpression(D,1);Y?D=Y:b=!1,g[C]=D}else g[C]=this.makeZero(c,k)}var x=this.options.isWasm64,S=g.length<<c.alignLog2;if(b){s.freeTempLocal(_);let C=this.addStaticBuffer(c,g,o.id),k=i64_add(C.offset,i64_new(a.totalOverhead));if(i&16){let D=this.options.isWasm64?n.i64(i64_low(k),i64_high(k)):n.i32(i64_low(k));return this.currentType=l,D}else{let D=this.makeCallDirect(a.newBufferInstance,[x?n.i64(S):n.i32(S),n.i32(o.id),x?n.i64(i64_low(k),i64_high(k)):n.i32(i64_low(k))],e);return this.currentType=l,D}}var v=o.lookupOverload(2,!0);if(!v)return s.freeTempLocal(_),this.error(2542,e.range,o.internalName),this.currentType=l,n.unreachable();var L=l.toRef(),O=new Array;O.push(n.local_set(_.index,this.makeCallDirect(a.newBufferInstance,[x?n.i64(S):n.i32(S),n.i32(o.id)],e),l.isManaged));for(let C=0;C<E;++C)O.push(n.call(v.internalName,[n.local_get(_.index,L),n.i32(C),g[C]],F.None));return O.push(n.local_get(_.index,L)),s.freeTempLocal(_),E&&this.compileFunction(v),this.currentType=l,n.flatten(O,L)}compileObjectLiteral(e,t){var i=this.module,n=t.getClass();if(!n)return this.error(2322,e.range,"<object>",t.toString()),i.unreachable();var s=n.type;if(this.currentType=s.nonNullableType,n.kind==9)return this.error(100,e.range,"Interface hidden classes"),i.unreachable();if(n.is(128))return this.error(2511,e.range),i.unreachable();var a=n.prototype.constructorPrototype;if(a)return this.errorRelated(216,e.range,a.identifierNode.range,s.toString()),i.unreachable();var o=s.isManaged;o||this.checkUnsafe(e,gt(6,n.decoratorNodes));var l=e.names,p=l.length,c=e.values,_=n.members,f=!1,E=new Array,g=this.currentFlow,b=g.getTempLocal(s),x=s.toRef();assert(p==c.length);var S=new Set;if(_)for(let L=Map_keys(_),O=0,C=L.length;O<C;++O){let k=L[O],D=assert(_.get(k));D&&D.kind==11&&S.add(D)}for(let L=0;L<p;++L){let O=l[L].text,C=n.getMember(O);if(!C||C.kind!=11){this.error(2339,l[L].range,O,s.toString()),f=!0;continue}if(C.is(512)){this.error(2341,l[L].range,O,s.toString()),f=!0;continue}if(C.is(1024)){this.error(2445,l[L].range,O,s.toString()),f=!0;continue}let k=C,D=k.type,Y=this.compileExpression(c[L],D,1);E.push(i.call(k.internalSetterName,[i.local_get(b.index,x),Y],F.None)),this.compileFieldSetter(k),S.delete(k)}if(this.currentType=s.nonNullableType,f)return i.unreachable();for(let L=Set_values(S),O=0,C=L.length;O<C;++O){let k=L[O],D=k.type;if(!k.initializerNode){if(D.isReference&&!D.isNullableReference){this.error(2741,e.range,k.name,"<object>",s.toString()),f=!0;continue}switch(D.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:{E.push(i.call(k.internalSetterName,[i.local_get(b.index,x),this.makeZero(D,e)],F.None)),this.compileFieldSetter(k);continue}}this.error(2741,e.range,k.name,"<object>",s.toString()),f=!0}}if(f)return i.unreachable();var v=this.ensureConstructor(n,e);return E.unshift(i.local_set(b.index,this.compileInstantiate(v,[],0,e),s.isManaged)),E.push(i.local_get(b.index,x)),o||g.freeTempLocal(b),this.currentType=s.nonNullableType,i.flatten(E,x)}compileNewExpression(e,t,i){var n=this.module,s=this.currentFlow,a=this.resolver.resolveTypeName(e.typeName,s.actualFunction);if(!a)return n.unreachable();if(a.kind!=6)return this.error(2351,e.typeName.range),this.module.unreachable();if(a.is(128))return this.error(2511,e.typeName.range),this.module.unreachable();var o=a,l=null,p=e.typeArguments,c;if(!p&&(c=t.classReference)&&c.prototype==o&&c.is(32768)?l=this.resolver.resolveClass(o,c.typeArguments,re(s.contextualTypeArguments)):l=this.resolver.resolveClassInclTypeArguments(o,p,s.actualFunction.parent,re(s.contextualTypeArguments),e),!l)return n.unreachable();t==u.void&&(i|=8);var _=this.ensureConstructor(l,e);return _.hasDecorator(64)||this.checkFieldInitialization(l,e),this.compileInstantiate(_,e.args,i,e)}ensureConstructor(e,t){var i=e.constructorInstance;if(i){if(i.is(4194304))return i;i.hasDecorator(64)||this.compileFunction(i)}else{let n=e.base,s=re(e.contextualTypeArguments);if(n){let v=this.ensureConstructor(n,t);this.checkFieldInitialization(n,t),i=new je(w.constructor,new Ke(w.constructor,e,v.declaration.clone()),null,v.signature,s)}else i=new je(w.constructor,new Ke(w.constructor,e,this.program.makeNativeFunctionDeclaration(w.constructor,393216)),null,new ve(this.program,null,e.type,e.type),s);i.set(4194304),i.prototype.setResolvedInstance("",i),e.is(524288)&&i.set(524288),e.constructorInstance=i;let a=e.members;a||(e.members=a=new Map),a.set("constructor",i.prototype);let o=this.currentFlow,l=i.flow;this.currentFlow=l;let p=i.signature,c=this.module,_=this.options.sizeTypeRef,f=new Array;if(f.push(this.makeConditionalAllocation(e,0)),n){let v=p.parameterTypes,L=v.length,O=new Array(1+L);O[0]=c.local_get(0,_);for(let C=1;C<=L;++C)O[C]=c.local_get(C,v[C-1].toRef());f.push(c.local_set(0,this.makeCallDirect(assert(n.constructorInstance),O,t,!1),n.type.isManaged))}this.makeFieldInitializationInConstructor(e,f),f.push(c.local_get(0,_)),l.freeScopedLocals(),this.currentFlow=o;let E=i.localsByIndex,g=new Array,b=1+p.parameterTypes.length,x=E.length;if(x>b)for(let v=b;v<x;++v)g.push(E[v].type.toRef());let S=c.addFunction(i.internalName,p.paramRefs,p.resultRefs,g,c.flatten(f,_));i.finalize(c,S)}return i}checkFieldInitialization(e,t=null){if(!e.didCheckFieldInitialization){e.didCheckFieldInitialization=!0;var i=assert(e.constructorInstance);this.checkFieldInitializationInFlow(e,i.flow,t)}}checkFieldInitializationInFlow(e,t,i=null){var n=e.members;if(n)for(let s=Map_values(n),a=0,o=s.length;a<o;++a){let l=s[a];if(l.kind==11&&l.parent==e){let p=l;!p.initializerNode&&!t.isThisFieldFlag(p,1)?p.is(8192)||(i?this.errorRelated(2564,p.declaration.name.range,i.range,p.internalName):this.error(2564,p.declaration.name.range,p.internalName)):p.is(8192)&&(p.type.isReference?this.warning(233,p.identifierNode.range,p.internalName):this.pedantic(906,p.identifierNode.range))}}}compileInstantiate(e,t,i,n){assert(e.is(262144));var s=e.parent;assert(s.kind==7);var a=s;(a.type.isUnmanaged||e.hasDecorator(2048))&&this.checkUnsafe(n);var o=this.compileCallDirect(e,t,n,this.makeZero(this.options.usizeType,n),i);return le(o)!=F.None&&(this.currentType=a.type),o}compilePropertyAccessExpression(e,t,i){var n=this.module,s=this.currentFlow;this.maybeCompileEnclosingSource(e);var a=this.resolver,o=a.lookupExpression(e,s,t);if(!o)return n.unreachable();var l=a.currentThisExpression;switch(o.hasDecorator(2048)&&this.checkUnsafe(e),o.kind){case 0:{let p=o;if(!this.compileGlobal(p))return n.unreachable();let c=p.type;return assert(c!=u.void),this.pendingElements.has(p)?(this.error(2448,e.range,p.internalName),this.currentType=c,n.unreachable()):p.is(16777216)?this.compileInlineConstant(p,t,i):(this.currentType=c,n.global_get(p.internalName,c.toRef()))}case 3:{let p=o,c=assert(p.parent);assert(c.kind==2);let _=c;return this.compileEnum(_)?(this.currentType=u.i32,p.is(16777216)?(assert(p.constantValueKind==1),this.compileInlineConstant(p,t,i)):(assert(p.type==u.i32),n.global_get(p.internalName,F.I32))):(this.currentType=u.i32,this.module.unreachable())}case 11:{let p=o,c=p.type;assert(p.memoryOffset>=0);let _=p.parent;assert(_.kind==7),l=assert(l);let f=this.compileExpression(l,_.type,33),E=this.currentType;if(s.actualFunction.is(262144)&&l.kind==24&&!s.isThisFieldFlag(p,1)&&!p.is(8192)&&this.errorRelated(2565,e.range,p.identifierNode.range,p.internalName),E.isNullableReference&&(s.isNonnull(f,E)||this.error(2531,l.range)),!p.is(4194304)){p.set(4194304);let b=p.typeNode;b&&this.checkTypeSupported(p.type,b)}this.currentType=c;let g=n.load(c.byteSize,c.isSignedIntegerValue,f,c.toRef(),p.memoryOffset);return p.is(8192)&&c.isReference&&!c.isNullableReference&&(g=this.makeRuntimeNonNullCheck(g,c,e)),g}case 12:{let p=o,c=this.resolver.resolveProperty(p);if(!c)return n.unreachable();o=c}case 13:{let c=o.getterInstance;if(!c)return n.unreachable();let _=0;return c.is(131072)&&(_=this.compileExpression(assert(l),assert(c.signature.thisType),33)),this.compileCallDirect(c,[],e,_)}case 4:{let p=o,c=this.resolver.resolveFunction(p,null);if(!c||!this.compileFunction(c))return n.unreachable();this.currentType=c.type;let _=this.ensureRuntimeFunction(c);return this.options.isWasm64?n.i64(i64_low(_),i64_high(_)):n.i32(i64_low(_))}}return this.error(234,e.range),this.module.unreachable()}compileTernaryExpression(e,t,i){var n=this.module,s=e.ifThen,a=e.ifElse,o=this.makeIsTrueish(this.compileExpression(e.condition,u.bool),this.currentType,e.condition),l=this.evaluateCondition(o);if(l==1)return n.maybeDropCondition(o,this.compileExpression(s,t));if(l==2)return n.maybeDropCondition(o,this.compileExpression(a,t));var p=this.currentFlow,c=p.fork();c.inheritNonnullIfTrue(o),this.currentFlow=c;var _=this.compileExpression(s,t),f=this.currentType,E=p.fork();E.inheritNonnullIfFalse(o),this.currentFlow=E;var g=this.compileExpression(a,t==u.auto?f:t),b=this.currentType;if(t==u.void)f!=u.void&&(_=n.drop(_),f=u.void),b!=u.void&&(g=n.drop(g),b=u.void),this.currentType=u.void;else{let x=u.commonDenominator(f,b,!1);if(!x)return this.error(2322,a.range,b.toString(),f.toString()),this.currentType=t,n.unreachable();_=this.convertExpression(_,f,x,!1,s),f=x,g=this.convertExpression(g,b,x,!1,a),b=x,this.currentType=x}return c.freeScopedLocals(),E.freeScopedLocals(),this.currentFlow=p,p.inheritMutual(c,E),n.if(o,_,g)}compileUnaryPostfixExpression(e,t,i){var n=this.module,s=this.currentFlow,a=this.compileExpression(e.operand,t.exceptVoid,0);if(ee(a)==23)return a;var o=null;t!=u.void&&(o=s.getTempLocal(this.currentType),a=n.local_tee(o.index,a,this.currentType.isManaged));var l;switch(e.operator){case 86:{let E=this.currentType.getClassOrWrapper(this.program);if(E){let g=E.lookupOverload(29);if(g){let b=g.is(131072);if(o&&!b&&(a=lr(a),s.freeTempLocal(o),o=null),l=this.compileUnaryOverload(g,e.operand,a,e),b)break;return l}}if(!this.currentType.isValue)return this.error(2469,e.range,"++",this.currentType.toString()),o&&s.freeTempLocal(o),n.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{l=n.binary(0,a,n.i32(1));break}case 9:case 4:{let g=this.options;l=n.binary(g.isWasm64?25:0,a,this.makeOne(this.currentType));break}case 3:case 8:{l=n.binary(25,a,n.i64(1));break}case 11:{l=n.binary(50,a,n.f32(1));break}case 12:{l=n.binary(63,a,n.f64(1));break}default:return this.error(2469,e.range,"++",this.currentType.toString()),n.unreachable()}break}case 87:{let E=this.currentType.getClassOrWrapper(this.program);if(E){let g=E.lookupOverload(30);if(g){let b=g.is(131072);if(o&&!b&&(a=lr(a),s.freeTempLocal(o),o=null),l=this.compileUnaryOverload(g,e.operand,a,e),g.is(131072))break;return l}}if(!this.currentType.isValue)return this.error(2469,e.range,"--",this.currentType.toString()),o&&s.freeTempLocal(o),n.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{l=n.binary(1,a,n.i32(1));break}case 9:case 4:{let g=this.options;l=n.binary(g.isWasm64?26:1,a,this.makeOne(this.currentType));break}case 3:case 8:{l=n.binary(26,a,n.i64(1));break}case 11:{l=n.binary(51,a,n.f32(1));break}case 12:{l=n.binary(64,a,n.f64(1));break}default:return this.error(2469,e.range,"--",this.currentType.toString()),n.unreachable()}break}default:return assert(!1),n.unreachable()}var p=this.resolver,c=p.lookupExpression(e.operand,s);if(!c)return o&&s.freeTempLocal(o),n.unreachable();if(!o)return this.makeAssignment(c,l,this.currentType,e.operand,p.currentThisExpression,p.currentElementExpression,!1);var _=this.makeAssignment(c,l,this.currentType,e.operand,p.currentThisExpression,p.currentElementExpression,!1);this.currentType=o.type,s.freeTempLocal(o);var f=o.type.toRef();return n.block(null,[_,n.local_get(o.index,f)],f)}compileUnaryPrefixExpression(e,t,i){var n=this.module,s=!1,a;switch(e.operator){case 80:{a=this.compileExpression(e.operand,t.exceptVoid,0);let p=this.currentType.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(23);if(c)return this.compileUnaryOverload(c,e.operand,a,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"+",this.currentType.toString()),n.unreachable();break}case 81:{let p=e.operand;if(p.isNumericLiteral){a=this.compileLiteralExpression(p,t,0,!0),this.options.sourceMap&&this.addDebugLocation(a,e.range);break}a=this.compileExpression(e.operand,t.exceptVoid,0);let c=this.currentType.getClassOrWrapper(this.program);if(c){let _=c.lookupOverload(24);if(_)return this.compileUnaryOverload(_,e.operand,a,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"-",this.currentType.toString()),n.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{a=n.binary(1,n.i32(0),a);break}case 9:case 4:{a=n.binary(this.options.isWasm64?26:1,this.makeZero(this.currentType,e.operand),a);break}case 3:case 8:{a=n.binary(26,n.i64(0),a);break}case 11:{a=n.unary(6,a);break}case 12:{a=n.unary(7,a);break}default:this.error(2469,e.range,"-",this.currentType.toString()),a=n.unreachable()}break}case 86:{s=!0,a=this.compileExpression(e.operand,t.exceptVoid,0);let p=this.currentType.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(27);if(c){if(a=this.compileUnaryOverload(c,e.operand,a,e),c.is(131072))break;return a}}if(!this.currentType.isValue)return this.error(2469,e.range,"++",this.currentType.toString()),n.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{a=n.binary(0,a,this.module.i32(1));break}case 9:case 4:{a=n.binary(this.options.isWasm64?25:0,a,this.makeOne(this.currentType));break}case 3:case 8:{a=n.binary(25,a,n.i64(1));break}case 11:{a=n.binary(50,a,n.f32(1));break}case 12:{a=n.binary(63,a,n.f64(1));break}default:this.error(2469,e.range,"++",this.currentType.toString()),a=n.unreachable()}break}case 87:{s=!0,a=this.compileExpression(e.operand,t.exceptVoid,0);let p=this.currentType.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(28);if(c){if(a=this.compileUnaryOverload(c,e.operand,a,e),c.is(131072))break;return a}}if(!this.currentType.isValue)return this.error(2469,e.range,"--",this.currentType.toString()),n.unreachable();switch(this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{a=n.binary(1,a,n.i32(1));break}case 9:case 4:{a=n.binary(this.options.isWasm64?26:1,a,this.makeOne(this.currentType));break}case 3:case 8:{a=n.binary(26,a,n.i64(1));break}case 11:{a=n.binary(51,a,n.f32(1));break}case 12:{a=n.binary(64,a,n.f64(1));break}default:this.error(2469,e.range,"--",this.currentType.toString()),a=n.unreachable()}break}case 94:{a=this.compileExpression(e.operand,t.exceptVoid,0);let p=this.currentType.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(25);if(c)return this.compileUnaryOverload(c,e.operand,a,e)}a=n.unary(20,this.makeIsTrueish(a,this.currentType,e.operand)),this.currentType=u.bool;break}case 95:{a=this.compileExpression(e.operand,t==u.void?u.i32:t.isFloatValue?u.i64:t,0);let p=this.currentType.getClassOrWrapper(this.program);if(p){let c=p.lookupOverload(26);if(c)return this.compileUnaryOverload(c,e.operand,a,e)}if(!this.currentType.isValue)return this.error(2469,e.range,"~",this.currentType.toString()),n.unreachable();switch(a=this.convertExpression(a,this.currentType,this.currentType.intType,!1,e.operand),this.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{a=n.binary(9,a,n.i32(-1));break}case 9:case 4:{a=n.binary(this.options.isWasm64?34:9,a,this.makeNegOne(this.currentType));break}case 3:case 8:{a=n.binary(34,a,n.i64(-1,-1));break}default:this.error(2469,e.range,"~",this.currentType.toString()),a=n.unreachable()}break}case 55:return this.compileTypeof(e,t,i);case 68:return this.error(100,e.range,"Spread operator"),n.unreachable();default:return assert(!1),n.unreachable()}if(!s)return a;var o=this.resolver,l=o.lookupExpression(e.operand,this.currentFlow);return l?this.makeAssignment(l,a,this.currentType,e.operand,o.currentThisExpression,o.currentElementExpression,t!=u.void):n.unreachable()}compileTypeof(e,t,i){var n=e.operand,s=0,a=this.program.stringInstance,o;if(n.kind==18)o="object";else{let l=this.resolver.lookupExpression(n,this.currentFlow,u.auto,1);if(l)switch(l.kind){case 6:case 14:case 2:{o="object";break}case 4:{o="function";break}default:{s=this.compileExpression(n,u.auto);let p=this.currentType;if(s=this.convertExpression(s,p,u.void,!0,n),p.isReference)if(p.getSignature())o="function";else{let _=p.getClass();_?_.prototype==a.prototype?o="string":o="object":o="externref"}else p==u.bool?o="boolean":p.isNumericValue?o="number":o="undefined";break}}else{switch(n.kind){case 6:break;case 21:case 12:if(n=(n.kind==21,n.expression),!this.resolver.resolveExpression(n,this.currentFlow,u.auto,0))return this.currentType=a.type,this.module.unreachable();default:s=this.compileExpression(n,u.auto),s=this.convertExpression(s,this.currentType,u.void,!0,n)}o="undefined"}}return this.currentType=a.type,s?this.module.block(null,[s,this.ensureStaticString(o)],this.options.sizeTypeRef):this.ensureStaticString(o)}ensureSmallIntegerWrap(e,t){var i=this.module,n=this.currentFlow;switch(t.kind){case 0:{n.canOverflow(e,t)&&(e=this.options.hasFeature(1)?i.unary(47,e):i.binary(11,i.binary(10,e,i.i32(24)),i.i32(24)));break}case 1:{n.canOverflow(e,t)&&(e=this.options.hasFeature(1)?i.unary(48,e):i.binary(11,i.binary(10,e,i.i32(16)),i.i32(16)));break}case 5:{n.canOverflow(e,t)&&(e=i.binary(7,e,i.i32(255)));break}case 6:{n.canOverflow(e,t)&&(e=i.binary(7,e,i.i32(65535)));break}case 10:{n.canOverflow(e,t)&&(e=i.binary(16,e,i.i32(0)));break}}return e}addDebugLocation(e,t){var i=this.currentFlow.parentFunction,n=t.source;n.debugInfoIndex<0&&(n.debugInfoIndex=this.module.addDebugInfoFile(n.normalizedPath)),t.debugInfoRef=e,i.debugLocations.push(t)}checkFeatureEnabled(e,t){return this.options.hasFeature(e)?!0:(this.error(103,t.range,Or(e)),!1)}checkTypeSupported(e,t){switch(e.kind){case 13:return this.checkFeatureEnabled(16,t);case 14:case 15:return this.checkFeatureEnabled(256,t);case 16:case 17:case 18:case 19:return this.checkFeatureEnabled(256,t)&&this.checkFeatureEnabled(1024,t)}let i=e.getClass();if(i)do{let n=i.typeArguments;if(n){for(let s=0,a=n.length;s<a;++s)if(!this.checkTypeSupported(n[s],t))return!1}i=i.base}while(i);else{let n=e.getSignature();if(n){let s=n.thisType;if(s&&!this.checkTypeSupported(s,t))return!1;let a=n.parameterTypes;for(let l=0,p=a.length;l<p;++l)if(!this.checkTypeSupported(a[l],t))return!1;let o=n.returnType;if(!this.checkTypeSupported(o,t))return!1}}return!0}checkSignatureSupported(e,t){var i=!0,n=t.explicitThisType;n&&(this.checkTypeSupported(assert(e.thisType),n)||(i=!1));var s=e.parameterTypes,a=t.parameters;for(let o=0,l=s.length;o<l;++o){let p;a.length>o?p=a[o]:p=t,this.checkTypeSupported(s[o],p)||(i=!1)}return this.checkTypeSupported(e.returnType,t.returnType)||(i=!1),i}evaluateCondition(e){let t=le(e);if(t==F.Unreachable)return 0;assert(t==F.I32);var i=this.module,n=i.runExpression(e,0);return n?ie(n)?1:2:0}makeZero(e,t){var i=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:case 10:return i.i32(0);case 4:case 9:if(e.size!=64)return i.i32(0);case 3:case 8:return i.i64(0);case 11:return i.f32(0);case 12:return i.f64(0);case 13:return i.v128(oa);case 14:case 15:case 16:case 17:case 19:return i.ref_null(e.toRef());case 18:return i.i31_new(i.i32(0))}}makeOne(e){var t=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:case 10:return t.i32(1);case 4:case 9:if(e.size!=64)return t.i32(1);case 3:case 8:return t.i64(1);case 11:return t.f32(1);case 12:return t.f64(1);case 18:return t.i31_new(t.i32(1))}}makeNegOne(e){var t=this.module;switch(e.kind){default:assert(!1);case 0:case 1:case 2:case 5:case 6:case 7:return t.i32(-1);case 4:case 9:if(e.size!=64)return t.i32(-1);case 3:case 8:return t.i64(-1,-1);case 11:return t.f32(-1);case 12:return t.f64(-1)}}makeIsTrueish(e,t,i){var n=this.module;switch(t.kind){case 0:case 1:case 5:case 6:e=this.ensureSmallIntegerWrap(e,t);case 10:case 2:case 7:return e;case 3:case 8:return n.binary(41,e,n.i64(0));case 9:case 4:return t.size==64?n.binary(41,e,n.i64(0)):e;case 11:return n.binary(20,n.binary(1,n.binary(10,n.unary(33,e),n.i32(1)),n.i32(2)),n.i32(4278190078));case 12:return n.binary(45,n.binary(26,n.binary(35,n.unary(34,e),n.i64(1)),n.i64(2)),n.i64(4294967294,4292870143));case 13:return n.unary(67,e);case 14:case 15:case 16:case 17:case 19:case 18:return n.unary(20,n.ref_is(0,e));default:return assert(!1),n.i32(0)}}makeToString(e,t,i){var n=this.program.stringInstance.type;if(t==n)return e;var s=t.getClassOrWrapper(this.program);if(s){let a=s.getMethod("toString");if(a){let o=a.signature;if(!this.checkCallSignature(o,0,!0,i))return this.currentType=n,this.module.unreachable();if(!t.isStrictlyAssignableTo(assert(o.thisType)))return this.errorRelated(2685,i.range,a.identifierAndSignatureRange),this.currentType=n,this.module.unreachable();let l=o.returnType;return l.isStrictlyAssignableTo(n)?this.makeCallDirect(a,[e],i):(this.errorRelated(2322,i.range,a.identifierAndSignatureRange,l.toString(),n.toString()),this.currentType=n,this.module.unreachable())}}return this.error(2322,i.range,t.toString(),n.toString()),this.currentType=n,this.module.unreachable()}makeAllocation(e){var t=this.program;assert(e.program==t);var i=this.module,n=this.options;if(this.currentType=e.type,e.hasDecorator(16)){let s=t.allocInstance;return this.compileFunction(s),i.call(s.internalName,[n.isWasm64?i.i64(e.nextMemoryOffset):i.i32(e.nextMemoryOffset)],n.sizeTypeRef)}else{let s=t.newInstance;return this.compileFunction(s),i.call(s.internalName,[n.isWasm64?i.i64(e.nextMemoryOffset):i.i32(e.nextMemoryOffset),i.i32(e.id)],n.sizeTypeRef)}}makeConditionalAllocation(e,t){var i=this.module,n=e.type,s=n.toRef();return assert(s==this.options.sizeTypeRef),i.if(i.unary(s==F.I64?21:20,i.local_get(t,s)),i.local_set(t,this.makeAllocation(e),e.type.isManaged))}makeFieldInitializationInConstructor(e,t=[]){var i=e.members;if(!i)return t;var n=this.module,s=this.currentFlow,a=s.isInline,o=a?s.lookupLocal(w.this_).index:0,l=this.options.sizeTypeRef,p=null;for(let c=Map_values(i),_=0,f=c.length;_<f;++_){let E=unchecked(c[_]);if(E.kind!=11||E.parent!=e)continue;let g=E;assert(!g.isAny(8));let b=g.prototype,x=b.parameterIndex;if(x<0){p||(p=new Array),p.push(g);continue}let v=g.type.toRef();assert(!b.initializerNode),this.compileFieldSetter(g),t.push(n.call(g.internalSetterName,[n.local_get(o,l),n.local_get(a?s.lookupLocal(g.name).index:1+x,v)],F.None))}if(p)for(let c=0,_=p.length;c<_;++c){let f=unchecked(p[c]),E=f.type,g=f.prototype,b=g.initializerNode;assert(g.parameterIndex<0),this.compileFieldSetter(f),t.push(n.call(f.internalSetterName,[n.local_get(o,l),b?this.compileExpression(b,E,1):this.makeZero(E,g.declaration)],F.None))}return this.currentType=u.void,t}makeAbort(e,t){var i=this.program,n=i.abortInstance;if(!n||!this.compileFunction(n))return this.module.unreachable();var s=i.stringInstance,a;return e?a=this.compileExpression(e,s.type,1):a=this.makeZero(s.type,t),this.makeStaticAbort(a,t)}makeStaticAbort(e,t){var i=this.program,n=this.module,s=i.abortInstance;if(!s||!this.compileFunction(s))return n.unreachable();var a=this.ensureStaticString(t.range.source.normalizedPath),o=t.range,l=o.source;return n.block(null,[n.call(s.internalName,[e,a,n.i32(l.lineAt(o.start)),n.i32(l.columnAt())],F.None),n.unreachable()])}makeRuntimeNonNullCheck(e,t,i){var n=this.module,s=this.currentFlow,a=s.getTempLocal(t);return s.canOverflow(e,t)||s.setLocalFlag(a.index,2),s.setLocalFlag(a.index,4),e=n.if(n.local_tee(a.index,e,t.isManaged),n.local_get(a.index,t.toRef()),this.makeStaticAbort(this.ensureStaticString("unexpected null"),i)),s.freeTempLocal(a),this.currentType=t.nonNullableType,e}makeRuntimeUpcastCheck(e,t,i,n){assert(i.isReference&&i.nonNullableType.isAssignableTo(t));var s=this.module,a=this.currentFlow,o=a.getTempLocal(t),l=this.program.instanceofInstance;return assert(this.compileFunction(l)),!i.isNullableReference||a.isNonnull(e,t)?e=s.if(s.call(l.internalName,[s.local_tee(o.index,e,t.isManaged),s.i32(i.classReference.id)],F.I32),s.local_get(o.index,t.toRef()),this.makeStaticAbort(this.ensureStaticString("unexpected upcast"),n)):e=s.if(s.local_tee(o.index,e,t.isManaged),s.if(s.call(l.internalName,[s.local_get(o.index,t.toRef()),s.i32(i.classReference.id)],F.I32),s.local_get(o.index,t.toRef()),this.makeStaticAbort(this.ensureStaticString("unexpected upcast"),n)),s.usize(0)),a.freeTempLocal(o),this.currentType=i,e}};function Pc(r,e){pr=e.range.source.simplePath,Vt=Te(r.name,r.parent,r.is(131072),!0);let t=e.overriddenModuleName;if(t&&(pr=t),!!r.hasDecorator(128)){var i=r.program,n=assert(gt(9,e.decorators)),s=n.args;if(s&&s.length>0){let a=s[0];a.isLiteralKind(2)?(Vt=a.value,s.length>=2&&(a=s[1],a.isLiteralKind(2)?(pr=Vt,Vt=a.value,s.length>2&&i.error(2554,n.range,"2",s.length.toString())):i.error(1141,a.range))):i.error(1141,a.range)}else i.error(2555,n.range,"1","0")}}var pr,Vt;var h;(m=>(m.start="~start",m.started="~started",m.argumentsLength="~argumentsLength",m.setArgumentsLength="~setArgumentsLength",m.abort="~lib/builtins/abort",m.trace="~lib/builtins/trace",m.seed="~lib/builtins/seed",m.isInteger="~lib/builtins/isInteger",m.isFloat="~lib/builtins/isFloat",m.isBoolean="~lib/builtins/isBoolean",m.isSigned="~lib/builtins/isSigned",m.isReference="~lib/builtins/isReference",m.isString="~lib/builtins/isString",m.isArray="~lib/builtins/isArray",m.isArrayLike="~lib/builtins/isArrayLike",m.isFunction="~lib/builtins/isFunction",m.isNullable="~lib/builtins/isNullable",m.isDefined="~lib/builtins/isDefined",m.isConstant="~lib/builtins/isConstant",m.isManaged="~lib/builtins/isManaged",m.isVoid="~lib/builtins/isVoid",m.add="~lib/builtins/add",m.sub="~lib/builtins/sub",m.mul="~lib/builtins/mul",m.div="~lib/builtins/div",m.clz="~lib/builtins/clz",m.ctz="~lib/builtins/ctz",m.popcnt="~lib/builtins/popcnt",m.rotl="~lib/builtins/rotl",m.rotr="~lib/builtins/rotr",m.abs="~lib/builtins/abs",m.max="~lib/builtins/max",m.min="~lib/builtins/min",m.ceil="~lib/builtins/ceil",m.floor="~lib/builtins/floor",m.copysign="~lib/builtins/copysign",m.nearest="~lib/builtins/nearest",m.reinterpret="~lib/builtins/reinterpret",m.sqrt="~lib/builtins/sqrt",m.trunc="~lib/builtins/trunc",m.load="~lib/builtins/load",m.store="~lib/builtins/store",m.atomic_load="~lib/builtins/atomic.load",m.atomic_store="~lib/builtins/atomic.store",m.atomic_add="~lib/builtins/atomic.add",m.atomic_sub="~lib/builtins/atomic.sub",m.atomic_and="~lib/builtins/atomic.and",m.atomic_or="~lib/builtins/atomic.or",m.atomic_xor="~lib/builtins/atomic.xor",m.atomic_xchg="~lib/builtins/atomic.xchg",m.atomic_cmpxchg="~lib/builtins/atomic.cmpxchg",m.atomic_wait="~lib/builtins/atomic.wait",m.atomic_notify="~lib/builtins/atomic.notify",m.atomic_fence="~lib/builtins/atomic.fence",m.sizeof="~lib/builtins/sizeof",m.alignof="~lib/builtins/alignof",m.offsetof="~lib/builtins/offsetof",m.nameof="~lib/builtins/nameof",m.lengthof="~lib/builtins/lengthof",m.select="~lib/builtins/select",m.unreachable="~lib/builtins/unreachable",m.changetype="~lib/builtins/changetype",m.assert="~lib/builtins/assert",m.call_indirect="~lib/builtins/call_indirect",m.unchecked="~lib/builtins/unchecked",m.instantiate="~lib/builtins/instantiate",m.idof="~lib/builtins/idof",m.i8="~lib/builtins/i8",m.i16="~lib/builtins/i16",m.i32="~lib/builtins/i32",m.i64="~lib/builtins/i64",m.isize="~lib/builtins/isize",m.u8="~lib/builtins/u8",m.u16="~lib/builtins/u16",m.u32="~lib/builtins/u32",m.u64="~lib/builtins/u64",m.usize="~lib/builtins/usize",m.bool="~lib/builtins/bool",m.f32="~lib/builtins/f32",m.f64="~lib/builtins/f64",m.v128="~lib/builtins/v128",m.i32_clz="~lib/builtins/i32.clz",m.i64_clz="~lib/builtins/i64.clz",m.i32_ctz="~lib/builtins/i32.ctz",m.i64_ctz="~lib/builtins/i64.ctz",m.i32_popcnt="~lib/builtins/i32.popcnt",m.i64_popcnt="~lib/builtins/i64.popcnt",m.i32_rotl="~lib/builtins/i32.rotl",m.i64_rotl="~lib/builtins/i64.rotl",m.i32_rotr="~lib/builtins/i32.rotr",m.i64_rotr="~lib/builtins/i64.rotr",m.f32_abs="~lib/builtins/f32.abs",m.f64_abs="~lib/builtins/f64.abs",m.f32_max="~lib/builtins/f32.max",m.f64_max="~lib/builtins/f64.max",m.f32_min="~lib/builtins/f32.min",m.f64_min="~lib/builtins/f64.min",m.f32_ceil="~lib/builtins/f32.ceil",m.f64_ceil="~lib/builtins/f64.ceil",m.f32_floor="~lib/builtins/f32.floor",m.f64_floor="~lib/builtins/f64.floor",m.f32_copysign="~lib/builtins/f32.copysign",m.f64_copysign="~lib/builtins/f64.copysign",m.f32_nearest="~lib/builtins/f32.nearest",m.f64_nearest="~lib/builtins/f64.nearest",m.i32_reinterpret_f32="~lib/builtins/i32.reinterpret_f32",m.i64_reinterpret_f64="~lib/builtins/i64.reinterpret_f64",m.f32_reinterpret_i32="~lib/builtins/f32.reinterpret_i32",m.f64_reinterpret_i64="~lib/builtins/f64.reinterpret_i64",m.f32_sqrt="~lib/builtins/f32.sqrt",m.f64_sqrt="~lib/builtins/f64.sqrt",m.f32_trunc="~lib/builtins/f32.trunc",m.f64_trunc="~lib/builtins/f64.trunc",m.i32_add="~lib/builtins/i32.add",m.i64_add="~lib/builtins/i64.add",m.f32_add="~lib/builtins/f32.add",m.f64_add="~lib/builtins/f64.add",m.i32_sub="~lib/builtins/i32.sub",m.i64_sub="~lib/builtins/i64.sub",m.f32_sub="~lib/builtins/f32.sub",m.f64_sub="~lib/builtins/f64.sub",m.i32_mul="~lib/builtins/i32.mul",m.i64_mul="~lib/builtins/i64.mul",m.f32_mul="~lib/builtins/f32.mul",m.f64_mul="~lib/builtins/f64.mul",m.i32_div_s="~lib/builtins/i32.div_s",m.i32_div_u="~lib/builtins/i32.div_u",m.i64_div_s="~lib/builtins/i64.div_s",m.i64_div_u="~lib/builtins/i64.div_u",m.f32_div="~lib/builtins/f32.div",m.f64_div="~lib/builtins/f64.div",m.i32_load8_s="~lib/builtins/i32.load8_s",m.i32_load8_u="~lib/builtins/i32.load8_u",m.i32_load16_s="~lib/builtins/i32.load16_s",m.i32_load16_u="~lib/builtins/i32.load16_u",m.i32_load="~lib/builtins/i32.load",m.i64_load8_s="~lib/builtins/i64.load8_s",m.i64_load8_u="~lib/builtins/i64.load8_u",m.i64_load16_s="~lib/builtins/i64.load16_s",m.i64_load16_u="~lib/builtins/i64.load16_u",m.i64_load32_s="~lib/builtins/i64.load32_s",m.i64_load32_u="~lib/builtins/i64.load32_u",m.i64_load="~lib/builtins/i64.load",m.f32_load="~lib/builtins/f32.load",m.f64_load="~lib/builtins/f64.load",m.i32_store8="~lib/builtins/i32.store8",m.i32_store16="~lib/builtins/i32.store16",m.i32_store="~lib/builtins/i32.store",m.i64_store8="~lib/builtins/i64.store8",m.i64_store16="~lib/builtins/i64.store16",m.i64_store32="~lib/builtins/i64.store32",m.i64_store="~lib/builtins/i64.store",m.f32_store="~lib/builtins/f32.store",m.f64_store="~lib/builtins/f64.store",m.i32_atomic_load8_u="~lib/builtins/i32.atomic.load8_u",m.i32_atomic_load16_u="~lib/builtins/i32.atomic.load16_u",m.i32_atomic_load="~lib/builtins/i32.atomic.load",m.i64_atomic_load8_u="~lib/builtins/i64.atomic.load8_u",m.i64_atomic_load16_u="~lib/builtins/i64.atomic.load16_u",m.i64_atomic_load32_u="~lib/builtins/i64.atomic.load32_u",m.i64_atomic_load="~lib/builtins/i64.atomic.load",m.i32_atomic_store8="~lib/builtins/i32.atomic.store8",m.i32_atomic_store16="~lib/builtins/i32.atomic.store16",m.i32_atomic_store="~lib/builtins/i32.atomic.store",m.i64_atomic_store8="~lib/builtins/i64.atomic.store8",m.i64_atomic_store16="~lib/builtins/i64.atomic.store16",m.i64_atomic_store32="~lib/builtins/i64.atomic.store32",m.i64_atomic_store="~lib/builtins/i64.atomic.store",m.i32_atomic_rmw8_add_u="~lib/builtins/i32.atomic.rmw8.add_u",m.i32_atomic_rmw16_add_u="~lib/builtins/i32.atomic.rmw16.add_u",m.i32_atomic_rmw_add="~lib/builtins/i32.atomic.rmw.add",m.i64_atomic_rmw8_add_u="~lib/builtins/i64.atomic.rmw8.add_u",m.i64_atomic_rmw16_add_u="~lib/builtins/i64.atomic.rmw16.add_u",m.i64_atomic_rmw32_add_u="~lib/builtins/i64.atomic.rmw32.add_u",m.i64_atomic_rmw_add="~lib/builtins/i64.atomic.rmw.add",m.i32_atomic_rmw8_sub_u="~lib/builtins/i32.atomic.rmw8.sub_u",m.i32_atomic_rmw16_sub_u="~lib/builtins/i32.atomic.rmw16.sub_u",m.i32_atomic_rmw_sub="~lib/builtins/i32.atomic.rmw.sub",m.i64_atomic_rmw8_sub_u="~lib/builtins/i64.atomic.rmw8.sub_u",m.i64_atomic_rmw16_sub_u="~lib/builtins/i64.atomic.rmw16.sub_u",m.i64_atomic_rmw32_sub_u="~lib/builtins/i64.atomic.rmw32.sub_u",m.i64_atomic_rmw_sub="~lib/builtins/i64.atomic.rmw.sub",m.i32_atomic_rmw8_and_u="~lib/builtins/i32.atomic.rmw8.and_u",m.i32_atomic_rmw16_and_u="~lib/builtins/i32.atomic.rmw16.and_u",m.i32_atomic_rmw_and="~lib/builtins/i32.atomic.rmw.and",m.i64_atomic_rmw8_and_u="~lib/builtins/i64.atomic.rmw8.and_u",m.i64_atomic_rmw16_and_u="~lib/builtins/i64.atomic.rmw16.and_u",m.i64_atomic_rmw32_and_u="~lib/builtins/i64.atomic.rmw32.and_u",m.i64_atomic_rmw_and="~lib/builtins/i64.atomic.rmw.and",m.i32_atomic_rmw8_or_u="~lib/builtins/i32.atomic.rmw8.or_u",m.i32_atomic_rmw16_or_u="~lib/builtins/i32.atomic.rmw16.or_u",m.i32_atomic_rmw_or="~lib/builtins/i32.atomic.rmw.or",m.i64_atomic_rmw8_or_u="~lib/builtins/i64.atomic.rmw8.or_u",m.i64_atomic_rmw16_or_u="~lib/builtins/i64.atomic.rmw16.or_u",m.i64_atomic_rmw32_or_u="~lib/builtins/i64.atomic.rmw32.or_u",m.i64_atomic_rmw_or="~lib/builtins/i64.atomic.rmw.or",m.i32_atomic_rmw8_xor_u="~lib/builtins/i32.atomic.rmw8.xor_u",m.i32_atomic_rmw16_xor_u="~lib/builtins/i32.atomic.rmw16.xor_u",m.i32_atomic_rmw_xor="~lib/builtins/i32.atomic.rmw.xor",m.i64_atomic_rmw8_xor_u="~lib/builtins/i64.atomic.rmw8.xor_u",m.i64_atomic_rmw16_xor_u="~lib/builtins/i64.atomic.rmw16.xor_u",m.i64_atomic_rmw32_xor_u="~lib/builtins/i64.atomic.rmw32.xor_u",m.i64_atomic_rmw_xor="~lib/builtins/i64.atomic.rmw.xor",m.i32_atomic_rmw8_xchg_u="~lib/builtins/i32.atomic.rmw8.xchg_u",m.i32_atomic_rmw16_xchg_u="~lib/builtins/i32.atomic.rmw16.xchg_u",m.i32_atomic_rmw_xchg="~lib/builtins/i32.atomic.rmw.xchg",m.i64_atomic_rmw8_xchg_u="~lib/builtins/i64.atomic.rmw8.xchg_u",m.i64_atomic_rmw16_xchg_u="~lib/builtins/i64.atomic.rmw16.xchg_u",m.i64_atomic_rmw32_xchg_u="~lib/builtins/i64.atomic.rmw32.xchg_u",m.i64_atomic_rmw_xchg="~lib/builtins/i64.atomic.rmw.xchg",m.i32_atomic_rmw8_cmpxchg_u="~lib/builtins/i32.atomic.rmw8.cmpxchg_u",m.i32_atomic_rmw16_cmpxchg_u="~lib/builtins/i32.atomic.rmw16.cmpxchg_u",m.i32_atomic_rmw_cmpxchg="~lib/builtins/i32.atomic.rmw.cmpxchg",m.i64_atomic_rmw8_cmpxchg_u="~lib/builtins/i64.atomic.rmw8.cmpxchg_u",m.i64_atomic_rmw16_cmpxchg_u="~lib/builtins/i64.atomic.rmw16.cmpxchg_u",m.i64_atomic_rmw32_cmpxchg_u="~lib/builtins/i64.atomic.rmw32.cmpxchg_u",m.i64_atomic_rmw_cmpxchg="~lib/builtins/i64.atomic.rmw.cmpxchg",m.i32_wait="~lib/builtins/i32.wait",m.i64_wait="~lib/builtins/i64.wait",m.v128_splat="~lib/builtins/v128.splat",m.v128_extract_lane="~lib/builtins/v128.extract_lane",m.v128_replace_lane="~lib/builtins/v128.replace_lane",m.v128_shuffle="~lib/builtins/v128.shuffle",m.v128_swizzle="~lib/builtins/v128.swizzle",m.v128_load_splat="~lib/builtins/v128.load_splat",m.v128_load_ext="~lib/builtins/v128.load_ext",m.v128_load_zero="~lib/builtins/v128.load_zero",m.v128_load_lane="~lib/builtins/v128.load_lane",m.v128_store_lane="~lib/builtins/v128.store_lane",m.v128_load="~lib/builtins/v128.load",m.v128_load8x8_s="~lib/builtins/v128.load8x8_s",m.v128_load8x8_u="~lib/builtins/v128.load8x8_u",m.v128_load16x4_s="~lib/builtins/v128.load16x4_s",m.v128_load16x4_u="~lib/builtins/v128.load16x4_u",m.v128_load32x2_s="~lib/builtins/v128.load32x2_s",m.v128_load32x2_u="~lib/builtins/v128.load32x2_u",m.v128_load8_splat="~lib/builtins/v128.load8_splat",m.v128_load16_splat="~lib/builtins/v128.load16_splat",m.v128_load32_splat="~lib/builtins/v128.load32_splat",m.v128_load64_splat="~lib/builtins/v128.load64_splat",m.v128_load32_zero="~lib/builtins/v128.load32_zero",m.v128_load64_zero="~lib/builtins/v128.load64_zero",m.v128_load8_lane="~lib/builtins/v128.load8_lane",m.v128_load16_lane="~lib/builtins/v128.load16_lane",m.v128_load32_lane="~lib/builtins/v128.load32_lane",m.v128_load64_lane="~lib/builtins/v128.load64_lane",m.v128_store8_lane="~lib/builtins/v128.store8_lane",m.v128_store16_lane="~lib/builtins/v128.store16_lane",m.v128_store32_lane="~lib/builtins/v128.store32_lane",m.v128_store64_lane="~lib/builtins/v128.store64_lane",m.v128_store="~lib/builtins/v128.store",m.v128_add="~lib/builtins/v128.add",m.v128_sub="~lib/builtins/v128.sub",m.v128_mul="~lib/builtins/v128.mul",m.v128_div="~lib/builtins/v128.div",m.v128_neg="~lib/builtins/v128.neg",m.v128_add_sat="~lib/builtins/v128.add_sat",m.v128_sub_sat="~lib/builtins/v128.sub_sat",m.v128_shl="~lib/builtins/v128.shl",m.v128_shr="~lib/builtins/v128.shr",m.v128_and="~lib/builtins/v128.and",m.v128_or="~lib/builtins/v128.or",m.v128_xor="~lib/builtins/v128.xor",m.v128_andnot="~lib/builtins/v128.andnot",m.v128_not="~lib/builtins/v128.not",m.v128_bitselect="~lib/builtins/v128.bitselect",m.v128_any_true="~lib/builtins/v128.any_true",m.v128_all_true="~lib/builtins/v128.all_true",m.v128_bitmask="~lib/builtins/v128.bitmask",m.v128_popcnt="~lib/builtins/v128.popcnt",m.v128_min="~lib/builtins/v128.min",m.v128_max="~lib/builtins/v128.max",m.v128_pmin="~lib/builtins/v128.pmin",m.v128_pmax="~lib/builtins/v128.pmax",m.v128_dot="~lib/builtins/v128.dot",m.v128_avgr="~lib/builtins/v128.avgr",m.v128_abs="~lib/builtins/v128.abs",m.v128_sqrt="~lib/builtins/v128.sqrt",m.v128_ceil="~lib/builtins/v128.ceil",m.v128_floor="~lib/builtins/v128.floor",m.v128_trunc="~lib/builtins/v128.trunc",m.v128_nearest="~lib/builtins/v128.nearest",m.v128_eq="~lib/builtins/v128.eq",m.v128_ne="~lib/builtins/v128.ne",m.v128_lt="~lib/builtins/v128.lt",m.v128_le="~lib/builtins/v128.le",m.v128_gt="~lib/builtins/v128.gt",m.v128_ge="~lib/builtins/v128.ge",m.v128_convert="~lib/builtins/v128.convert",m.v128_convert_low="~lib/builtins/v128.convert_low",m.v128_trunc_sat="~lib/builtins/v128.trunc_sat",m.v128_trunc_sat_zero="~lib/builtins/v128.trunc_sat_zero",m.v128_narrow="~lib/builtins/v128.narrow",m.v128_extend_low="~lib/builtins/v128.extend_low",m.v128_extend_high="~lib/builtins/v128.extend_high",m.v128_extadd_pairwise="~lib/builtins/v128.extadd_pairwise",m.v128_demote_zero="~lib/builtins/v128.demote_zero",m.v128_promote_low="~lib/builtins/v128.promote_low",m.v128_q15mulr_sat="~lib/builtins/v128.q15mulr_sat",m.v128_extmul_low="~lib/builtins/v128.extmul_low",m.v128_extmul_high="~lib/builtins/v128.extmul_high",m.i8x16="~lib/builtins/i8x16",m.i16x8="~lib/builtins/i16x8",m.i32x4="~lib/builtins/i32x4",m.i64x2="~lib/builtins/i64x2",m.f32x4="~lib/builtins/f32x4",m.f64x2="~lib/builtins/f64x2",m.i8x16_splat="~lib/builtins/i8x16.splat",m.i8x16_extract_lane_s="~lib/builtins/i8x16.extract_lane_s",m.i8x16_extract_lane_u="~lib/builtins/i8x16.extract_lane_u",m.i8x16_replace_lane="~lib/builtins/i8x16.replace_lane",m.i8x16_add="~lib/builtins/i8x16.add",m.i8x16_sub="~lib/builtins/i8x16.sub",m.i8x16_mul="~lib/builtins/i8x16.mul",m.i8x16_min_s="~lib/builtins/i8x16.min_s",m.i8x16_min_u="~lib/builtins/i8x16.min_u",m.i8x16_max_s="~lib/builtins/i8x16.max_s",m.i8x16_max_u="~lib/builtins/i8x16.max_u",m.i8x16_avgr_u="~lib/builtins/i8x16.avgr_u",m.i8x16_abs="~lib/builtins/i8x16.abs",m.i8x16_neg="~lib/builtins/i8x16.neg",m.i8x16_add_sat_s="~lib/builtins/i8x16.add_sat_s",m.i8x16_add_sat_u="~lib/builtins/i8x16.add_sat_u",m.i8x16_sub_sat_s="~lib/builtins/i8x16.sub_sat_s",m.i8x16_sub_sat_u="~lib/builtins/i8x16.sub_sat_u",m.i8x16_shl="~lib/builtins/i8x16.shl",m.i8x16_shr_s="~lib/builtins/i8x16.shr_s",m.i8x16_shr_u="~lib/builtins/i8x16.shr_u",m.i8x16_all_true="~lib/builtins/i8x16.all_true",m.i8x16_bitmask="~lib/builtins/i8x16.bitmask",m.i8x16_popcnt="~lib/builtins/i8x16.popcnt",m.i8x16_eq="~lib/builtins/i8x16.eq",m.i8x16_ne="~lib/builtins/i8x16.ne",m.i8x16_lt_s="~lib/builtins/i8x16.lt_s",m.i8x16_lt_u="~lib/builtins/i8x16.lt_u",m.i8x16_le_s="~lib/builtins/i8x16.le_s",m.i8x16_le_u="~lib/builtins/i8x16.le_u",m.i8x16_gt_s="~lib/builtins/i8x16.gt_s",m.i8x16_gt_u="~lib/builtins/i8x16.gt_u",m.i8x16_ge_s="~lib/builtins/i8x16.ge_s",m.i8x16_ge_u="~lib/builtins/i8x16.ge_u",m.i8x16_narrow_i16x8_s="~lib/builtins/i8x16.narrow_i16x8_s",m.i8x16_narrow_i16x8_u="~lib/builtins/i8x16.narrow_i16x8_u",m.i8x16_shuffle="~lib/builtins/i8x16.shuffle",m.i8x16_swizzle="~lib/builtins/i8x16.swizzle",m.i16x8_splat="~lib/builtins/i16x8.splat",m.i16x8_extract_lane_s="~lib/builtins/i16x8.extract_lane_s",m.i16x8_extract_lane_u="~lib/builtins/i16x8.extract_lane_u",m.i16x8_replace_lane="~lib/builtins/i16x8.replace_lane",m.i16x8_add="~lib/builtins/i16x8.add",m.i16x8_sub="~lib/builtins/i16x8.sub",m.i16x8_mul="~lib/builtins/i16x8.mul",m.i16x8_min_s="~lib/builtins/i16x8.min_s",m.i16x8_min_u="~lib/builtins/i16x8.min_u",m.i16x8_max_s="~lib/builtins/i16x8.max_s",m.i16x8_max_u="~lib/builtins/i16x8.max_u",m.i16x8_avgr_u="~lib/builtins/i16x8.avgr_u",m.i16x8_abs="~lib/builtins/i16x8.abs",m.i16x8_neg="~lib/builtins/i16x8.neg",m.i16x8_add_sat_s="~lib/builtins/i16x8.add_sat_s",m.i16x8_add_sat_u="~lib/builtins/i16x8.add_sat_u",m.i16x8_sub_sat_s="~lib/builtins/i16x8.sub_sat_s",m.i16x8_sub_sat_u="~lib/builtins/i16x8.sub_sat_u",m.i16x8_shl="~lib/builtins/i16x8.shl",m.i16x8_shr_s="~lib/builtins/i16x8.shr_s",m.i16x8_shr_u="~lib/builtins/i16x8.shr_u",m.i16x8_all_true="~lib/builtins/i16x8.all_true",m.i16x8_bitmask="~lib/builtins/i16x8.bitmask",m.i16x8_eq="~lib/builtins/i16x8.eq",m.i16x8_ne="~lib/builtins/i16x8.ne",m.i16x8_lt_s="~lib/builtins/i16x8.lt_s",m.i16x8_lt_u="~lib/builtins/i16x8.lt_u",m.i16x8_le_s="~lib/builtins/i16x8.le_s",m.i16x8_le_u="~lib/builtins/i16x8.le_u",m.i16x8_gt_s="~lib/builtins/i16x8.gt_s",m.i16x8_gt_u="~lib/builtins/i16x8.gt_u",m.i16x8_ge_s="~lib/builtins/i16x8.ge_s",m.i16x8_ge_u="~lib/builtins/i16x8.ge_u",m.i16x8_narrow_i32x4_s="~lib/builtins/i16x8.narrow_i32x4_s",m.i16x8_narrow_i32x4_u="~lib/builtins/i16x8.narrow_i32x4_u",m.i16x8_extend_low_i8x16_s="~lib/builtins/i16x8.extend_low_i8x16_s",m.i16x8_extend_low_i8x16_u="~lib/builtins/i16x8.extend_low_i8x16_u",m.i16x8_extend_high_i8x16_s="~lib/builtins/i16x8.extend_high_i8x16_s",m.i16x8_extend_high_i8x16_u="~lib/builtins/i16x8.extend_high_i8x16_u",m.i16x8_extadd_pairwise_i8x16_s="~lib/builtins/i16x8.extadd_pairwise_i8x16_s",m.i16x8_extadd_pairwise_i8x16_u="~lib/builtins/i16x8.extadd_pairwise_i8x16_u",m.i16x8_q15mulr_sat_s="~lib/builtins/i16x8.q15mulr_sat_s",m.i16x8_extmul_low_i8x16_s="~lib/builtins/i16x8.extmul_low_i8x16_s",m.i16x8_extmul_low_i8x16_u="~lib/builtins/i16x8.extmul_low_i8x16_u",m.i16x8_extmul_high_i8x16_s="~lib/builtins/i16x8.extmul_high_i8x16_s",m.i16x8_extmul_high_i8x16_u="~lib/builtins/i16x8.extmul_high_i8x16_u",m.i32x4_splat="~lib/builtins/i32x4.splat",m.i32x4_extract_lane="~lib/builtins/i32x4.extract_lane",m.i32x4_replace_lane="~lib/builtins/i32x4.replace_lane",m.i32x4_add="~lib/builtins/i32x4.add",m.i32x4_sub="~lib/builtins/i32x4.sub",m.i32x4_mul="~lib/builtins/i32x4.mul",m.i32x4_min_s="~lib/builtins/i32x4.min_s",m.i32x4_min_u="~lib/builtins/i32x4.min_u",m.i32x4_max_s="~lib/builtins/i32x4.max_s",m.i32x4_max_u="~lib/builtins/i32x4.max_u",m.i32x4_dot_i16x8_s="~lib/builtins/i32x4.dot_i16x8_s",m.i32x4_abs="~lib/builtins/i32x4.abs",m.i32x4_neg="~lib/builtins/i32x4.neg",m.i32x4_shl="~lib/builtins/i32x4.shl",m.i32x4_shr_s="~lib/builtins/i32x4.shr_s",m.i32x4_shr_u="~lib/builtins/i32x4.shr_u",m.i32x4_all_true="~lib/builtins/i32x4.all_true",m.i32x4_bitmask="~lib/builtins/i32x4.bitmask",m.i32x4_eq="~lib/builtins/i32x4.eq",m.i32x4_ne="~lib/builtins/i32x4.ne",m.i32x4_lt_s="~lib/builtins/i32x4.lt_s",m.i32x4_lt_u="~lib/builtins/i32x4.lt_u",m.i32x4_le_s="~lib/builtins/i32x4.le_s",m.i32x4_le_u="~lib/builtins/i32x4.le_u",m.i32x4_gt_s="~lib/builtins/i32x4.gt_s",m.i32x4_gt_u="~lib/builtins/i32x4.gt_u",m.i32x4_ge_s="~lib/builtins/i32x4.ge_s",m.i32x4_ge_u="~lib/builtins/i32x4.ge_u",m.i32x4_trunc_sat_f32x4_s="~lib/builtins/i32x4.trunc_sat_f32x4_s",m.i32x4_trunc_sat_f32x4_u="~lib/builtins/i32x4.trunc_sat_f32x4_u",m.i32x4_trunc_sat_f64x2_s_zero="~lib/builtins/i32x4.trunc_sat_f64x2_s_zero",m.i32x4_trunc_sat_f64x2_u_zero="~lib/builtins/i32x4.trunc_sat_f64x2_u_zero",m.i32x4_extend_low_i16x8_s="~lib/builtins/i32x4.extend_low_i16x8_s",m.i32x4_extend_low_i16x8_u="~lib/builtins/i32x4.extend_low_i16x8_u",m.i32x4_extend_high_i16x8_s="~lib/builtins/i32x4.extend_high_i16x8_s",m.i32x4_extend_high_i16x8_u="~lib/builtins/i32x4.extend_high_i16x8_u",m.i32x4_extadd_pairwise_i16x8_s="~lib/builtins/i32x4.extadd_pairwise_i16x8_s",m.i32x4_extadd_pairwise_i16x8_u="~lib/builtins/i32x4.extadd_pairwise_i16x8_u",m.i32x4_extmul_low_i16x8_s="~lib/builtins/i32x4.extmul_low_i16x8_s",m.i32x4_extmul_low_i16x8_u="~lib/builtins/i32x4.extmul_low_i16x8_u",m.i32x4_extmul_high_i16x8_s="~lib/builtins/i32x4.extmul_high_i16x8_s",m.i32x4_extmul_high_i16x8_u="~lib/builtins/i32x4.extmul_high_i16x8_u",m.i64x2_splat="~lib/builtins/i64x2.splat",m.i64x2_extract_lane="~lib/builtins/i64x2.extract_lane",m.i64x2_replace_lane="~lib/builtins/i64x2.replace_lane",m.i64x2_add="~lib/builtins/i64x2.add",m.i64x2_sub="~lib/builtins/i64x2.sub",m.i64x2_mul="~lib/builtins/i64x2.mul",m.i64x2_abs="~lib/builtins/i64x2.abs",m.i64x2_neg="~lib/builtins/i64x2.neg",m.i64x2_shl="~lib/builtins/i64x2.shl",m.i64x2_shr_s="~lib/builtins/i64x2.shr_s",m.i64x2_shr_u="~lib/builtins/i64x2.shr_u",m.i64x2_all_true="~lib/builtins/i64x2.all_true",m.i64x2_bitmask="~lib/builtins/i64x2.bitmask",m.i64x2_eq="~lib/builtins/i64x2.eq",m.i64x2_ne="~lib/builtins/i64x2.ne",m.i64x2_lt_s="~lib/builtins/i64x2.lt_s",m.i64x2_lt_u="~lib/builtins/i64x2.lt_u",m.i64x2_le_s="~lib/builtins/i64x2.le_s",m.i64x2_le_u="~lib/builtins/i64x2.le_u",m.i64x2_gt_s="~lib/builtins/i64x2.gt_s",m.i64x2_gt_u="~lib/builtins/i64x2.gt_u",m.i64x2_ge_s="~lib/builtins/i64x2.ge_s",m.i64x2_ge_u="~lib/builtins/i64x2.ge_u",m.i64x2_extend_low_i32x4_s="~lib/builtins/i64x2.extend_low_i32x4_s",m.i64x2_extend_low_i32x4_u="~lib/builtins/i64x2.extend_low_i32x4_u",m.i64x2_extend_high_i32x4_s="~lib/builtins/i64x2.extend_high_i32x4_s",m.i64x2_extend_high_i32x4_u="~lib/builtins/i64x2.extend_high_i32x4_u",m.i64x2_extmul_low_i32x4_s="~lib/builtins/i64x2.extmul_low_i32x4_s",m.i64x2_extmul_low_i32x4_u="~lib/builtins/i64x2.extmul_low_i32x4_u",m.i64x2_extmul_high_i32x4_s="~lib/builtins/i64x2.extmul_high_i32x4_s",m.i64x2_extmul_high_i32x4_u="~lib/builtins/i64x2.extmul_high_i32x4_u",m.f32x4_splat="~lib/builtins/f32x4.splat",m.f32x4_extract_lane="~lib/builtins/f32x4.extract_lane",m.f32x4_replace_lane="~lib/builtins/f32x4.replace_lane",m.f32x4_add="~lib/builtins/f32x4.add",m.f32x4_sub="~lib/builtins/f32x4.sub",m.f32x4_mul="~lib/builtins/f32x4.mul",m.f32x4_div="~lib/builtins/f32x4.div",m.f32x4_neg="~lib/builtins/f32x4.neg",m.f32x4_min="~lib/builtins/f32x4.min",m.f32x4_max="~lib/builtins/f32x4.max",m.f32x4_pmin="~lib/builtins/f32x4.pmin",m.f32x4_pmax="~lib/builtins/f32x4.pmax",m.f32x4_abs="~lib/builtins/f32x4.abs",m.f32x4_sqrt="~lib/builtins/f32x4.sqrt",m.f32x4_ceil="~lib/builtins/f32x4.ceil",m.f32x4_floor="~lib/builtins/f32x4.floor",m.f32x4_trunc="~lib/builtins/f32x4.trunc",m.f32x4_nearest="~lib/builtins/f32x4.nearest",m.f32x4_eq="~lib/builtins/f32x4.eq",m.f32x4_ne="~lib/builtins/f32x4.ne",m.f32x4_lt="~lib/builtins/f32x4.lt",m.f32x4_le="~lib/builtins/f32x4.le",m.f32x4_gt="~lib/builtins/f32x4.gt",m.f32x4_ge="~lib/builtins/f32x4.ge",m.f32x4_convert_i32x4_s="~lib/builtins/f32x4.convert_i32x4_s",m.f32x4_convert_i32x4_u="~lib/builtins/f32x4.convert_i32x4_u",m.f32x4_demote_f64x2_zero="~lib/builtins/f32x4.demote_f64x2_zero",m.f64x2_splat="~lib/builtins/f64x2.splat",m.f64x2_extract_lane="~lib/builtins/f64x2.extract_lane",m.f64x2_replace_lane="~lib/builtins/f64x2.replace_lane",m.f64x2_add="~lib/builtins/f64x2.add",m.f64x2_sub="~lib/builtins/f64x2.sub",m.f64x2_mul="~lib/builtins/f64x2.mul",m.f64x2_div="~lib/builtins/f64x2.div",m.f64x2_neg="~lib/builtins/f64x2.neg",m.f64x2_min="~lib/builtins/f64x2.min",m.f64x2_max="~lib/builtins/f64x2.max",m.f64x2_pmin="~lib/builtins/f64x2.pmin",m.f64x2_pmax="~lib/builtins/f64x2.pmax",m.f64x2_abs="~lib/builtins/f64x2.abs",m.f64x2_sqrt="~lib/builtins/f64x2.sqrt",m.f64x2_ceil="~lib/builtins/f64x2.ceil",m.f64x2_floor="~lib/builtins/f64x2.floor",m.f64x2_trunc="~lib/builtins/f64x2.trunc",m.f64x2_nearest="~lib/builtins/f64x2.nearest",m.f64x2_eq="~lib/builtins/f64x2.eq",m.f64x2_ne="~lib/builtins/f64x2.ne",m.f64x2_lt="~lib/builtins/f64x2.lt",m.f64x2_le="~lib/builtins/f64x2.le",m.f64x2_gt="~lib/builtins/f64x2.gt",m.f64x2_ge="~lib/builtins/f64x2.ge",m.f64x2_convert_low_i32x4_s="~lib/builtins/f64x2.convert_low_i32x4_s",m.f64x2_convert_low_i32x4_u="~lib/builtins/f64x2.convert_low_i32x4_u",m.f64x2_promote_low_f32x4="~lib/builtins/f64x2.promote_low_f32x4",m.i31_new="~lib/builtins/i31.new",m.i31_get="~lib/builtins/i31.get",m.data_end="~lib/memory/__data_end",m.stack_pointer="~lib/memory/__stack_pointer",m.heap_base="~lib/memory/__heap_base",m.rtti_base="~lib/rt/__rtti_base",m.visit_globals="~lib/rt/__visit_globals",m.visit_members="~lib/rt/__visit_members",m.tostack="~lib/rt/__tostack",m.isNaN="~lib/number/isNaN",m.isFinite="~lib/number/isFinite",m.ERROR="~lib/diagnostics/ERROR",m.WARNING="~lib/diagnostics/WARNING",m.INFO="~lib/diagnostics/INFO",m.Function="~lib/function/Function",m.memory_size="~lib/memory/memory.size",m.memory_grow="~lib/memory/memory.grow",m.memory_copy="~lib/memory/memory.copy",m.memory_fill="~lib/memory/memory.fill",m.memory_data="~lib/memory/memory.data",m.Int8Array="~lib/typedarray/Int8Array",m.Uint8Array="~lib/typedarray/Uint8Array",m.Uint8ClampedArray="~lib/typedarray/Uint8ClampedArray",m.Int16Array="~lib/typedarray/Int16Array",m.Uint16Array="~lib/typedarray/Uint16Array",m.Int32Array="~lib/typedarray/Int32Array",m.Uint32Array="~lib/typedarray/Uint32Array",m.Int64Array="~lib/typedarray/Int64Array",m.Uint64Array="~lib/typedarray/Uint64Array",m.Float32Array="~lib/typedarray/Float32Array",m.Float64Array="~lib/typedarray/Float64Array",m.String_raw="~lib/string/String.raw",m.String_eq="~lib/string/String.__eq",m.String_ne="~lib/string/String.__ne",m.String_not="~lib/string/String.__not",m.wasiAbort="~lib/wasi/index/abort",m.wasiTrace="~lib/wasi/index/trace",m.wasiSeed="~lib/wasi/index/seed"))(h||={});var Xl=class{constructor(e,t,i,n,s,a,o,l){this.compiler=e;this.prototype=t;this.typeArguments=i;this.operands=n;this.thisOperand=s;this.contextualType=a;this.reportNode=o;this.contextIsExact=l}},d=new Map,ks=new Map;function Qd(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isIntegerValue?1:0)):t.unreachable()}d.set(h.isInteger,Qd);function Zd(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isFloatValue?1:0)):t.unreachable()}d.set(h.isFloat,Zd);function jd(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isBooleanValue?1:0)):t.unreachable()}d.set(h.isBoolean,jd);function Jd(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isSignedIntegerValue?1:0)):t.unreachable()}d.set(h.isSigned,Jd);function $d(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isReference?1:0)):t.unreachable()}d.set(h.isReference,$d);function eE(r){var e=r.compiler,t=e.module,i=Se(r);if(e.currentType=u.bool,!i)return t.unreachable();var n=i.getClass();return be(r,t.i32(n&&n.isAssignableTo(e.program.stringInstance)?1:0))}d.set(h.isString,eE);function tE(r){var e=r.compiler,t=e.module,i=Se(r);if(e.currentType=u.bool,!i)return t.unreachable();var n=i.getClass();return be(r,t.i32(n&&n.extends(e.program.arrayPrototype)?1:0))}d.set(h.isArray,tE);function rE(r){var e=r.compiler,t=e.module,i=Se(r);if(e.currentType=u.bool,!i)return t.unreachable();var n=i.getClass();return be(r,t.i32(n&&n.isArrayLike?1:0))}d.set(h.isArrayLike,rE);function iE(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isFunction?1:0)):t.unreachable()}d.set(h.isFunction,iE);function nE(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isNullableReference?1:0)):t.unreachable()}d.set(h.isNullable,nE);function sE(r){var e=r.compiler,t=e.module;if(e.currentType=u.bool,T(r)|W(r,1))return t.unreachable();var i=e.resolver.lookupExpression(r.operands[0],e.currentFlow,u.auto,1);return t.i32(i?1:0)}d.set(h.isDefined,sE);function aE(r){var e=r.compiler,t=e.module;if(e.currentType=u.bool,T(r)|W(r,1))return t.unreachable();var i=e.compileExpression(r.operands[0],u.auto);return e.currentType=u.bool,Gs(i,t.ref)?t.block(null,[t.maybeDrop(i),t.i32(0)],le(i)):t.i32(ee(i)==14?1:0)}d.set(h.isConstant,aE);function oE(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.isManaged?1:0)):t.unreachable()}d.set(h.isManaged,oE);function lE(r){var e=r.compiler,t=e.module,i=Se(r);return e.currentType=u.bool,i?be(r,t.i32(i.kind==20?1:0)):t.unreachable()}d.set(h.isVoid,lE);function uE(r){var e=r.compiler,t=e.module,i=Se(r);if(e.currentType=u.i32,!i)return t.unreachable();var n=i.signatureReference;return n?be(r,t.i32(n.parameterTypes.length)):(e.error(2757,r.reportNode.range,i.toString()),t.unreachable())}d.set(h.lengthof,uE);function pE(r){var e=r.compiler,t=e.module;if(e.currentType=e.options.usizeType,X(r)|W(r,0))return t.unreachable();var i=r.typeArguments[0],n=i.byteSize;return n?Bs(e,i64_new(n),r.contextualType):(e.error(203,r.reportNode.typeArgumentsRange,"sizeof",i.toString()),t.unreachable())}d.set(h.sizeof,pE);function cE(r){var e=r.compiler,t=e.module;if(e.currentType=e.options.usizeType,X(r)|W(r,0))return t.unreachable();var i=r.typeArguments[0],n=i.byteSize;return ht(n)?Bs(e,i64_new(ctz(n)),r.contextualType):(e.error(203,r.reportNode.typeArgumentsRange,"alignof",i.toString()),t.unreachable())}d.set(h.alignof,cE);function _E(r){var e=r.compiler,t=e.module;if(e.currentType=e.options.usizeType,X(r)|Ee(r,0,1))return t.unreachable();var i=r.operands,n=r.contextualType,s=r.typeArguments[0],a=s.getClassOrWrapper(e.program);if(!a)return e.error(203,r.reportNode.typeArgumentsRange,"offsetof",s.toString()),e.options.isWasm64?n.isIntegerValue&&n.size<=32&&(e.currentType=u.u32):n.isIntegerValue&&n.size==64&&(e.currentType=u.u64),t.unreachable();if(i.length){let o=i[0];if(!o.isLiteralKind(2))return e.error(1141,i[0].range),t.unreachable();let l=o.value,p=a.members;if(p&&p.has(l)){let c=assert(p.get(l));if(c.kind==11)return Bs(e,i64_new(c.memoryOffset),n)}return e.error(2460,o.range,a.internalName,l),t.unreachable()}return Bs(e,i64_new(a.nextMemoryOffset),n)}d.set(h.offsetof,_E);function fE(r){var e=r.compiler,t=e.module,i=Se(r);if(!i)return e.currentType=e.program.stringInstance.type,t.unreachable();var n;if(i.isInternalReference){let s=i.getClass();s?n=s.name:(assert(i.getSignature()),n="Function")}else n=i.toString();return be(r,e.ensureStaticString(n))}d.set(h.nameof,fE);function hE(r){var e=r.compiler,t=e.module,i=Se(r);if(e.currentType=u.u32,!i)return t.unreachable();let n=i.getSignature();if(n)return be(r,t.i32(n.id));let s=i.getClassOrWrapper(e.program);return s&&!s.hasDecorator(16)?be(r,t.i32(s.id)):(e.error(203,r.reportNode.typeArgumentsRange,"idof",i.toString()),t.unreachable())}d.set(h.idof,hE);function Zl(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.typeArguments,n=i?e.compileExpression(r.operands[0],i[0],5):e.compileExpression(r.operands[0],u.i32,4),s=e.currentType;if(s.isValue)switch(s.kind){case 10:case 0:case 5:case 1:case 6:case 2:case 7:return t.unary(0,n);case 9:case 4:return t.unary(e.options.isWasm64?1:0,n);case 3:case 8:return t.unary(1,n)}return e.error(203,r.reportNode.typeArgumentsRange,"clz",s.toString()),t.unreachable()}d.set(h.clz,Zl);function jl(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],5):e.compileExpression(i[0],u.i32,4),a=e.currentType;if(a.isValue)switch(a.kind){case 10:case 0:case 5:case 1:case 6:case 2:case 7:return t.unary(2,s);case 9:case 4:return t.unary(e.options.isWasm64?3:2,s);case 3:case 8:return t.unary(3,s)}return e.error(203,r.reportNode.typeArgumentsRange,"ctz",a.toString()),t.unreachable()}d.set(h.ctz,jl);function Jl(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],5):e.compileExpression(i[0],u.i32,4),a=e.currentType;if(a.isValue)switch(e.currentType.kind){case 10:return s;case 0:case 5:case 1:case 6:case 2:case 7:return t.unary(4,s);case 3:case 8:return t.unary(5,s);case 4:case 9:return t.unary(e.options.isWasm64?5:4,s)}return e.error(203,r.reportNode.typeArgumentsRange,"popcnt",a.toString()),t.unreachable()}d.set(h.popcnt,Jl);function $l(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],5):e.compileExpression(i[0],u.i32,4),a=e.currentType;if(a.isValue){let o=e.compileExpression(i[1],a,1);switch(a.kind){case 10:return s;case 0:case 1:case 5:case 6:{let l=e.currentFlow,p=l.getTempLocal(a,st(o));l.setLocalFlag(p.index,2);let c=l.getTempLocal(a);l.setLocalFlag(c.index,2);let _=t.binary(8,t.binary(10,t.local_tee(p.index,s,!1),t.binary(7,t.local_tee(c.index,o,!1),t.i32(a.size-1))),t.binary(12,t.local_get(p.index,F.I32),t.binary(7,t.binary(1,t.i32(0),t.local_get(c.index,F.I32)),t.i32(a.size-1))));return l.freeTempLocal(c),l.freeTempLocal(p),_}case 2:case 7:return t.binary(13,s,o);case 9:case 4:return t.binary(e.options.isWasm64?38:13,s,o);case 3:case 8:return t.binary(38,s,o)}}return e.error(203,r.reportNode.typeArgumentsRange,"rotl",a.toString()),t.unreachable()}d.set(h.rotl,$l);function eu(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],5):e.compileExpression(i[0],u.i32,4),a=e.currentType;if(a.isValue){let o=e.compileExpression(i[1],a,1);switch(a.kind){case 10:return s;case 0:case 1:case 5:case 6:{let l=e.currentFlow,p=l.getTempLocal(a,st(o));l.setLocalFlag(p.index,2);let c=l.getTempLocal(a);l.setLocalFlag(c.index,2);let _=t.binary(8,t.binary(12,t.local_tee(p.index,s,!1),t.binary(7,t.local_tee(c.index,o,!1),t.i32(a.size-1))),t.binary(10,t.local_get(p.index,F.I32),t.binary(7,t.binary(1,t.i32(0),t.local_get(c.index,F.I32)),t.i32(a.size-1))));return l.freeTempLocal(c),l.freeTempLocal(p),_}case 2:case 7:return t.binary(14,s,o);case 9:case 4:return t.binary(e.options.isWasm64?39:14,s,o);case 3:case 8:return t.binary(39,s,o)}}return e.error(203,r.reportNode.typeArgumentsRange,"rotr",a.toString()),t.unreachable()}d.set(h.rotr,eu);function tu(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],5):e.compileExpression(i[0],u.auto,4),a=e.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:{let o=e.currentFlow,l=o.getTempLocal(u.i32),p=o.getTempLocal(u.i32),c=t.binary(9,t.binary(0,t.local_tee(p.index,t.binary(11,t.local_tee(l.index,s,!1),t.i32(31)),!1),t.local_get(l.index,F.I32)),t.local_get(p.index,F.I32));return o.freeTempLocal(p),o.freeTempLocal(l),c}case 4:{let o=e.options,l=e.currentFlow,p=o.isWasm64,c=l.getTempLocal(o.usizeType),_=l.getTempLocal(o.usizeType),f=t.binary(p?34:9,t.binary(p?25:0,t.local_tee(_.index,t.binary(p?36:11,t.local_tee(c.index,s,!1),p?t.i64(63):t.i32(31)),!1),t.local_get(c.index,o.sizeTypeRef)),t.local_get(_.index,o.sizeTypeRef));return l.freeTempLocal(_),l.freeTempLocal(c),f}case 3:{let o=e.currentFlow,l=o.getTempLocal(u.i64),p=o.getTempLocal(u.i64),c=t.binary(34,t.binary(25,t.local_tee(p.index,t.binary(36,t.local_tee(l.index,s,!1),t.i64(63)),!1),t.local_get(l.index,F.I64)),t.local_get(p.index,F.I64));return o.freeTempLocal(p),o.freeTempLocal(l),c}case 9:case 5:case 6:case 7:case 8:case 10:return s;case 11:return t.unary(8,s);case 12:return t.unary(9,s)}return e.error(203,r.reportNode.typeArgumentsRange,"abs",a.toString()),t.unreachable()}d.set(h.abs,tu);function ru(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=i[0],a=n?e.compileExpression(s,n[0],5):e.compileExpression(i[0],u.auto,4),o=e.currentType;if(o.isValue){let l;!n&&s.isNumericLiteral?(l=e.compileExpression(i[1],o,4),e.currentType!=o&&(a=e.compileExpression(s,o=e.currentType,5))):l=e.compileExpression(i[1],o,5);let p=-1;switch(o.kind){case 0:case 1:case 2:{p=21;break}case 5:case 6:case 7:case 10:{p=22;break}case 3:{p=46;break}case 8:{p=47;break}case 4:{p=e.options.isWasm64?46:21;break}case 9:{p=e.options.isWasm64?47:22;break}case 11:return t.binary(56,a,l);case 12:return t.binary(69,a,l)}if(p!=-1){let c=e.currentFlow,_=o.toRef(),f=c.getTempLocal(o,st(l));c.setLocalFlag(f.index,2);let E=c.getTempLocal(o);c.setLocalFlag(E.index,2);let g=t.select(t.local_tee(f.index,a,!1),t.local_tee(E.index,l,!1),t.binary(p,t.local_get(f.index,_),t.local_get(E.index,_)),_);return c.freeTempLocal(E),c.freeTempLocal(f),g}}return e.error(203,r.reportNode.typeArgumentsRange,"max",o.toString()),t.unreachable()}d.set(h.max,ru);function iu(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=i[0],a=n?e.compileExpression(s,n[0],5):e.compileExpression(i[0],u.auto,4),o=e.currentType;if(o.isValue){let l;!n&&s.isNumericLiteral?(l=e.compileExpression(i[1],o,4),e.currentType!=o&&(a=e.compileExpression(s,o=e.currentType,5))):l=e.compileExpression(i[1],o,5);let p=-1;switch(o.kind){case 0:case 1:case 2:{p=17;break}case 5:case 6:case 7:case 10:{p=18;break}case 3:{p=42;break}case 8:{p=43;break}case 4:{p=e.options.isWasm64?42:17;break}case 9:{p=e.options.isWasm64?43:18;break}case 11:return t.binary(55,a,l);case 12:return t.binary(68,a,l)}if(p!=-1){let c=e.currentFlow,_=o.toRef(),f=c.getTempLocal(o,st(l));c.setLocalFlag(f.index,2);let E=c.getTempLocal(o);c.setLocalFlag(E.index,2);let g=t.select(t.local_tee(f.index,a,!1),t.local_tee(E.index,l,!1),t.binary(p,t.local_get(f.index,_),t.local_get(E.index,_)),_);return c.freeTempLocal(E),c.freeTempLocal(f),g}}return e.error(203,r.reportNode.typeArgumentsRange,"min",o.toString()),t.unreachable()}d.set(h.min,iu);function nu(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto,0),a=e.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return t.unary(10,s);case 12:return t.unary(11,s)}return e.error(203,r.reportNode.typeArgumentsRange,"ceil",a.toString()),t.unreachable()}d.set(h.ceil,nu);function su(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto,0),a=e.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return t.unary(12,s);case 12:return t.unary(13,s)}return e.error(203,r.reportNode.typeArgumentsRange,"floor",a.toString()),t.unreachable()}d.set(h.floor,su);function au(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.f64,0),a=e.currentType;if(a.isValue){let o=e.compileExpression(i[1],a,1);switch(a.kind){case 11:return t.binary(54,s,o);case 12:return t.binary(67,s,o)}}return e.error(203,r.reportNode.typeArgumentsRange,"copysign",a.toString()),t.unreachable()}d.set(h.copysign,au);function ou(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto,0),a=e.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return t.unary(16,s);case 12:return t.unary(17,s)}return e.error(203,r.reportNode.typeArgumentsRange,"nearest",a.toString()),t.unreachable()}d.set(h.nearest,ou);function cn(r){var e=r.compiler,t=e.module;if(X(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0];if(s.isValue)switch(s.kind){case 2:case 7:{let a=e.compileExpression(i[0],u.f32,1);return e.currentType=s,t.unary(33,a)}case 3:case 8:{let a=e.compileExpression(i[0],u.f64,1);return e.currentType=s,t.unary(34,a)}case 4:case 9:{let a=e.compileExpression(i[0],e.options.isWasm64?u.f64:u.f32,1);return e.currentType=s,t.unary(e.options.isWasm64?34:33,a)}case 11:{let a=e.compileExpression(i[0],u.i32,1);return e.currentType=u.f32,t.unary(45,a)}case 12:{let a=e.compileExpression(i[0],u.i64,1);return e.currentType=u.f64,t.unary(46,a)}}return e.error(203,r.reportNode.typeArgumentsRange,"reinterpret",s.toString()),t.unreachable()}d.set(h.reinterpret,cn);function lu(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.f64,0),a=e.currentType;if(a.isValue)switch(a.kind){case 11:return t.unary(18,s);case 12:return t.unary(19,s)}return e.error(203,r.reportNode.typeArgumentsRange,"sqrt",a.toString()),t.unreachable()}d.set(h.sqrt,lu);function uu(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto,0),a=e.currentType;if(a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return s;case 11:return t.unary(14,s);case 12:return t.unary(15,s)}return e.error(203,r.reportNode.typeArgumentsRange,"trunc",a.toString()),t.unreachable()}d.set(h.trunc,uu);function mE(r){var e=r.compiler,t=e.module;if(ae(r)|W(r,1))return e.currentType=u.bool,t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto),a=e.currentType;if(e.currentType=u.bool,a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return t.maybeDropCondition(s,t.i32(0));case 11:{if(ee(s)==8)return t.binary(58,s,t.local_get(ot(s),F.F32));let o=e.currentFlow,l=o.getTempLocal(u.f32),p=t.binary(58,t.local_tee(l.index,s,!1),t.local_get(l.index,F.F32));return o.freeTempLocal(l),p}case 12:{if(ee(s)==8)return t.binary(71,s,t.local_get(ot(s),F.F64));let o=e.currentFlow,l=o.getTempLocal(u.f64),p=t.binary(71,t.local_tee(l.index,s,!1),t.local_get(l.index,F.F64));return o.freeTempLocal(l),p}}return e.error(203,r.reportNode.typeArgumentsRange,"isNaN",a.toString()),t.unreachable()}d.set(h.isNaN,mE);function dE(r){var e=r.compiler,t=e.module;if(ae(r)|W(r,1))return e.currentType=u.bool,t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto),a=e.currentType;if(e.currentType=u.bool,a.isValue)switch(a.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return t.maybeDropCondition(s,t.i32(1));case 11:{if(ee(s)==8)return t.binary(57,t.binary(51,s,t.local_get(ot(s),F.F32)),t.f32(0));let o=e.currentFlow,l=o.getTempLocal(u.f32),p=t.binary(57,t.binary(51,t.local_tee(l.index,s,!1),t.local_get(l.index,F.F32)),t.f32(0));return o.freeTempLocal(l),p}case 12:{if(ee(s)==8)return t.binary(70,t.binary(64,s,t.local_get(ot(s),F.F64)),t.f64(0));let o=e.currentFlow,l=o.getTempLocal(u.f64),p=t.binary(70,t.binary(64,t.local_tee(l.index,s,!1),t.local_get(l.index,F.F64)),t.f64(0));return o.freeTempLocal(l),p}}return e.error(203,r.reportNode.typeArgumentsRange,"isFinite",a.toString()),t.unreachable()}d.set(h.isFinite,dE);function Ie(r){var e=r.compiler,t=e.module;if(X(r,!0)|Ee(r,1,3))return t.unreachable();var i=r.operands,n=r.typeArguments,s=r.contextualType,a=n[0],o=s!=u.auto&&a.isIntegerValue&&s.isIntegerValue&&s.size>a.size?s:a,l=e.compileExpression(i[0],e.options.usizeType,1),p=i.length,c=0,_=a.byteSize;return p>=2&&(c=Xe(i[1],e),c<0||p==3&&(_=vt(i[2],_,e),_<0))?(e.currentType=o,t.unreachable()):(e.currentType=o,t.load(a.byteSize,a.isSignedIntegerValue,l,o.toRef(),c,_))}d.set(h.load,Ie);function et(r){var e=r.compiler,t=e.module;if(e.currentType=u.void,X(r)|Ee(r,2,4))return t.unreachable();var i=r.operands,n=i.length,s=r.typeArguments,a=r.contextualType,o=s[0],l=e.compileExpression(i[0],e.options.usizeType,1),p=r.contextIsExact?e.compileExpression(i[1],a,1):e.compileExpression(i[1],o,o.isIntegerValue?0:1),c=e.currentType;o.isIntegerValue&&(!c.isIntegerValue||c.size<o.size)&&(p=e.convertExpression(p,c,o,!1,i[1]),c=o);var _=0,f=o.byteSize;if(n>=3){if(_=Xe(i[2],e),_<0)return e.currentType=u.void,t.unreachable();if(n==4&&(f=vt(i[3],f,e),f<0))return e.currentType=u.void,t.unreachable()}return e.currentType=u.void,t.store(o.byteSize,l,p,c.toRef(),_,f)}d.set(h.store,et);function _n(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=i[0],a=n?e.compileExpression(s,n[0],1):e.compileExpression(i[0],u.auto),o=e.currentType;if(o.isValue){let l;if(!n&&s.isNumericLiteral?(l=e.compileExpression(i[1],o),e.currentType!=o&&(a=e.compileExpression(s,o=e.currentType,1))):l=e.compileExpression(i[1],o,1),o.isNumericValue)return e.makeAdd(a,l,o)}return e.error(203,r.reportNode.typeArgumentsRange,"add",o.toString()),t.unreachable()}d.set(h.add,_n);function fn(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=i[0],a=n?e.compileExpression(s,n[0],1):e.compileExpression(i[0],u.auto),o=e.currentType;if(o.isValue){let l;if(!n&&s.isNumericLiteral?(l=e.compileExpression(i[1],o),e.currentType!=o&&(a=e.compileExpression(s,o=e.currentType,1))):l=e.compileExpression(i[1],o,1),o.isNumericValue)return e.makeSub(a,l,o)}return e.error(203,r.reportNode.typeArgumentsRange,"sub",o.toString()),t.unreachable()}d.set(h.sub,fn);function hn(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=i[0],a=n?e.compileExpression(s,n[0],1):e.compileExpression(i[0],u.auto),o=e.currentType;if(o.isValue){let l;if(!n&&s.isNumericLiteral?(l=e.compileExpression(i[1],o),e.currentType!=o&&(a=e.compileExpression(s,o=e.currentType,1))):l=e.compileExpression(i[1],o,1),o.isNumericValue)return e.makeMul(a,l,o)}return e.error(203,r.reportNode.typeArgumentsRange,"mul",o.toString()),t.unreachable()}d.set(h.mul,hn);function cr(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=i[0],a=n?e.compileExpression(s,n[0],1):e.compileExpression(i[0],u.auto),o=e.currentType;if(o.isValue){let l;if(!n&&s.isNumericLiteral?(l=e.compileExpression(i[1],o),e.currentType!=o&&(a=e.compileExpression(s,o=e.currentType,1))):l=e.compileExpression(i[1],o,1),o.isNumericValue)return e.makeDiv(a,l,o)}return e.error(203,r.reportNode.typeArgumentsRange,"div",o.toString()),t.unreachable()}d.set(h.div,cr);function zt(r){var e=r.compiler,t=e.module;if(H(r,32)|X(r,!0)|Ee(r,1,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=r.contextualType,a=n[0],o=a.isIntegerValue&&s.isIntegerValue&&s.size>a.size?s:a;if(!a.isIntegerValue)return e.error(203,r.reportNode.typeArgumentsRange,"atomic.load",a.toString()),e.currentType=o,t.unreachable();var l=e.compileExpression(i[0],e.options.usizeType,1),p=i.length==2?Xe(i[1],e):0;return p<0?(e.currentType=o,t.unreachable()):(e.currentType=o,t.atomic_load(a.byteSize,l,o.toRef(),p))}d.set(h.atomic_load,zt);function Wt(r){var e=r.compiler,t=e.module;if(H(r,32)|X(r)|Ee(r,2,3))return t.unreachable();var i=r.operands,n=r.typeArguments,s=r.contextualType,a=n[0];if(!a.isIntegerValue)return e.error(203,r.reportNode.typeArgumentsRange,"atomic.store",a.toString()),e.currentType=u.void,t.unreachable();var o=e.compileExpression(i[0],e.options.usizeType,1),l=r.contextIsExact?e.compileExpression(i[1],s,1):e.compileExpression(i[1],a,a.isIntegerValue?0:1),p=e.currentType;a.isIntegerValue&&(!p.isIntegerValue||p.size<a.size)&&(l=e.convertExpression(l,p,a,!1,i[1]),p=a);var c=i.length==3?Xe(i[2],e):0;return c<0?(e.currentType=u.void,t.unreachable()):(e.currentType=u.void,t.atomic_store(a.byteSize,o,l,p.toRef(),c))}d.set(h.atomic_store,Wt);function li(r,e,t){var i=r.compiler,n=i.module;if(H(r,32)|X(r,!0)|Ee(r,2,3))return n.unreachable();var s=r.operands,a=r.typeArguments,o=r.contextualType,l=a[0];if(!l.isIntegerValue||l.size<8)return i.error(203,r.reportNode.typeArgumentsRange,t,l.toString()),n.unreachable();var p=i.compileExpression(s[0],i.options.usizeType,1),c=r.contextIsExact?i.compileExpression(s[1],o,1):i.compileExpression(s[1],l,l.isIntegerValue?0:1),_=i.currentType;l.isIntegerValue&&(!_.isIntegerValue||_.size<l.size)&&(c=i.convertExpression(c,_,l,!1,s[1]),_=l);var f=s.length==3?Xe(s[2],i):0;return f<0?(i.currentType=_,n.unreachable()):(i.currentType=_,n.atomic_rmw(e,l.byteSize,f,p,c,_.toRef()))}function Yt(r){return li(r,0,"atomic.add")}d.set(h.atomic_add,Yt);function Ht(r){return li(r,1,"atomic.sub")}d.set(h.atomic_sub,Ht);function Kt(r){return li(r,2,"atomic.and")}d.set(h.atomic_and,Kt);function Xt(r){return li(r,3,"atomic.or")}d.set(h.atomic_or,Xt);function qt(r){return li(r,4,"atomic.xor")}d.set(h.atomic_xor,qt);function Qt(r){return li(r,5,"atomic.xchg")}d.set(h.atomic_xchg,Qt);function Zt(r){var e=r.compiler,t=e.module;if(H(r,32)|X(r,!0)|Ee(r,3,4))return t.unreachable();var i=r.operands,n=r.typeArguments,s=r.contextualType,a=n[0];if(!a.isIntegerValue||a.size<8)return e.error(203,r.reportNode.typeArgumentsRange,"atomic.cmpxchg",a.toString()),t.unreachable();var o=e.compileExpression(i[0],e.options.usizeType,1),l=r.contextIsExact?e.compileExpression(i[1],s,1):e.compileExpression(i[1],a,a.isIntegerValue?0:1),p=e.currentType,c=e.compileExpression(i[2],p,1);a.isIntegerValue&&(!p.isIntegerValue||p.size<a.size)&&(l=e.convertExpression(l,p,a,!1,i[1]),c=e.convertExpression(c,p,a,!1,i[2]),p=a);var _=i.length==4?Xe(i[3],e):0;return _<0?(e.currentType=p,t.unreachable()):(e.currentType=p,t.atomic_cmpxchg(a.byteSize,_,o,l,c,p.toRef()))}d.set(h.atomic_cmpxchg,Zt);function pu(r){var e=r.compiler,t=e.module;if(H(r,32)|X(r)|Ee(r,2,3))return e.currentType=u.i32,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],e.options.usizeType,1),o=e.compileExpression(i[1],s,1),l=i.length==3?e.compileExpression(i[2],u.i64,1):t.i64(-1,-1);switch(e.currentType=u.i32,s.kind){case 2:case 3:case 4:case 7:case 8:case 9:return t.atomic_wait(a,o,l,s.toRef())}return e.error(203,r.reportNode.typeArgumentsRange,"atomic.wait",s.toString()),t.unreachable()}d.set(h.atomic_wait,pu);function EE(r){var e=r.compiler,t=e.module;if(H(r,32)|T(r)|Ee(r,1,2))return e.currentType=u.i32,t.unreachable();var i=r.operands,n=e.compileExpression(i[0],e.options.usizeType,1),s=i.length==2?e.compileExpression(i[1],u.i32,1):t.i32(-1);return e.currentType=u.i32,t.atomic_notify(n,s)}d.set(h.atomic_notify,EE);function yE(r){var e=r.compiler,t=e.module;return e.currentType=u.void,H(r,32)|T(r)|W(r,0)?t.unreachable():t.atomic_fence()}d.set(h.atomic_fence,yE);function gE(r){var e=r.compiler,t=e.module;if(ae(r,!0)|W(r,3))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n?e.compileExpression(i[0],n[0],1):e.compileExpression(i[0],u.auto),a=e.currentType;if(!a.isAny(384))return e.error(203,r.reportNode.typeArgumentsRange,"select",a.toString()),t.unreachable();var o=e.compileExpression(i[1],a,1),l=e.makeIsTrueish(e.compileExpression(i[2],u.bool),e.currentType,i[2]);return e.currentType=a,t.select(s,o,l,a.toRef())}d.set(h.select,gE);function TE(r){return T(r),W(r,0),r.compiler.module.unreachable()}d.set(h.unreachable,TE);function bE(r){var e=r.compiler,t=e.module;return e.currentType=u.i32,T(r)|W(r,0)?t.unreachable():t.memory_size()}d.set(h.memory_size,bE);function IE(r){var e=r.compiler,t=e.module;return e.currentType=u.i32,T(r)|W(r,1)?t.unreachable():t.memory_grow(e.compileExpression(r.operands[0],u.i32,1))}d.set(h.memory_grow,IE);function vE(r){var e=r.compiler,t=e.module;if(e.currentType=u.void,T(r)|W(r,3))return t.unreachable();var i=r.operands;if(!e.options.hasFeature(8)){let l=e.resolver.resolveFunction(r.prototype,null);return e.currentType=u.void,!l||!e.compileFunction(l,!0)?t.unreachable():e.compileCallDirect(l,i,r.reportNode)}var n=e.options.usizeType,s=e.compileExpression(i[0],n,1),a=e.compileExpression(i[1],n,1),o=e.compileExpression(i[2],n,1);return e.currentType=u.void,t.memory_copy(s,a,o)}d.set(h.memory_copy,vE);function xE(r){var e=r.compiler,t=e.module;if(e.currentType=u.void,T(r)|W(r,3))return t.unreachable();var i=r.operands;if(!e.options.hasFeature(8)){let l=e.resolver.resolveFunction(r.prototype,null);return e.currentType=u.void,!l||!e.compileFunction(l,!0)?t.unreachable():e.compileCallDirect(l,i,r.reportNode)}var n=e.options.usizeType,s=e.compileExpression(i[0],n,1),a=e.compileExpression(i[1],u.u8,1),o=e.compileExpression(i[2],n,1);return e.currentType=u.void,t.memory_fill(s,a,o)}d.set(h.memory_fill,xE);function SE(r){var e=r.compiler,t=e.module;if(e.currentType=u.i32,ae(r)|Ee(r,1,2))return t.unreachable();var i=r.typeArguments,n=r.operands,s=n.length,a=e.options.usizeType,o;if(i&&i.length>0){let l=i[0];if(!l.isValue)return e.error(203,r.reportNode.typeArgumentsRange,"memory.data",l.toString()),e.currentType=a,t.unreachable();let p=n[0];if(p.kind!=16||p.literalKind!=5)return e.error(227,n[0].range),e.currentType=a,t.unreachable();let c=p.elementExpressions,_=c.length,f=new Array(_),E=!0;for(let x=0;x<_;++x){let S=c[x];if(S.kind!=19){let v=e.compileExpression(S,l,1),L=t.runExpression(v,1);L?v=L:E=!1,f[x]=v}else f[x]=e.makeZero(l,S)}if(!E)return e.error(220,p.range),e.currentType=a,t.unreachable();let g=l.byteSize;if(s==2&&(g=vt(n[1],g,e),g<0))return e.currentType=a,t.unreachable();let b=new Uint8Array(_*l.byteSize);assert(e.writeStaticBuffer(b,0,l,f)==b.byteLength),o=e.addAlignedMemorySegment(b,g).offset}else{let l=e.compileExpression(n[0],u.i32,1),p=t.runExpression(l,1);if(!p)return e.error(220,n[0].range),e.currentType=a,t.unreachable();let c=ie(p);if(c<1)return e.error(222,n[0].range,"1",i32.MAX_VALUE.toString()),e.currentType=a,t.unreachable();let _=16;if(s==2&&(_=vt(n[1],_,e),_<0))return e.currentType=a,t.unreachable();o=e.addAlignedMemorySegment(new Uint8Array(c),_).offset}return e.currentType=a,a==u.usize32?(assert(!i64_high(o)),t.i32(i64_low(o))):t.i64(i64_low(o),i64_high(o))}d.set(h.memory_data,SE);function RE(r){var e=r.compiler,t=e.module;if(T(r)|W(r,1))return t.unreachable();var i=r.operands,n=e.compileExpression(i[0],u.i32,1);return e.currentType=u.i31ref,t.i31_new(n)}d.set(h.i31_new,RE);function AE(r){var e=r.compiler,t=e.module;if(T(r)|W(r,1))return t.unreachable();var i=r.operands,n=e.compileExpression(i[0],u.i31ref,1);return r.contextualType.is(2)?(e.currentType=u.u32,t.i31_get(n,!1)):(e.currentType=u.i32,t.i31_get(n,!0))}d.set(h.i31_get,AE);function NE(r){var e=r.compiler,t=e.module;if(X(r,!0)|W(r,1))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.auto),o=e.currentType;return e.currentType=s,o.isChangeableTo(s)?a:(e.error(202,r.reportNode.range,o.toString(),s.toString()),t.unreachable())}d.set(h.changetype,NE);function LE(r){var e=r.compiler,t=e.module,i=r.typeArguments;if(ae(r,!0)|Ee(r,1,2))return i&&(assert(i.length),e.currentType=i[0].nonNullableType),t.unreachable();var n=r.operands,s=r.contextualType,a=i?e.compileExpression(n[0],i[0],5):e.compileExpression(n[0],u.bool,4),o=e.currentType;if(e.currentType=o.nonNullableType,e.options.noAssert)return a;var l=t.runExpression(a,0);if(l)switch(le(l)){case F.I32:{if(ie(l))return a;break}case F.I64:{if(Be(l)|$e(l))return a;break}case F.F32:{if(Ye(l))return a;break}case F.F64:{if(He(l))return a;break}}var p=e.makeAbort(n.length==2?n[1]:null,r.reportNode);if(e.currentType=o.nonNullableType,s==u.void)switch(e.currentType=u.void,o.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:return t.if(t.unary(20,a),p);case 3:case 8:return t.if(t.unary(21,a),p);case 4:case 9:return t.if(t.unary(e.options.isWasm64?21:20,a),p);case 11:return t.if(t.binary(57,a,t.f32(0)),p);case 12:return t.if(t.binary(70,a,t.f64(0)),p);case 14:case 15:case 16:case 17:case 19:case 18:return t.if(t.ref_is(0,a),p)}else{e.currentType=o.nonNullableType;let c=e.currentFlow;switch(e.currentType.kind){case 0:case 1:case 2:case 5:case 6:case 7:case 10:{let _=c.getTempLocal(o);c.setLocalFlag(_.index,2);let f=t.if(t.local_tee(_.index,a,!1),t.local_get(_.index,F.I32),p);return c.freeTempLocal(_),f}case 3:case 8:{let _=c.getTempLocal(u.i64),f=t.if(t.unary(21,t.local_tee(_.index,a,!1)),p,t.local_get(_.index,F.I64));return c.freeTempLocal(_),f}case 4:case 9:{let _=c.getTempLocal(e.options.usizeType),f=t.if(t.unary(e.options.isWasm64?21:20,t.local_tee(_.index,a,o.isManaged)),p,t.local_get(_.index,e.options.sizeTypeRef));return c.freeTempLocal(_),f}case 11:{let _=c.getTempLocal(u.f32),f=t.if(t.binary(57,t.local_tee(_.index,a,!1),t.f32(0)),p,t.local_get(_.index,F.F32));return c.freeTempLocal(_),f}case 12:{let _=c.getTempLocal(u.f64),f=t.if(t.binary(70,t.local_tee(_.index,a,!1),t.f64(0)),p,t.local_get(_.index,F.F64));return c.freeTempLocal(_),f}case 14:case 15:case 16:case 17:case 19:case 18:{let _=c.getTempLocal(o),f=t.if(t.ref_is(0,t.local_tee(_.index,a,!1)),p,t.local_get(_.index,o.toRef()));return c.freeTempLocal(_),f}}}return e.error(203,r.reportNode.typeArgumentsRange,"assert",e.currentType.toString()),p}d.set(h.assert,LE);function CE(r){var e=r.compiler,t=e.module;if(T(r)|W(r,1))return t.unreachable();var i=e.currentFlow,n=i.is(32768);i.set(32768);var s=e.compileExpression(r.operands[0],r.contextualType);return n||i.unset(32768),s}d.set(h.unchecked,CE);function FE(r){var e=r.compiler,t=e.module;if(ae(r,!0)|Ee(r,1,i32.MAX_VALUE))return t.unreachable();var i=r.operands,n=r.typeArguments,s;n?(assert(n.length),s=n[0]):s=r.contextualType;var a=e.compileExpression(i[0],u.u32,1),o=i.length-1,l=new Array(o),p=new Array(o);for(let c=0;c<o;++c)l[c]=e.compileExpression(i[1+c],u.auto),p[c]=e.currentType.toRef();return e.currentType=s,t.call_indirect(null,a,l,Oe(p),s.toRef())}d.set(h.call_indirect,FE);function kE(r){var e=r.compiler,t=e.module;if(X(r,!0))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=s.getClass();if(!a)return e.error(2351,r.reportNode.expression.range),t.unreachable();e.currentType=a.type;var o=e.ensureConstructor(a,r.reportNode);return e.checkFieldInitialization(a,r.reportNode),e.compileInstantiate(o,i,0,r.reportNode)}d.set(h.instantiate,kE);function cu(r,e){var t=r.compiler,i=t.module;T(r);var n=r.operands,s=r.reportNode;return t.emitDiagnostic(102,e,s.range,null,n.length?n[0].range.toString():s.range.toString()),e==3?i.unreachable():i.nop()}function PE(r){return cu(r,3)}d.set(h.ERROR,PE);function OE(r){return cu(r,2)}d.set(h.WARNING,OE);function wE(r){return cu(r,1)}d.set(h.INFO,wE);function ME(r){var e=r.compiler,t=r.prototype.parent;assert(t.kind==7);var i=t;assert(i.prototype==e.program.functionPrototype);var n=assert(i.typeArguments);assert(n.length==1);var s=n[0],a=assert(s.getSignature()),o=a.returnType;if(T(r)|Ee(r,1+a.requiredParameters,1+a.parameterTypes.length))return e.currentType=o,e.module.unreachable();var l=e.compileExpression(assert(r.thisOperand),s,1),p=assert(r.operands.shift()),c=a.thisType,_=0;if(c)_=e.compileExpression(p,c,1);else if(p.kind!=18)return e.error(2332,p.range),e.module.unreachable();return e.compileCallIndirect(a,l,r.operands,r.reportNode,_,r.contextualType==u.void)}ks.set("call",ME);function UE(r){var e=r.compiler,t=e.module;return e.currentType=r.compiler.program.stringInstance.type,e.error(100,r.reportNode.range,"String.raw"),t.unreachable()}d.set(h.String_raw,UE);function De(r,e){var t=r.compiler;return T(r)|W(r,1)?(t.currentType=e,t.module.unreachable()):t.compileExpression(r.operands[0],e,2)}function BE(r){return De(r,u.i8)}d.set(h.i8,BE);function DE(r){return De(r,u.i16)}d.set(h.i16,DE);function GE(r){return De(r,u.i32)}d.set(h.i32,GE);function VE(r){return De(r,u.i64)}d.set(h.i64,VE);function zE(r){return De(r,r.compiler.options.isizeType)}d.set(h.isize,zE);function WE(r){return De(r,u.u8)}d.set(h.u8,WE);function YE(r){return De(r,u.u16)}d.set(h.u16,YE);function HE(r){return De(r,u.u32)}d.set(h.u32,HE);function KE(r){return De(r,u.u64)}d.set(h.u64,KE);function XE(r){return De(r,r.compiler.options.usizeType)}d.set(h.usize,XE);function qE(r){return De(r,u.bool)}d.set(h.bool,qE);function QE(r){return De(r,u.f32)}d.set(h.f32,QE);function ZE(r){return De(r,u.f64)}d.set(h.f64,ZE);function jE(r){return Bc(r)}d.set(h.v128,jE);function Bc(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,16))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=new Uint8Array(16);for(let s=0;s<16;++s){let a=e.compileExpression(i[s],u.i8,1),o=t.runExpression(a,1);o?pe(ie(o),n,s):e.error(220,i[s].range)}return e.currentType=u.v128,t.v128(n)}d.set(h.i8x16,Bc);function JE(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,8))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=new Uint8Array(16);for(let s=0;s<8;++s){let a=e.compileExpression(i[s],u.i16,1),o=t.runExpression(a,1);o?Ft(ie(o),n,s<<1):e.error(220,i[s].range)}return e.currentType=u.v128,t.v128(n)}d.set(h.i16x8,JE);function $E(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,4))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=new Uint8Array(16);for(let s=0;s<4;++s){let a=e.compileExpression(i[s],u.i32,1),o=t.runExpression(a,1);o?ce(ie(o),n,s<<2):e.error(220,i[s].range)}return e.currentType=u.v128,t.v128(n)}d.set(h.i32x4,$E);function ey(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=new Uint8Array(16);for(let s=0;s<2;++s){let a=e.compileExpression(i[s],u.i64,1),o=t.runExpression(a,1);if(o){let l=s<<3;ce(Be(o),n,l),ce($e(o),n,l+4)}else e.error(220,i[s].range)}return e.currentType=u.v128,t.v128(n)}d.set(h.i64x2,ey);function ty(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,4))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=new Uint8Array(16);for(let s=0;s<4;++s){let a=e.compileExpression(i[s],u.f32,1),o=t.runExpression(a,1);o?$t(Ye(o),n,s<<2):e.error(220,i[s].range)}return e.currentType=u.v128,t.v128(n)}d.set(h.f32x4,ty);function ry(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=new Uint8Array(16);for(let s=0;s<2;++s){let a=e.compileExpression(i[s],u.f64,1),o=t.runExpression(a,1);o?er(He(o),n,s<<3):e.error(220,i[s].range)}return e.currentType=u.v128,t.v128(n)}d.set(h.f64x2,ry);function _r(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],s,1);if(e.currentType=u.v128,s.isValue)switch(s.kind){case 0:case 5:return t.unary(60,a);case 1:case 6:return t.unary(61,a);case 2:case 7:return t.unary(62,a);case 3:case 8:return t.unary(63,a);case 4:case 9:return t.unary(e.options.isWasm64?63:62,a);case 11:return t.unary(64,a);case 12:return t.unary(65,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.splat",s.toString()),t.unreachable()}d.set(h.v128_splat,_r);function xt(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r,!0)|W(r,2))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.u8,1);e.currentType=s;var l=0,p=t.runExpression(o,1);if(p?l=ie(p):e.error(220,i[1].range),s.isValue){let c=16/assert(s.byteSize)-1;switch((l<0||l>c)&&(e.error(222,i[1].range,"Lane index","0",c.toString()),l=0),s.kind){case 0:return t.simd_extract(0,a,l);case 5:return t.simd_extract(1,a,l);case 1:return t.simd_extract(2,a,l);case 6:return t.simd_extract(3,a,l);case 2:case 7:return t.simd_extract(4,a,l);case 3:case 8:return t.simd_extract(5,a,l);case 4:case 9:return t.simd_extract(e.options.isWasm64?5:4,a,l);case 11:return t.simd_extract(6,a,l);case 12:return t.simd_extract(7,a,l)}}return e.error(203,r.reportNode.typeArgumentsRange,"v128.extract_lane",s.toString()),t.unreachable()}d.set(h.v128_extract_lane,xt);function fr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,3))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.u8,1),l=e.compileExpression(i[2],s,1);e.currentType=u.v128;var p=0,c=t.runExpression(o,1);if(c?p=ie(c):e.error(220,i[1].range),s.isValue){let _=16/assert(s.byteSize)-1;switch((p<0||p>_)&&(e.error(222,i[1].range,"Lane index","0",_.toString()),p=0),s.kind){case 0:case 5:return t.simd_replace(0,a,p,l);case 1:case 6:return t.simd_replace(1,a,p,l);case 2:case 7:return t.simd_replace(2,a,p,l);case 3:case 8:return t.simd_replace(3,a,p,l);case 4:case 9:return t.simd_replace(e.options.isWasm64?3:2,a,p,l);case 11:return t.simd_replace(4,a,p,l);case 12:return t.simd_replace(5,a,p,l)}}return e.error(203,r.reportNode.typeArgumentsRange,"v128.replace_lane",s.toString()),t.unreachable()}d.set(h.v128_replace_lane,fr);function Dc(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0];if(s.isValue){let a=s.byteSize,o=16/a;if(assert(Number.isInteger(o)&&ht(o)),W(r,2+o))return e.currentType=u.v128,t.unreachable();let l=e.compileExpression(i[0],u.v128,1),p=e.compileExpression(i[1],u.v128,1);switch(s.kind){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 11:case 12:{let c=new Uint8Array(16),_=(o<<1)-1;for(let f=0;f<o;++f){let E=i[2+f],g=e.compileExpression(E,u.u8,1),b=t.runExpression(g,1),x=0;switch(b?(x=ie(b),(x<0||x>_)&&(e.error(222,E.range,"Lane index","0",_.toString()),x=0)):e.error(220,E.range),a){case 1:{pe(x,c,f);break}case 2:{let S=f<<1,v=x<<1;pe(v,c,S),pe(v+1,c,S+1);break}case 4:{let S=f<<2,v=x<<2;pe(v,c,S),pe(v+1,c,S+1),pe(v+2,c,S+2),pe(v+3,c,S+3);break}case 8:{let S=f<<3,v=x<<3;pe(v,c,S),pe(v+1,c,S+1),pe(v+2,c,S+2),pe(v+3,c,S+3),pe(v+4,c,S+4),pe(v+5,c,S+5),pe(v+6,c,S+6),pe(v+7,c,S+7);break}default:assert(!1)}}return e.currentType=u.v128,t.simd_shuffle(l,p,c)}}}return e.error(203,r.reportNode.typeArgumentsRange,"v128.shuffle",s.toString()),e.currentType=u.v128,t.unreachable()}d.set(h.v128_shuffle,Dc);function Gc(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=e.compileExpression(i[0],u.v128,1),s=e.compileExpression(i[1],u.v128,1);return t.binary(195,n,s)}d.set(h.v128_swizzle,Gc);function mn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r,!0)|Ee(r,1,3))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],e.options.usizeType,1),o=i.length,l=0,p=s.byteSize;if(o>=2){if(l=Xe(i[1],e),l<0)return e.currentType=u.v128,t.unreachable();if(o==3&&(p=vt(i[2],p,e),p<0))return e.currentType=u.v128,t.unreachable()}if(e.currentType=u.v128,s.isValue)switch(s.kind){case 0:case 5:return t.simd_load(0,a,l,p);case 1:case 6:return t.simd_load(1,a,l,p);case 2:case 7:case 11:return t.simd_load(2,a,l,p);case 4:case 9:if(!e.options.isWasm64)return t.simd_load(2,a,l,p);case 3:case 8:case 12:return t.simd_load(3,a,l,p)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.load_splat",s.toString()),t.unreachable()}d.set(h.v128_load_splat,mn);function hr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r,!0)|Ee(r,1,3))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],e.options.usizeType,1),o=i.length,l=0,p=s.byteSize;if(o>=2){if(l=Xe(i[1],e),l<0)return e.currentType=u.v128,t.unreachable();if(o==3&&(p=vt(i[2],p,e),p<0))return e.currentType=u.v128,t.unreachable()}if(e.currentType=u.v128,s.isValue)switch(s.kind){case 0:return t.simd_load(4,a,l,p);case 5:return t.simd_load(5,a,l,p);case 1:return t.simd_load(6,a,l,p);case 6:return t.simd_load(7,a,l,p);case 4:if(e.options.isWasm64)break;case 2:return t.simd_load(8,a,l,p);case 9:if(e.options.isWasm64)break;case 7:return t.simd_load(9,a,l,p)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.load_ext",s.toString()),t.unreachable()}d.set(h.v128_load_ext,hr);function _u(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r,!0)|Ee(r,1,3))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],e.options.usizeType,1),o=i.length,l=0,p=s.byteSize;if(o>=2){if(l=Xe(i[1],e),l<0)return e.currentType=u.v128,t.unreachable();if(o==3&&(p=vt(i[2],p,e),p<0))return e.currentType=u.v128,t.unreachable()}if(e.currentType=u.v128,s.isValue)switch(s.kind){case 2:case 7:case 11:return t.simd_load(10,a,l,p);case 3:case 8:case 12:return t.simd_load(11,a,l,p);case 4:case 9:return t.simd_load(e.options.isWasm64?11:10,a,l,p)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.load_zero",s.toString()),t.unreachable()}d.set(h.v128_load_zero,_u);function dn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r,!0)|Ee(r,3,5))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],e.options.usizeType,1),o=e.compileExpression(i[1],u.v128,1),l=e.compileExpression(i[2],u.u8,1),p=0,c=t.runExpression(l,1);c?p=ie(c):e.error(220,i[2].range);var _=i.length,f=0,E=s.byteSize;if(_>=4){if(f=Xe(i[3],e),f<0)return e.currentType=u.v128,t.unreachable();if(_==5&&(E=vt(i[4],E,e),E<0))return e.currentType=u.v128,t.unreachable()}if(e.currentType=u.v128,s.isValue){let g=16/assert(s.byteSize)-1;switch((p<0||p>g)&&(e.error(222,i[1].range,"Lane index","0",g.toString()),p=0),s.kind){case 0:case 5:return t.simd_loadstorelane(0,a,f,E,p,o);case 1:case 6:return t.simd_loadstorelane(1,a,f,E,p,o);case 2:case 7:case 11:return t.simd_loadstorelane(2,a,f,E,p,o);case 3:case 8:case 12:return t.simd_loadstorelane(3,a,f,E,p,o);case 4:case 9:return t.simd_loadstorelane(e.options.isWasm64?3:2,a,f,E,p,o)}}return e.error(203,r.reportNode.typeArgumentsRange,"v128.load_lane",s.toString()),t.unreachable()}d.set(h.v128_load_lane,dn);function En(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r,!0)|Ee(r,3,5))return t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],e.options.usizeType,1),o=e.compileExpression(i[1],u.v128,1),l=e.compileExpression(i[2],u.u8,1),p=0,c=t.runExpression(l,1);c?p=ie(c):e.error(220,i[2].range);var _=i.length,f=0,E=s.byteSize;if(_>=4){if(f=Xe(i[3],e),f<0)return e.currentType=u.v128,t.unreachable();if(_==5&&(E=vt(i[4],E,e),E<0))return e.currentType=u.v128,t.unreachable()}if(e.currentType=u.v128,s.isValue){let g=16/assert(s.byteSize)-1;switch((p<0||p>g)&&(e.error(222,i[1].range,"Lane index","0",g.toString()),p=0),s.kind){case 0:case 5:return t.simd_loadstorelane(4,a,f,E,p,o);case 1:case 6:return t.simd_loadstorelane(5,a,f,E,p,o);case 2:case 7:case 11:return t.simd_loadstorelane(6,a,f,E,p,o);case 3:case 8:case 12:return t.simd_loadstorelane(7,a,f,E,p,o);case 4:case 9:return t.simd_loadstorelane(e.options.isWasm64?7:6,a,f,E,p,o)}}return e.error(203,r.reportNode.typeArgumentsRange,"v128.store_lane",s.toString()),t.unreachable()}d.set(h.v128_store_lane,En);function mr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return t.binary(128,a,o);case 1:case 6:return t.binary(139,a,o);case 2:case 7:return t.binary(156,a,o);case 3:case 8:return t.binary(168,a,o);case 4:case 9:return t.binary(e.options.isWasm64?168:156,a,o);case 11:return t.binary(175,a,o);case 12:return t.binary(183,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.add",s.toString()),t.unreachable()}d.set(h.v128_add,mr);function dr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return t.binary(131,a,o);case 1:case 6:return t.binary(142,a,o);case 2:case 7:return t.binary(157,a,o);case 3:case 8:return t.binary(169,a,o);case 4:case 9:return t.binary(e.options.isWasm64?169:157,a,o);case 11:return t.binary(176,a,o);case 12:return t.binary(184,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.sub",s.toString()),t.unreachable()}d.set(h.v128_sub,dr);function ui(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:case 6:return t.binary(145,a,o);case 2:case 7:return t.binary(158,a,o);case 3:case 8:return t.binary(170,a,o);case 4:case 9:return t.binary(e.options.isWasm64?170:158,a,o);case 11:return t.binary(177,a,o);case 12:return t.binary(185,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.mul",s.toString()),t.unreachable()}d.set(h.v128_mul,ui);function fu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.binary(178,a,o);case 12:return t.binary(186,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.div",s.toString()),t.unreachable()}d.set(h.v128_div,fu);function yn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(129,a,o);case 5:return t.binary(130,a,o);case 1:return t.binary(140,a,o);case 6:return t.binary(141,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.add_sat",s.toString()),t.unreachable()}d.set(h.v128_add_sat,yn);function gn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(132,a,o);case 5:return t.binary(133,a,o);case 1:return t.binary(143,a,o);case 6:return t.binary(144,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.sub_sat",s.toString()),t.unreachable()}d.set(h.v128_sub_sat,gn);function St(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(134,a,o);case 5:return t.binary(135,a,o);case 1:return t.binary(146,a,o);case 6:return t.binary(147,a,o);case 4:if(e.options.isWasm64)break;case 2:return t.binary(159,a,o);case 9:if(e.options.isWasm64)break;case 7:return t.binary(160,a,o);case 11:return t.binary(179,a,o);case 12:return t.binary(187,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.min",s.toString()),t.unreachable()}d.set(h.v128_min,St);function Rt(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(136,a,o);case 5:return t.binary(137,a,o);case 1:return t.binary(148,a,o);case 6:return t.binary(149,a,o);case 4:if(e.options.isWasm64)break;case 2:return t.binary(161,a,o);case 9:if(e.options.isWasm64)break;case 7:return t.binary(162,a,o);case 11:return t.binary(180,a,o);case 12:return t.binary(188,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.max",s.toString()),t.unreachable()}d.set(h.v128_max,Rt);function hu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.binary(181,a,o);case 12:return t.binary(189,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.pmin",s.toString()),t.unreachable()}d.set(h.v128_pmin,hu);function mu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.binary(182,a,o);case 12:return t.binary(190,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.pmax",s.toString()),t.unreachable()}d.set(h.v128_pmax,mu);function Vc(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return t.binary(163,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.dot",s.toString()),t.unreachable()}d.set(h.v128_dot,Vc);function du(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 5:return t.binary(138,a,o);case 6:return t.binary(150,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.avgr",s.toString()),t.unreachable()}d.set(h.v128_avgr,du);function Er(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return t.binary(76,a,o);case 1:case 6:return t.binary(86,a,o);case 2:case 7:return t.binary(96,a,o);case 3:case 8:return t.binary(106,a,o);case 4:case 9:return t.binary(e.options.isWasm64?106:96,a,o);case 11:return t.binary(112,a,o);case 12:return t.binary(118,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.eq",s.toString()),t.unreachable()}d.set(h.v128_eq,Er);function yr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return t.binary(77,a,o);case 1:case 6:return t.binary(87,a,o);case 2:case 7:return t.binary(97,a,o);case 3:case 8:return t.binary(107,a,o);case 4:case 9:return t.binary(e.options.isWasm64?107:97,a,o);case 11:return t.binary(113,a,o);case 12:return t.binary(119,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.ne",s.toString()),t.unreachable()}d.set(h.v128_ne,yr);function ut(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(78,a,o);case 5:return t.binary(79,a,o);case 1:return t.binary(88,a,o);case 6:return t.binary(89,a,o);case 2:return t.binary(98,a,o);case 7:return t.binary(99,a,o);case 3:return t.binary(108,a,o);case 4:return t.binary(e.options.isWasm64?108:98,a,o);case 9:{if(e.options.isWasm64)break;return t.binary(99,a,o)}case 11:return t.binary(114,a,o);case 12:return t.binary(120,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.lt",s.toString()),t.unreachable()}d.set(h.v128_lt,ut);function pt(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(82,a,o);case 5:return t.binary(83,a,o);case 1:return t.binary(92,a,o);case 6:return t.binary(93,a,o);case 2:return t.binary(102,a,o);case 7:return t.binary(103,a,o);case 3:return t.binary(110,a,o);case 4:return t.binary(e.options.isWasm64?110:102,a,o);case 9:{if(e.options.isWasm64)break;return t.binary(103,a,o)}case 11:return t.binary(116,a,o);case 12:return t.binary(122,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.le",s.toString()),t.unreachable()}d.set(h.v128_le,pt);function ct(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(80,a,o);case 5:return t.binary(81,a,o);case 1:return t.binary(90,a,o);case 6:return t.binary(91,a,o);case 2:return t.binary(100,a,o);case 7:return t.binary(101,a,o);case 3:return t.binary(109,a,o);case 4:return t.binary(e.options.isWasm64?109:100,a,o);case 9:{if(e.options.isWasm64)break;return t.binary(101,a,o)}case 11:return t.binary(115,a,o);case 12:return t.binary(121,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.gt",s.toString()),t.unreachable()}d.set(h.v128_gt,ct);function _t(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(84,a,o);case 5:return t.binary(85,a,o);case 1:return t.binary(94,a,o);case 6:return t.binary(95,a,o);case 2:return t.binary(104,a,o);case 7:return t.binary(105,a,o);case 3:return t.binary(111,a,o);case 4:return t.binary(e.options.isWasm64?111:104,a,o);case 9:{if(e.options.isWasm64)break;return t.binary(105,a,o)}case 11:return t.binary(117,a,o);case 12:return t.binary(123,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.ge",s.toString()),t.unreachable()}d.set(h.v128_ge,_t);function Tn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return t.binary(191,a,o);case 6:return t.binary(192,a,o);case 2:return t.binary(193,a,o);case 7:return t.binary(194,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.narrow",s.toString()),t.unreachable()}d.set(h.v128_narrow,Tn);function gr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:case 5:return t.unary(69,a);case 1:case 6:return t.unary(74,a);case 2:case 7:return t.unary(78,a);case 3:case 8:return t.unary(82,a);case 4:case 9:return t.unary(e.options.isWasm64?82:78,a);case 11:return t.unary(86,a);case 12:return t.unary(93,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.neg",s.toString()),t.unreachable()}d.set(h.v128_neg,gr);function Tr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.unary(68,a);case 1:return t.unary(73,a);case 2:return t.unary(77,a);case 3:return t.unary(81,a);case 4:return t.unary(e.options.isWasm64?81:77,a);case 5:case 6:case 7:case 8:case 9:return a;case 11:return t.unary(85,a);case 12:return t.unary(92,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.abs",s.toString()),t.unreachable()}d.set(h.v128_abs,Tr);function Eu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.unary(87,a);case 12:return t.unary(94,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.sqrt",s.toString()),t.unreachable()}d.set(h.v128_sqrt,Eu);function yu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.unary(88,a);case 12:return t.unary(95,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.ceil",s.toString()),t.unreachable()}d.set(h.v128_ceil,yu);function gu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.unary(89,a);case 12:return t.unary(96,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.floor",s.toString()),t.unreachable()}d.set(h.v128_floor,gu);function Tu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.unary(90,a);case 12:return t.unary(97,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.trunc",s.toString()),t.unreachable()}d.set(h.v128_trunc,Tu);function bu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 11:return t.unary(91,a);case 12:return t.unary(98,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.nearest",s.toString()),t.unreachable()}d.set(h.v128_nearest,bu);function Iu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(e.options.isWasm64)break;case 2:return t.unary(105,a);case 9:if(e.options.isWasm64)break;case 7:return t.unary(106,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.convert",s.toString()),t.unreachable()}d.set(h.v128_convert,Iu);function vu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(e.options.isWasm64)break;case 2:return t.unary(119,a);case 9:if(e.options.isWasm64)break;case 7:return t.unary(120,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.convert_low",s.toString()),t.unreachable()}d.set(h.v128_convert_low,vu);function xu(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(e.options.isWasm64)break;case 2:return t.unary(103,a);case 9:if(e.options.isWasm64)break;case 7:return t.unary(104,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.trunc_sat",s.toString()),t.unreachable()}d.set(h.v128_trunc_sat,xu);function Su(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 4:if(e.options.isWasm64)break;case 2:return t.unary(121,a);case 9:if(e.options.isWasm64)break;case 7:return t.unary(122,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.trunc_sat_zero",s.toString()),t.unreachable()}d.set(h.v128_trunc_sat_zero,Su);function br(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.unary(107,a);case 5:return t.unary(109,a);case 1:return t.unary(111,a);case 6:return t.unary(113,a);case 4:if(e.options.isWasm64)break;case 2:return t.unary(115,a);case 9:if(e.options.isWasm64)break;case 7:return t.unary(117,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.extend_low",s.toString()),t.unreachable()}d.set(h.v128_extend_low,br);function Ir(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.unary(108,a);case 5:return t.unary(110,a);case 1:return t.unary(112,a);case 6:return t.unary(114,a);case 4:if(e.options.isWasm64)break;case 2:return t.unary(116,a);case 9:if(e.options.isWasm64)break;case 7:return t.unary(118,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.extend_high",s.toString()),t.unreachable()}d.set(h.v128_extend_high,Ir);function bn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments[0],s=e.compileExpression(i[0],u.v128,1),a=e.compileExpression(i[1],u.i32,1);if(e.currentType=u.v128,n.isValue)switch(n.kind){case 0:case 5:return t.simd_shift(0,s,a);case 1:case 6:return t.simd_shift(3,s,a);case 2:case 7:return t.simd_shift(6,s,a);case 3:case 8:return t.simd_shift(9,s,a);case 4:case 9:return t.simd_shift(e.options.isWasm64?9:6,s,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.shl",n.toString()),t.unreachable()}d.set(h.v128_shl,bn);function At(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments[0],s=e.compileExpression(i[0],u.v128,1),a=e.compileExpression(i[1],u.i32,1);if(e.currentType=u.v128,n.isValue)switch(n.kind){case 0:return t.simd_shift(1,s,a);case 5:return t.simd_shift(2,s,a);case 1:return t.simd_shift(4,s,a);case 6:return t.simd_shift(5,s,a);case 2:return t.simd_shift(7,s,a);case 7:return t.simd_shift(8,s,a);case 3:return t.simd_shift(10,s,a);case 8:return t.simd_shift(11,s,a);case 4:return t.simd_shift(e.options.isWasm64?10:7,s,a);case 9:return t.simd_shift(e.options.isWasm64?11:8,s,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.shr",n.toString()),t.unreachable()}d.set(h.v128_shr,At);function Ds(r,e){var t=r.compiler,i=t.module;if(H(r,16)|T(r)|W(r,2))return t.currentType=u.v128,i.unreachable();var n=r.operands,s=t.compileExpression(n[0],u.v128,1),a=t.compileExpression(n[1],u.v128,1);return i.binary(e,s,a)}function iy(r){return Ds(r,124)}d.set(h.v128_and,iy);function ny(r){return Ds(r,125)}d.set(h.v128_or,ny);function sy(r){return Ds(r,126)}d.set(h.v128_xor,sy);function ay(r){return Ds(r,127)}d.set(h.v128_andnot,ay);function oy(r,e){var t=r.compiler,i=t.module;if(H(r,16)|T(r)|W(r,1))return t.currentType=u.v128,i.unreachable();var n=r.operands,s=t.compileExpression(n[0],u.v128,1);return i.unary(e,s)}function ly(r){return oy(r,66)}d.set(h.v128_not,ly);function uy(r,e){var t=r.compiler,i=t.module;if(H(r,16)|T(r)|W(r,3))return t.currentType=u.v128,i.unreachable();var n=r.operands,s=t.compileExpression(n[0],u.v128,1),a=t.compileExpression(n[1],u.v128,1),o=t.compileExpression(n[2],u.v128,1);return i.simd_ternary(e,s,a,o)}function py(r){return uy(r,0)}d.set(h.v128_bitselect,py);function cy(r){var e=r.compiler,t=e.module;if(H(r,16)|T(r)|W(r,1))return e.currentType=u.bool,t.unreachable();var i=r.operands,n=e.compileExpression(i[0],u.v128,1);return e.currentType=u.bool,t.unary(67,n)}d.set(h.v128_any_true,cy);function In(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.bool,t.unreachable();var i=r.operands,n=r.typeArguments[0],s=e.compileExpression(i[0],u.v128,1);if(e.currentType=u.bool,n.isValue)switch(n.kind){case 0:case 5:return t.unary(70,s);case 1:case 6:return t.unary(75,s);case 2:case 7:return t.unary(79,s);case 3:case 8:return t.unary(83,s);case 4:case 9:return t.unary(e.options.isWasm64?83:79,s)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.all_true",n.toString()),t.unreachable()}d.set(h.v128_all_true,In);function vn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.i32,t.unreachable();var i=r.operands,n=r.typeArguments[0],s=e.compileExpression(i[0],u.v128,1);if(e.currentType=u.i32,n.isValue)switch(n.kind){case 0:case 5:return t.unary(71,s);case 1:case 6:return t.unary(76,s);case 2:case 7:return t.unary(80,s);case 3:case 8:return t.unary(84,s);case 4:case 9:return t.unary(e.options.isWasm64?84:80,s)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.bitmask",n.toString()),t.unreachable()}d.set(h.v128_bitmask,vn);function zc(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments[0],s=e.compileExpression(i[0],u.v128,1);if(e.currentType=u.v128,n.isValue)switch(n.kind){case 0:case 5:return t.unary(72,s)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.popcnt",n.toString()),t.unreachable()}d.set(h.v128_popcnt,zc);function xn(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments[0],s=e.compileExpression(i[0],u.v128,1);if(e.currentType=u.v128,n.isValue)switch(n.kind){case 0:return t.unary(99,s);case 5:return t.unary(100,s);case 1:return t.unary(101,s);case 6:return t.unary(102,s)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.extadd_pairwise",n.toString()),t.unreachable()}d.set(h.v128_extadd_pairwise,xn);function Wc(r){var e=r.compiler,t=e.module;if(H(r,16)|ae(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n?n[0]:u.f64,a=e.compileExpression(i[0],u.v128,1);if(e.currentType=u.v128,s.isValue)switch(s.kind){case 12:return t.unary(123,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.demote_zero",s.toString()),t.unreachable()}d.set(h.v128_demote_zero,Wc);function Yc(r){var e=r.compiler,t=e.module;if(H(r,16)|ae(r)|W(r,1))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n?n[0]:u.f32,a=e.compileExpression(i[0],u.v128,1);if(e.currentType=u.v128,s.isValue)switch(s.kind){case 11:return t.unary(124,a)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.promote_low",s.toString()),t.unreachable()}d.set(h.v128_promote_low,Yc);function Hc(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 1:return t.binary(151,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.q15mulr_sat",s.toString()),t.unreachable()}d.set(h.v128_q15mulr_sat,Hc);function vr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(152,a,o);case 5:return t.binary(154,a,o);case 1:return t.binary(164,a,o);case 6:return t.binary(166,a,o);case 2:return t.binary(171,a,o);case 7:return t.binary(173,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.extmul_low",s.toString()),t.unreachable()}d.set(h.v128_extmul_low,vr);function xr(r){var e=r.compiler,t=e.module;if(H(r,16)|X(r)|W(r,2))return e.currentType=u.v128,t.unreachable();var i=r.operands,n=r.typeArguments,s=n[0],a=e.compileExpression(i[0],u.v128,1),o=e.compileExpression(i[1],u.v128,1);if(s.isValue)switch(s.kind){case 0:return t.binary(153,a,o);case 5:return t.binary(155,a,o);case 1:return t.binary(165,a,o);case 6:return t.binary(167,a,o);case 2:return t.binary(172,a,o);case 7:return t.binary(174,a,o)}return e.error(203,r.reportNode.typeArgumentsRange,"v128.extmul_high",s.toString()),t.unreachable()}d.set(h.v128_extmul_high,xr);function _y(r){var e=r.compiler,t=e.module;if(T(r)|W(r,1))return e.currentType=u.void,t.unreachable();var i=r.operands,n=e.compileExpression(i[0],u.u32,1);return e.runtimeFeatures|=16,e.currentType=u.void,t.call(h.visit_globals,[n],F.None)}d.set(h.visit_globals,_y);function fy(r){var e=r.compiler,t=e.module;if(T(r)|W(r,2))return e.currentType=u.void,t.unreachable();var i=r.operands,n=e.compileExpression(i[0],e.options.usizeType,1),s=e.compileExpression(i[1],u.u32,1);return e.runtimeFeatures|=32,e.currentType=u.void,t.call(h.visit_members,[n,s],F.None)}d.set(h.visit_members,fy);function hy(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,Zl(r)}d.set(h.i32_clz,hy);function my(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,Zl(r)}d.set(h.i64_clz,my);function dy(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,jl(r)}d.set(h.i32_ctz,dy);function Ey(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,jl(r)}d.set(h.i64_ctz,Ey);function yy(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,Jl(r)}d.set(h.i32_popcnt,yy);function gy(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,Jl(r)}d.set(h.i64_popcnt,gy);function Ty(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,$l(r)}d.set(h.i32_rotl,Ty);function by(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,$l(r)}d.set(h.i64_rotl,by);function Iy(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,eu(r)}d.set(h.i32_rotr,Iy);function vy(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,eu(r)}d.set(h.i64_rotr,vy);function xy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,tu(r)}d.set(h.f32_abs,xy);function Sy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,tu(r)}d.set(h.f64_abs,Sy);function Ry(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,ru(r)}d.set(h.f32_max,Ry);function Ay(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,ru(r)}d.set(h.f64_max,Ay);function Ny(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,iu(r)}d.set(h.f32_min,Ny);function Ly(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,iu(r)}d.set(h.f64_min,Ly);function Cy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,nu(r)}d.set(h.f32_ceil,Cy);function Fy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,nu(r)}d.set(h.f64_ceil,Fy);function ky(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,su(r)}d.set(h.f32_floor,ky);function Py(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,su(r)}d.set(h.f64_floor,Py);function Oy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,au(r)}d.set(h.f32_copysign,Oy);function wy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,au(r)}d.set(h.f64_copysign,wy);function My(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,ou(r)}d.set(h.f32_nearest,My);function Uy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,ou(r)}d.set(h.f64_nearest,Uy);function By(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.f32,cn(r)}d.set(h.i32_reinterpret_f32,By);function Dy(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.f64,cn(r)}d.set(h.i64_reinterpret_f64,Dy);function Gy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.i32,cn(r)}d.set(h.f32_reinterpret_i32,Gy);function Vy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.i64,cn(r)}d.set(h.f64_reinterpret_i64,Vy);function zy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,lu(r)}d.set(h.f32_sqrt,zy);function Wy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,lu(r)}d.set(h.f64_sqrt,Wy);function Yy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,uu(r)}d.set(h.f32_trunc,Yy);function Hy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,uu(r)}d.set(h.f64_trunc,Hy);function Ky(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,_n(r)}d.set(h.i32_add,Ky);function Xy(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,_n(r)}d.set(h.i64_add,Xy);function qy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,_n(r)}d.set(h.f32_add,qy);function Qy(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,_n(r)}d.set(h.f64_add,Qy);function Zy(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,fn(r)}d.set(h.i32_sub,Zy);function jy(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,fn(r)}d.set(h.i64_sub,jy);function Jy(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,fn(r)}d.set(h.f32_sub,Jy);function $y(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,fn(r)}d.set(h.f64_sub,$y);function eg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,hn(r)}d.set(h.i32_mul,eg);function tg(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,hn(r)}d.set(h.i64_mul,tg);function rg(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,hn(r)}d.set(h.f32_mul,rg);function ig(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,hn(r)}d.set(h.f64_mul,ig);function ng(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,cr(r)}d.set(h.i32_div_s,ng);function sg(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.u32,cr(r)}d.set(h.i32_div_u,sg);function ag(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,cr(r)}d.set(h.i64_div_s,ag);function og(r){return T(r),r.typeArguments=[u.u64],r.contextualType=u.u64,cr(r)}d.set(h.i64_div_u,og);function lg(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,cr(r)}d.set(h.f32_div,lg);function ug(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,cr(r)}d.set(h.f64_div,ug);function pg(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i32,Ie(r)}d.set(h.i32_load8_s,pg);function cg(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,Ie(r)}d.set(h.i32_load8_u,cg);function _g(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i32,Ie(r)}d.set(h.i32_load16_s,_g);function fg(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,Ie(r)}d.set(h.i32_load16_u,fg);function hg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,Ie(r)}d.set(h.i32_load,hg);function mg(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load8_s,mg);function dg(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load8_u,dg);function Eg(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load16_s,Eg);function yg(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load16_u,yg);function gg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load32_s,gg);function Tg(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load32_u,Tg);function bg(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,Ie(r)}d.set(h.i64_load,bg);function Ig(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,Ie(r)}d.set(h.f32_load,Ig);function vg(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,Ie(r)}d.set(h.f64_load,vg);function xg(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i32,r.contextIsExact=!0,et(r)}d.set(h.i32_store8,xg);function Sg(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i32,r.contextIsExact=!0,et(r)}d.set(h.i32_store16,Sg);function Rg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,et(r)}d.set(h.i32_store,Rg);function Ag(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i64,r.contextIsExact=!0,et(r)}d.set(h.i64_store8,Ag);function Ng(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i64,r.contextIsExact=!0,et(r)}d.set(h.i64_store16,Ng);function Lg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i64,r.contextIsExact=!0,et(r)}d.set(h.i64_store32,Lg);function Cg(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,et(r)}d.set(h.i64_store,Cg);function Fg(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,r.contextIsExact=!0,et(r)}d.set(h.f32_store,Fg);function kg(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,r.contextIsExact=!0,et(r)}d.set(h.f64_store,kg);function Pg(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,zt(r)}d.set(h.i32_atomic_load8_u,Pg);function Og(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,zt(r)}d.set(h.i32_atomic_load16_u,Og);function wg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,zt(r)}d.set(h.i32_atomic_load,wg);function Mg(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,zt(r)}d.set(h.i64_atomic_load8_u,Mg);function Ug(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,zt(r)}d.set(h.i64_atomic_load16_u,Ug);function Bg(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,zt(r)}d.set(h.i64_atomic_load32_u,Bg);function Dg(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,zt(r)}d.set(h.i64_atomic_load,Dg);function Gg(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i32,r.contextIsExact=!0,Wt(r)}d.set(h.i32_atomic_store8,Gg);function Vg(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i32,r.contextIsExact=!0,Wt(r)}d.set(h.i32_atomic_store16,Vg);function zg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Wt(r)}d.set(h.i32_atomic_store,zg);function Wg(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i64,r.contextIsExact=!0,Wt(r)}d.set(h.i64_atomic_store8,Wg);function Yg(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Wt(r)}d.set(h.i64_atomic_store16,Yg);function Hg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i64,r.contextIsExact=!0,Wt(r)}d.set(h.i64_atomic_store32,Hg);function Kg(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Wt(r)}d.set(h.i64_atomic_store,Kg);function Xg(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,Yt(r)}d.set(h.i32_atomic_rmw8_add_u,Xg);function qg(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,Yt(r)}d.set(h.i32_atomic_rmw16_add_u,qg);function Qg(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Yt(r)}d.set(h.i32_atomic_rmw_add,Qg);function Zg(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,Yt(r)}d.set(h.i64_atomic_rmw8_add_u,Zg);function jg(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Yt(r)}d.set(h.i64_atomic_rmw16_add_u,jg);function Jg(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,Yt(r)}d.set(h.i64_atomic_rmw32_add_u,Jg);function $g(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Yt(r)}d.set(h.i64_atomic_rmw_add,$g);function eT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,Ht(r)}d.set(h.i32_atomic_rmw8_sub_u,eT);function tT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,Ht(r)}d.set(h.i32_atomic_rmw16_sub_u,tT);function rT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Ht(r)}d.set(h.i32_atomic_rmw_sub,rT);function iT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,Ht(r)}d.set(h.i64_atomic_rmw8_sub_u,iT);function nT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Ht(r)}d.set(h.i64_atomic_rmw16_sub_u,nT);function sT(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,Ht(r)}d.set(h.i64_atomic_rmw32_sub_u,sT);function aT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Ht(r)}d.set(h.i64_atomic_rmw_sub,aT);function oT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,Kt(r)}d.set(h.i32_atomic_rmw8_and_u,oT);function lT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,Kt(r)}d.set(h.i32_atomic_rmw16_and_u,lT);function uT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Kt(r)}d.set(h.i32_atomic_rmw_and,uT);function pT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,Kt(r)}d.set(h.i64_atomic_rmw8_and_u,pT);function cT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Kt(r)}d.set(h.i64_atomic_rmw16_and_u,cT);function _T(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,Kt(r)}d.set(h.i64_atomic_rmw32_and_u,_T);function fT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Kt(r)}d.set(h.i64_atomic_rmw_and,fT);function hT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,Xt(r)}d.set(h.i32_atomic_rmw8_or_u,hT);function mT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,Xt(r)}d.set(h.i32_atomic_rmw16_or_u,mT);function dT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Xt(r)}d.set(h.i32_atomic_rmw_or,dT);function ET(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,Xt(r)}d.set(h.i64_atomic_rmw8_or_u,ET);function yT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Xt(r)}d.set(h.i64_atomic_rmw16_or_u,yT);function gT(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,Xt(r)}d.set(h.i64_atomic_rmw32_or_u,gT);function TT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Xt(r)}d.set(h.i64_atomic_rmw_or,TT);function bT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,qt(r)}d.set(h.i32_atomic_rmw8_xor_u,bT);function IT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,qt(r)}d.set(h.i32_atomic_rmw16_xor_u,IT);function vT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,qt(r)}d.set(h.i32_atomic_rmw_xor,vT);function xT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,qt(r)}d.set(h.i64_atomic_rmw8_xor_u,xT);function ST(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,qt(r)}d.set(h.i64_atomic_rmw16_xor_u,ST);function RT(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,qt(r)}d.set(h.i64_atomic_rmw32_xor_u,RT);function AT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,qt(r)}d.set(h.i64_atomic_rmw_xor,AT);function NT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,Qt(r)}d.set(h.i32_atomic_rmw8_xchg_u,NT);function LT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,Qt(r)}d.set(h.i32_atomic_rmw16_xchg_u,LT);function CT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Qt(r)}d.set(h.i32_atomic_rmw_xchg,CT);function FT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,Qt(r)}d.set(h.i64_atomic_rmw8_xchg_u,FT);function kT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Qt(r)}d.set(h.i64_atomic_rmw16_xchg_u,kT);function PT(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,Qt(r)}d.set(h.i64_atomic_rmw32_xchg_u,PT);function OT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Qt(r)}d.set(h.i64_atomic_rmw_xchg,OT);function wT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,r.contextIsExact=!0,Zt(r)}d.set(h.i32_atomic_rmw8_cmpxchg_u,wT);function MT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,r.contextIsExact=!0,Zt(r)}d.set(h.i32_atomic_rmw16_cmpxchg_u,MT);function UT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,r.contextIsExact=!0,Zt(r)}d.set(h.i32_atomic_rmw_cmpxchg,UT);function BT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i64,r.contextIsExact=!0,Zt(r)}d.set(h.i64_atomic_rmw8_cmpxchg_u,BT);function DT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i64,r.contextIsExact=!0,Zt(r)}d.set(h.i64_atomic_rmw16_cmpxchg_u,DT);function GT(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.i64,r.contextIsExact=!0,Zt(r)}d.set(h.i64_atomic_rmw32_cmpxchg_u,GT);function VT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,r.contextIsExact=!0,Zt(r)}d.set(h.i64_atomic_rmw_cmpxchg,VT);function zT(r){return T(r),r.typeArguments=[u.i32],pu(r)}d.set(h.i32_wait,zT);function WT(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i32,pu(r)}d.set(h.i64_wait,WT);function YT(r){return T(r),r.typeArguments=[u.v128],r.contextualType=u.v128,Ie(r)}d.set(h.v128_load,YT);function HT(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,hr(r)}d.set(h.v128_load8x8_s,HT);function KT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,hr(r)}d.set(h.v128_load8x8_u,KT);function XT(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,hr(r)}d.set(h.v128_load16x4_s,XT);function qT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,hr(r)}d.set(h.v128_load16x4_u,qT);function QT(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,hr(r)}d.set(h.v128_load32x2_s,QT);function ZT(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,hr(r)}d.set(h.v128_load32x2_u,ZT);function jT(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,mn(r)}d.set(h.v128_load8_splat,jT);function JT(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,mn(r)}d.set(h.v128_load16_splat,JT);function $T(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,mn(r)}d.set(h.v128_load32_splat,$T);function eb(r){return T(r),r.typeArguments=[u.u64],r.contextualType=u.v128,mn(r)}d.set(h.v128_load64_splat,eb);function tb(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,_u(r)}d.set(h.v128_load32_zero,tb);function rb(r){return T(r),r.typeArguments=[u.u64],r.contextualType=u.v128,_u(r)}d.set(h.v128_load64_zero,rb);function ib(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,dn(r)}d.set(h.v128_load8_lane,ib);function nb(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,dn(r)}d.set(h.v128_load16_lane,nb);function sb(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,dn(r)}d.set(h.v128_load32_lane,sb);function ab(r){return T(r),r.typeArguments=[u.u64],r.contextualType=u.v128,dn(r)}d.set(h.v128_load64_lane,ab);function ob(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,En(r)}d.set(h.v128_store8_lane,ob);function lb(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,En(r)}d.set(h.v128_store16_lane,lb);function ub(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,En(r)}d.set(h.v128_store32_lane,ub);function pb(r){return T(r),r.typeArguments=[u.u64],r.contextualType=u.v128,En(r)}d.set(h.v128_store64_lane,pb);function cb(r){return T(r),r.typeArguments=[u.v128],r.contextualType=u.v128,r.contextIsExact=!0,et(r)}d.set(h.v128_store,cb);function _b(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,_r(r)}d.set(h.i8x16_splat,_b);function fb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i32,xt(r)}d.set(h.i8x16_extract_lane_s,fb);function hb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.i32,xt(r)}d.set(h.i8x16_extract_lane_u,hb);function mb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,fr(r)}d.set(h.i8x16_replace_lane,mb);function db(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,mr(r)}d.set(h.i8x16_add,db);function Eb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,dr(r)}d.set(h.i8x16_sub,Eb);function yb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,St(r)}d.set(h.i8x16_min_s,yb);function gb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,St(r)}d.set(h.i8x16_min_u,gb);function Tb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,Rt(r)}d.set(h.i8x16_max_s,Tb);function bb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,Rt(r)}d.set(h.i8x16_max_u,bb);function Ib(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,du(r)}d.set(h.i8x16_avgr_u,Ib);function vb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,Tr(r)}d.set(h.i8x16_abs,vb);function xb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,gr(r)}d.set(h.i8x16_neg,xb);function Sb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,yn(r)}d.set(h.i8x16_add_sat_s,Sb);function Rb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,yn(r)}d.set(h.i8x16_add_sat_u,Rb);function Ab(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,gn(r)}d.set(h.i8x16_sub_sat_s,Ab);function Nb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,gn(r)}d.set(h.i8x16_sub_sat_u,Nb);function Lb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,bn(r)}d.set(h.i8x16_shl,Lb);function Cb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,At(r)}d.set(h.i8x16_shr_s,Cb);function Fb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,At(r)}d.set(h.i8x16_shr_u,Fb);function kb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i32,In(r)}d.set(h.i8x16_all_true,kb);function Pb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.i32,vn(r)}d.set(h.i8x16_bitmask,Pb);function Ob(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,zc(r)}d.set(h.i8x16_popcnt,Ob);function wb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,Er(r)}d.set(h.i8x16_eq,wb);function Mb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,yr(r)}d.set(h.i8x16_ne,Mb);function Ub(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,ut(r)}d.set(h.i8x16_lt_s,Ub);function Bb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,ut(r)}d.set(h.i8x16_lt_u,Bb);function Db(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,pt(r)}d.set(h.i8x16_le_s,Db);function Gb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,pt(r)}d.set(h.i8x16_le_u,Gb);function Vb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,ct(r)}d.set(h.i8x16_gt_s,Vb);function zb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,ct(r)}d.set(h.i8x16_gt_u,zb);function Wb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,_t(r)}d.set(h.i8x16_ge_s,Wb);function Yb(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,_t(r)}d.set(h.i8x16_ge_u,Yb);function Hb(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Tn(r)}d.set(h.i8x16_narrow_i16x8_s,Hb);function Kb(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,Tn(r)}d.set(h.i8x16_narrow_i16x8_u,Kb);function Xb(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,Dc(r)}d.set(h.i8x16_shuffle,Xb);function qb(r){return T(r),r.typeArguments=null,r.contextualType=u.v128,Gc(r)}d.set(h.i8x16_swizzle,qb);function Qb(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,_r(r)}d.set(h.i16x8_splat,Qb);function Zb(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i32,xt(r)}d.set(h.i16x8_extract_lane_s,Zb);function jb(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.i32,xt(r)}d.set(h.i16x8_extract_lane_u,jb);function Jb(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,fr(r)}d.set(h.i16x8_replace_lane,Jb);function $b(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,mr(r)}d.set(h.i16x8_add,$b);function eI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,dr(r)}d.set(h.i16x8_sub,eI);function tI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,ui(r)}d.set(h.i16x8_mul,tI);function rI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,St(r)}d.set(h.i16x8_min_s,rI);function iI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,St(r)}d.set(h.i16x8_min_u,iI);function nI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Rt(r)}d.set(h.i16x8_max_s,nI);function sI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,Rt(r)}d.set(h.i16x8_max_u,sI);function aI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,du(r)}d.set(h.i16x8_avgr_u,aI);function oI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Tr(r)}d.set(h.i16x8_abs,oI);function lI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,gr(r)}d.set(h.i16x8_neg,lI);function uI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,yn(r)}d.set(h.i16x8_add_sat_s,uI);function pI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,yn(r)}d.set(h.i16x8_add_sat_u,pI);function cI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,gn(r)}d.set(h.i16x8_sub_sat_s,cI);function _I(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,gn(r)}d.set(h.i16x8_sub_sat_u,_I);function fI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,bn(r)}d.set(h.i16x8_shl,fI);function hI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,At(r)}d.set(h.i16x8_shr_s,hI);function mI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,At(r)}d.set(h.i16x8_shr_u,mI);function dI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i32,In(r)}d.set(h.i16x8_all_true,dI);function EI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.i32,vn(r)}d.set(h.i16x8_bitmask,EI);function yI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Er(r)}d.set(h.i16x8_eq,yI);function gI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,yr(r)}d.set(h.i16x8_ne,gI);function TI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,ut(r)}d.set(h.i16x8_lt_s,TI);function bI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,ut(r)}d.set(h.i16x8_lt_u,bI);function II(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,pt(r)}d.set(h.i16x8_le_s,II);function vI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,pt(r)}d.set(h.i16x8_le_u,vI);function xI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,ct(r)}d.set(h.i16x8_gt_s,xI);function SI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,ct(r)}d.set(h.i16x8_gt_u,SI);function RI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,_t(r)}d.set(h.i16x8_ge_s,RI);function AI(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,_t(r)}d.set(h.i16x8_ge_u,AI);function NI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Tn(r)}d.set(h.i16x8_narrow_i32x4_s,NI);function LI(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,Tn(r)}d.set(h.i16x8_narrow_i32x4_u,LI);function CI(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,br(r)}d.set(h.i16x8_extend_low_i8x16_s,CI);function FI(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,br(r)}d.set(h.i16x8_extend_low_i8x16_u,FI);function kI(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,Ir(r)}d.set(h.i16x8_extend_high_i8x16_s,kI);function PI(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,Ir(r)}d.set(h.i16x8_extend_high_i8x16_u,PI);function OI(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,xn(r)}d.set(h.i16x8_extadd_pairwise_i8x16_s,OI);function wI(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,xn(r)}d.set(h.i16x8_extadd_pairwise_i8x16_u,wI);function MI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Hc(r)}d.set(h.i16x8_q15mulr_sat_s,MI);function UI(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,vr(r)}d.set(h.i16x8_extmul_low_i8x16_s,UI);function BI(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,vr(r)}d.set(h.i16x8_extmul_low_i8x16_u,BI);function DI(r){return T(r),r.typeArguments=[u.i8],r.contextualType=u.v128,xr(r)}d.set(h.i16x8_extmul_high_i8x16_s,DI);function GI(r){return T(r),r.typeArguments=[u.u8],r.contextualType=u.v128,xr(r)}d.set(h.i16x8_extmul_high_i8x16_u,GI);function VI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,_r(r)}d.set(h.i32x4_splat,VI);function zI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,xt(r)}d.set(h.i32x4_extract_lane,zI);function WI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,fr(r)}d.set(h.i32x4_replace_lane,WI);function YI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,mr(r)}d.set(h.i32x4_add,YI);function HI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,dr(r)}d.set(h.i32x4_sub,HI);function KI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,ui(r)}d.set(h.i32x4_mul,KI);function XI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,St(r)}d.set(h.i32x4_min_s,XI);function qI(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,St(r)}d.set(h.i32x4_min_u,qI);function QI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Rt(r)}d.set(h.i32x4_max_s,QI);function ZI(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,Rt(r)}d.set(h.i32x4_max_u,ZI);function jI(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Vc(r)}d.set(h.i32x4_dot_i16x8_s,jI);function JI(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Tr(r)}d.set(h.i32x4_abs,JI);function $I(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,gr(r)}d.set(h.i32x4_neg,$I);function ev(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,bn(r)}d.set(h.i32x4_shl,ev);function tv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,At(r)}d.set(h.i32x4_shr_s,tv);function rv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,At(r)}d.set(h.i32x4_shr_u,rv);function iv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,In(r)}d.set(h.i32x4_all_true,iv);function nv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.i32,vn(r)}d.set(h.i32x4_bitmask,nv);function sv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Er(r)}d.set(h.i32x4_eq,sv);function av(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,yr(r)}d.set(h.i32x4_ne,av);function ov(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,ut(r)}d.set(h.i32x4_lt_s,ov);function lv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,ut(r)}d.set(h.i32x4_lt_u,lv);function uv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,pt(r)}d.set(h.i32x4_le_s,uv);function pv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,pt(r)}d.set(h.i32x4_le_u,pv);function cv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,ct(r)}d.set(h.i32x4_gt_s,cv);function _v(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,ct(r)}d.set(h.i32x4_gt_u,_v);function fv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,_t(r)}d.set(h.i32x4_ge_s,fv);function hv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,_t(r)}d.set(h.i32x4_ge_u,hv);function mv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,xu(r)}d.set(h.i32x4_trunc_sat_f32x4_s,mv);function dv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,xu(r)}d.set(h.i32x4_trunc_sat_f32x4_u,dv);function Ev(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Su(r)}d.set(h.i32x4_trunc_sat_f64x2_s_zero,Ev);function yv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,Su(r)}d.set(h.i32x4_trunc_sat_f64x2_u_zero,yv);function gv(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,br(r)}d.set(h.i32x4_extend_low_i16x8_s,gv);function Tv(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,br(r)}d.set(h.i32x4_extend_low_i16x8_u,Tv);function bv(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,Ir(r)}d.set(h.i32x4_extend_high_i16x8_s,bv);function Iv(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,Ir(r)}d.set(h.i32x4_extend_high_i16x8_u,Iv);function vv(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,xn(r)}d.set(h.i32x4_extadd_pairwise_i16x8_s,vv);function xv(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,xn(r)}d.set(h.i32x4_extadd_pairwise_i16x8_u,xv);function Sv(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,vr(r)}d.set(h.i32x4_extmul_low_i16x8_s,Sv);function Rv(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,vr(r)}d.set(h.i32x4_extmul_low_i16x8_u,Rv);function Av(r){return T(r),r.typeArguments=[u.i16],r.contextualType=u.v128,xr(r)}d.set(h.i32x4_extmul_high_i16x8_s,Av);function Nv(r){return T(r),r.typeArguments=[u.u16],r.contextualType=u.v128,xr(r)}d.set(h.i32x4_extmul_high_i16x8_u,Nv);function Lv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,_r(r)}d.set(h.i64x2_splat,Lv);function Cv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i64,xt(r)}d.set(h.i64x2_extract_lane,Cv);function Fv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,fr(r)}d.set(h.i64x2_replace_lane,Fv);function kv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,mr(r)}d.set(h.i64x2_add,kv);function Pv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,dr(r)}d.set(h.i64x2_sub,Pv);function Ov(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,ui(r)}d.set(h.i64x2_mul,Ov);function wv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,Tr(r)}d.set(h.i64x2_abs,wv);function Mv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,gr(r)}d.set(h.i64x2_neg,Mv);function Uv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,bn(r)}d.set(h.i64x2_shl,Uv);function Bv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,At(r)}d.set(h.i64x2_shr_s,Bv);function Dv(r){return T(r),r.typeArguments=[u.u64],r.contextualType=u.v128,At(r)}d.set(h.i64x2_shr_u,Dv);function Gv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i32,In(r)}d.set(h.i64x2_all_true,Gv);function Vv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.i32,vn(r)}d.set(h.i64x2_bitmask,Vv);function zv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,Er(r)}d.set(h.i64x2_eq,zv);function Wv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,yr(r)}d.set(h.i64x2_ne,Wv);function Yv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,ut(r)}d.set(h.i64x2_lt_s,Yv);function Hv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,pt(r)}d.set(h.i64x2_le_s,Hv);function Kv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,ct(r)}d.set(h.i64x2_gt_s,Kv);function Xv(r){return T(r),r.typeArguments=[u.i64],r.contextualType=u.v128,_t(r)}d.set(h.i64x2_ge_s,Xv);function qv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,br(r)}d.set(h.i64x2_extend_low_i32x4_s,qv);function Qv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,br(r)}d.set(h.i64x2_extend_low_i32x4_u,Qv);function Zv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Ir(r)}d.set(h.i64x2_extend_high_i32x4_s,Zv);function jv(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,Ir(r)}d.set(h.i64x2_extend_high_i32x4_u,jv);function Jv(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,vr(r)}d.set(h.i64x2_extmul_low_i32x4_s,Jv);function $v(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,vr(r)}d.set(h.i64x2_extmul_low_i32x4_u,$v);function ex(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,xr(r)}d.set(h.i64x2_extmul_high_i32x4_s,ex);function tx(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,xr(r)}d.set(h.i64x2_extmul_high_i32x4_u,tx);function rx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,_r(r)}d.set(h.f32x4_splat,rx);function ix(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.f32,xt(r)}d.set(h.f32x4_extract_lane,ix);function nx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,fr(r)}d.set(h.f32x4_replace_lane,nx);function sx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,mr(r)}d.set(h.f32x4_add,sx);function ax(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,dr(r)}d.set(h.f32x4_sub,ax);function ox(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,ui(r)}d.set(h.f32x4_mul,ox);function lx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,fu(r)}d.set(h.f32x4_div,lx);function ux(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,gr(r)}d.set(h.f32x4_neg,ux);function px(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,St(r)}d.set(h.f32x4_min,px);function cx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,Rt(r)}d.set(h.f32x4_max,cx);function _x(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,hu(r)}d.set(h.f32x4_pmin,_x);function fx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,mu(r)}d.set(h.f32x4_pmax,fx);function hx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,Tr(r)}d.set(h.f32x4_abs,hx);function mx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,Eu(r)}d.set(h.f32x4_sqrt,mx);function dx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,yu(r)}d.set(h.f32x4_ceil,dx);function Ex(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,gu(r)}d.set(h.f32x4_floor,Ex);function yx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,Tu(r)}d.set(h.f32x4_trunc,yx);function gx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,bu(r)}d.set(h.f32x4_nearest,gx);function Tx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,Er(r)}d.set(h.f32x4_eq,Tx);function bx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,yr(r)}d.set(h.f32x4_ne,bx);function Ix(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,ut(r)}d.set(h.f32x4_lt,Ix);function vx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,pt(r)}d.set(h.f32x4_le,vx);function xx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,ct(r)}d.set(h.f32x4_gt,xx);function Sx(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,_t(r)}d.set(h.f32x4_ge,Sx);function Rx(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,Iu(r)}d.set(h.f32x4_convert_i32x4_s,Rx);function Ax(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,Iu(r)}d.set(h.f32x4_convert_i32x4_u,Ax);function Nx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,Wc(r)}d.set(h.f32x4_demote_f64x2_zero,Nx);function Lx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,_r(r)}d.set(h.f64x2_splat,Lx);function Cx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.f64,xt(r)}d.set(h.f64x2_extract_lane,Cx);function Fx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,fr(r)}d.set(h.f64x2_replace_lane,Fx);function kx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,mr(r)}d.set(h.f64x2_add,kx);function Px(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,dr(r)}d.set(h.f64x2_sub,Px);function Ox(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,ui(r)}d.set(h.f64x2_mul,Ox);function wx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,fu(r)}d.set(h.f64x2_div,wx);function Mx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,gr(r)}d.set(h.f64x2_neg,Mx);function Ux(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,St(r)}d.set(h.f64x2_min,Ux);function Bx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,Rt(r)}d.set(h.f64x2_max,Bx);function Dx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,hu(r)}d.set(h.f64x2_pmin,Dx);function Gx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,mu(r)}d.set(h.f64x2_pmax,Gx);function Vx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,Tr(r)}d.set(h.f64x2_abs,Vx);function zx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,Eu(r)}d.set(h.f64x2_sqrt,zx);function Wx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,yu(r)}d.set(h.f64x2_ceil,Wx);function Yx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,gu(r)}d.set(h.f64x2_floor,Yx);function Hx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,Tu(r)}d.set(h.f64x2_trunc,Hx);function Kx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,bu(r)}d.set(h.f64x2_nearest,Kx);function Xx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,Er(r)}d.set(h.f64x2_eq,Xx);function qx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,yr(r)}d.set(h.f64x2_ne,qx);function Qx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,ut(r)}d.set(h.f64x2_lt,Qx);function Zx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,pt(r)}d.set(h.f64x2_le,Zx);function jx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,ct(r)}d.set(h.f64x2_gt,jx);function Jx(r){return T(r),r.typeArguments=[u.f64],r.contextualType=u.v128,_t(r)}d.set(h.f64x2_ge,Jx);function $x(r){return T(r),r.typeArguments=[u.i32],r.contextualType=u.v128,vu(r)}d.set(h.f64x2_convert_low_i32x4_s,$x);function e2(r){return T(r),r.typeArguments=[u.u32],r.contextualType=u.v128,vu(r)}d.set(h.f64x2_convert_low_i32x4_u,e2);function t2(r){return T(r),r.typeArguments=[u.f32],r.contextualType=u.v128,Yc(r)}d.set(h.f64x2_promote_low_f32x4,t2);function Oc(r){var e=r.module,t=new Array,i=r.options.sizeTypeRef,n=assert(r.program.visitInstance);r.compileFunction(n,!0);for(let s=Map_values(r.program.elementsByName),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);if(l.kind!=0)continue;let p=l,_=p.type.getClass();if(_&&!_.hasDecorator(16)&&p.is(4194304))if(p.is(16777216)){let f=p.constantIntegerValue;(i64_low(f)||i64_high(f))&&t.push(e.call(n.internalName,[r.options.isWasm64?e.i64(i64_low(f),i64_high(f)):e.i32(i64_low(f)),e.local_get(0,F.I32)],F.None))}else t.push(e.if(e.local_tee(1,e.global_get(p.internalName,i),!1),e.call(n.internalName,[e.local_get(1,i),e.local_get(0,F.I32)],F.None)))}e.addFunction(h.visit_globals,F.I32,F.None,[i],t.length?e.block(null,t):e.nop())}function Kc(r,e){if(assert(e.type.isManaged),!e.visitRef){var t=r.program,i=r.module,n=t.options.usizeType,s=n.toRef(),a=n.byteSize,o=assert(t.visitInstance),l=new Array,p=e.base;p&&l.push(i.call(p.internalName+"~visit",[i.local_get(0,s),i.local_get(1,F.I32)],F.None));var c=!1;if(e.isDeclaredInLibrary){let f=e.getMember("__visit");if(f){assert(f.kind==4);let E=t.resolver.resolveFunction(f,null);if(!E||!r.compileFunction(E))l.push(i.unreachable());else{let g=E.signature,b=assert(g.thisType);assert(g.parameterTypes.length==1&&g.parameterTypes[0]==u.u32&&g.returnType==u.void&&e.type.isStrictlyAssignableTo(b)),l.push(i.call(E.internalName,[i.local_get(0,s),i.local_get(1,F.I32)],F.None))}c=!0}}var _=!1;if(!c){let f=e.members;if(f)for(let E=Map_values(f),g=0,b=E.length;g<b;++g){let x=unchecked(E[g]);if(x.kind==11&&x.parent==e&&x.type.isManaged){let v=x.memoryOffset;assert(v>=0),_=!0,l.push(i.if(i.local_tee(2,i.load(a,!1,i.local_get(0,s),s,v),!1),i.call(o.internalName,[i.local_get(2,s),i.local_get(1,F.I32)],F.None)))}}}e.visitRef=i.addFunction(e.internalName+"~visit",Oe([s,F.I32]),F.None,_?[s]:null,i.flatten(l,F.None)),p&&p.type.isManaged&&Kc(r,p)}}function wc(r){var e=r.program,t=r.module,i=e.options.usizeType,n=i.toRef(),s=e.managedClasses,a=assert(e.visitInstance);r.compileFunction(a,!0);var o=new Array,l=new Array,p=0;for(let _=Map_keys(s),f=0,E=_.length;f<E;++f){let g=_[f];assert(g==p++);let b=assert(s.get(g));o[f]=b.internalName,b.isPointerfree?l[f]=t.return():(l[f]=t.block(null,[t.call(b.internalName+"~visit",[t.local_get(0,n),t.local_get(1,F.I32)],F.None),t.return()],F.None),Kc(r,b))}var c=t.block(o[0],[t.switch(o,"invalid",t.load(4,!1,n==F.I64?t.binary(26,t.local_get(0,n),t.i64(8)):t.binary(1,t.local_get(0,n),t.i32(8)),F.I32,0))],F.None);for(let _=0,f=o.length-1;_<f;++_)c=t.block(o[_+1],[c,l[_]],F.None);c=t.block("invalid",[c,l[o.length-1]],F.None),t.addFunction(h.visit_members,Oe([n,F.I32]),F.None,null,t.flatten([c,t.unreachable()]))}function ai(r){var e=64*(1<<r.alignLog2);return r.is(1)&&(e|=2048),r.is(8)&&(e|=4096),r.is(512)&&(e|=8192),r.isManaged&&(e|=16384),e/64}function Mc(r){var e=r.program,t=r.module,i=e.managedClasses,n=i.size,s=4+8*n,a=new Uint8Array(s);ce(n,a,0);var o=4,l=e.arrayBufferViewInstance,p=l.prototype,c=e.arrayPrototype,_=e.setPrototype,f=e.mapPrototype,E=e.staticArrayPrototype,g=0;for(let S=Map_keys(i),v=0,L=S.length;v<L;++v){let O=unchecked(S[v]),C=assert(i.get(O));assert(O==g++);let k=0;if(C.isPointerfree&&(k|=32),C!=l&&C.extends(p)){let Y=C.getArrayValueType();k|=1,k|=64*ai(Y)}else if(C.extends(c)){let Y=C.getArrayValueType();k|=2,k|=64*ai(Y)}else if(C.extends(_)){let Y=assert(C.getTypeArgumentsTo(_));assert(Y.length==1),k|=8,k|=64*ai(Y[0])}else if(C.extends(f)){let Y=assert(C.getTypeArgumentsTo(f));assert(Y.length==2),k|=16,k|=32768*ai(Y[0]),k|=64*ai(Y[1])}else if(C.extends(E)){let Y=C.getArrayValueType();k|=4,k|=64*ai(Y)}ce(k,a,o),o+=4,C.rttiFlags=k;let D=C.base;ce(D?D.id:0,a,o),o+=4}assert(o==s);var b=e.options.usizeType,x=r.addAlignedMemorySegment(a);if(b.size==8){let S=x.offset;t.addGlobal(h.rtti_base,F.I64,!1,t.i64(i64_low(S),i64_high(S)))}else t.addGlobal(h.rtti_base,F.I32,!1,t.i32(i64_low(x.offset)))}function Uc(r,e){var t=r.module,i=r.options.sizeTypeRef,n=assert(e.program.instanceofInstance);r.compileFunction(n);var s=new Array;s.push(t.if(t.unary(i==F.I64?21:20,t.local_get(0,i)),t.return(t.i32(0))));var a=e.instances;if(a&&a.size>0)for(let o=Map_values(a),l=0,p=o.length;l<p;++l){let c=unchecked(o[l]);s.push(t.if(t.call(n.internalName,[t.local_get(0,i),t.i32(c.id)],F.I32),t.return(t.i32(1))))}s.push(t.return(t.i32(0))),t.addFunction(e.internalName+"~instanceof",i,F.I32,null,t.flatten(s))}var oi=0;function Se(r){var e=r.compiler,t=r.operands,i=r.typeArguments;if(oi=0,t.length==0)return!i||i.length!=1?(e.error(2558,r.reportNode.typeArgumentsRange,"1",i?i.length.toString():"0"),null):i[0];if(t.length==1){if(i&&i.length>0){if(i.length>1)return e.error(2558,r.reportNode.typeArgumentsRange,"1",i.length.toString()),null;oi=e.compileExpression(t[0],i[0],1)}else oi=e.compileExpression(t[0],u.auto);return e.currentType}return i&&i.length>1&&e.error(2558,r.reportNode.typeArgumentsRange,"1",i.length.toString()),e.error(2554,r.reportNode.argumentsRange,"1",t.length.toString()),null}function be(r,e){var t=r.compiler.module;return oi&&Gs(oi,t.ref)&&(e=t.block(null,[t.maybeDrop(oi),e],le(e))),e}function Xe(r,e){var t=e.module,i;if(e.options.isWasm64){let n=e.compileExpression(r,u.usize64,1),s=t.runExpression(n,1);s?(assert($e(s)==0),i=Be(s)):(e.error(220,r.range),i=-1)}else{let n=e.compileExpression(r,u.usize32,1),s=t.runExpression(n,1);s?i=ie(s):(e.error(220,r.range),i=-1)}return i}function vt(r,e,t){var i=Xe(r,t);return i<0?i:i<1||e>16?(t.error(222,r.range,"Alignment","1",e.toString()),-1):ht(i)?i:(t.error(223,r.range,"Alignment"),-1)}function H(r,e){var t=r.compiler;return t.options.hasFeature(e)?0:(t.error(103,r.reportNode.range,Or(e)),1)}function X(r,e=!1){var t=r.compiler,i=r.typeArguments;if(i){let n=i.length;if(n==1)return 0;assert(n),e&&(t.currentType=i[0]),t.error(2558,r.reportNode.typeArgumentsRange,"1",n.toString())}else t.error(2558,r.reportNode.range,"1","0");return 1}function ae(r,e=!1){var t=r.typeArguments;if(t){let i=r.compiler,n=t.length;return n==1?0:(assert(n),e&&(i.currentType=t[0]),i.error(2558,r.reportNode.typeArgumentsRange,"1",n.toString()),1)}return 0}function T(r){var e=r.typeArguments;if(e){let t=r.prototype;return t.program.error(2315,r.reportNode.typeArgumentsRange,t.internalName),1}return 0}function W(r,e){var t=r.operands;return t.length!=e?(r.compiler.error(2554,r.reportNode.range,e.toString(),t.length.toString()),1):0}function Ee(r,e,t){var i=r.operands,n=i.length;return n<e?(r.compiler.error(2555,r.reportNode.range,e.toString(),n.toString()),1):n>t?(r.compiler.error(2554,r.reportNode.range,t.toString(),n.toString()),1):0}function Bs(r,e,t){var i=r.module;if(t!=u.auto&&t.isIntegerValue)switch(t.kind){case 2:{if(i64_is_i32(e))return r.currentType=u.i32,i.i32(i64_low(e));break}case 7:{if(i64_is_u32(e))return r.currentType=u.u32,i.i32(i64_low(e));break}case 3:case 8:return r.currentType=t,i.i64(i64_low(e),i64_high(e))}return r.options.isWasm64?(r.currentType=u.usize64,i.i64(i64_low(e),i64_high(e))):(r.currentType=u.usize32,assert(!i64_high(e)),i.i32(i64_low(e)))}var F;(g=>(g.None=0,g.Unreachable=1,g.I32=2,g.I64=3,g.F32=4,g.F64=5,g.V128=6,g.Funcref=7,g.Externref=8,g.Anyref=9,g.Eqref=10,g.I31ref=11,g.Dataref=12,g.Auto=-1))(F||={});var ql=(x=>(x[x.MVP=0]="MVP",x[x.Atomics=1]="Atomics",x[x.MutableGlobals=2]="MutableGlobals",x[x.TruncSat=4]="TruncSat",x[x.SIMD=8]="SIMD",x[x.BulkMemory=16]="BulkMemory",x[x.SignExt=32]="SignExt",x[x.ExceptionHandling=64]="ExceptionHandling",x[x.TailCall=128]="TailCall",x[x.ReferenceTypes=256]="ReferenceTypes",x[x.MultiValue=512]="MultiValue",x[x.GC=1024]="GC",x[x.Memory64=2048]="Memory64",x[x.TypedFunctionReferences=4096]="TypedFunctionReferences",x[x.RelaxedSIMD=16384]="RelaxedSIMD",x[x.All=32767]="All",x))(ql||{}),nr=(M=>(M[M.Invalid=0]="Invalid",M[M.Block=1]="Block",M[M.If=2]="If",M[M.Loop=3]="Loop",M[M.Break=4]="Break",M[M.Switch=5]="Switch",M[M.Call=6]="Call",M[M.CallIndirect=7]="CallIndirect",M[M.LocalGet=8]="LocalGet",M[M.LocalSet=9]="LocalSet",M[M.GlobalGet=10]="GlobalGet",M[M.GlobalSet=11]="GlobalSet",M[M.Load=12]="Load",M[M.Store=13]="Store",M[M.Const=14]="Const",M[M.Unary=15]="Unary",M[M.Binary=16]="Binary",M[M.Select=17]="Select",M[M.Drop=18]="Drop",M[M.Return=19]="Return",M[M.MemorySize=20]="MemorySize",M[M.MemoryGrow=21]="MemoryGrow",M[M.Nop=22]="Nop",M[M.Unreachable=23]="Unreachable",M[M.AtomicRMW=24]="AtomicRMW",M[M.AtomicCmpxchg=25]="AtomicCmpxchg",M[M.AtomicWait=26]="AtomicWait",M[M.AtomicNotify=27]="AtomicNotify",M[M.AtomicFence=28]="AtomicFence",M[M.SIMDExtract=29]="SIMDExtract",M[M.SIMDReplace=30]="SIMDReplace",M[M.SIMDShuffle=31]="SIMDShuffle",M[M.SIMDTernary=32]="SIMDTernary",M[M.SIMDShift=33]="SIMDShift",M[M.SIMDLoad=34]="SIMDLoad",M[M.SIMDLoadStoreLane=35]="SIMDLoadStoreLane",M[M.MemoryInit=36]="MemoryInit",M[M.DataDrop=37]="DataDrop",M[M.MemoryCopy=38]="MemoryCopy",M[M.MemoryFill=39]="MemoryFill",M[M.Pop=40]="Pop",M[M.RefNull=41]="RefNull",M[M.RefIs=42]="RefIs",M[M.RefFunc=43]="RefFunc",M[M.RefEq=44]="RefEq",M[M.TableGet=45]="TableGet",M[M.TableSet=46]="TableSet",M[M.TableSize=47]="TableSize",M[M.TableGrow=48]="TableGrow",M[M.Try=49]="Try",M[M.Throw=50]="Throw",M[M.Rethrow=51]="Rethrow",M[M.TupleMake=52]="TupleMake",M[M.TupleExtract=53]="TupleExtract",M[M.I31New=54]="I31New",M[M.I31Get=55]="I31Get",M[M.CallRef=56]="CallRef",M[M.RefTest=57]="RefTest",M[M.RefCast=58]="RefCast",M[M.BrOn=59]="BrOn",M[M.RttCanon=60]="RttCanon",M[M.RttSub=61]="RttSub",M[M.StructNew=62]="StructNew",M[M.StructGet=63]="StructGet",M[M.StructSet=64]="StructSet",M[M.ArrayNew=65]="ArrayNew",M[M.ArrayInit=66]="ArrayInit",M[M.ArrayGet=67]="ArrayGet",M[M.ArraySet=68]="ArraySet",M[M.ArrayLen=69]="ArrayLen",M[M.ArrayCopy=70]="ArrayCopy",M[M.RefAs=71]="RefAs",M))(nr||{}),Wl=(s=>(s[s.Function=0]="Function",s[s.Table=1]="Table",s[s.Memory=2]="Memory",s[s.Global=3]="Global",s[s.Tag=4]="Tag",s))(Wl||{}),Ji=(R=>(R[R.ClzI32=0]="ClzI32",R[R.ClzI64=1]="ClzI64",R[R.CtzI32=2]="CtzI32",R[R.CtzI64=3]="CtzI64",R[R.PopcntI32=4]="PopcntI32",R[R.PopcntI64=5]="PopcntI64",R[R.NegF32=6]="NegF32",R[R.NegF64=7]="NegF64",R[R.AbsF32=8]="AbsF32",R[R.AbsF64=9]="AbsF64",R[R.CeilF32=10]="CeilF32",R[R.CeilF64=11]="CeilF64",R[R.FloorF32=12]="FloorF32",R[R.FloorF64=13]="FloorF64",R[R.TruncF32=14]="TruncF32",R[R.TruncF64=15]="TruncF64",R[R.NearestF32=16]="NearestF32",R[R.NearestF64=17]="NearestF64",R[R.SqrtF32=18]="SqrtF32",R[R.SqrtF64=19]="SqrtF64",R[R.EqzI32=20]="EqzI32",R[R.EqzI64=21]="EqzI64",R[R.ExtendI32ToI64=22]="ExtendI32ToI64",R[R.ExtendU32ToU64=23]="ExtendU32ToU64",R[R.WrapI64ToI32=24]="WrapI64ToI32",R[R.TruncF32ToI32=25]="TruncF32ToI32",R[R.TruncF32ToI64=26]="TruncF32ToI64",R[R.TruncF32ToU32=27]="TruncF32ToU32",R[R.TruncF32ToU64=28]="TruncF32ToU64",R[R.TruncF64ToI32=29]="TruncF64ToI32",R[R.TruncF64ToI64=30]="TruncF64ToI64",R[R.TruncF64ToU32=31]="TruncF64ToU32",R[R.TruncF64ToU64=32]="TruncF64ToU64",R[R.ReinterpretF32ToI32=33]="ReinterpretF32ToI32",R[R.ReinterpretF64ToI64=34]="ReinterpretF64ToI64",R[R.ConvertI32ToF32=35]="ConvertI32ToF32",R[R.ConvertI32ToF64=36]="ConvertI32ToF64",R[R.ConvertU32ToF32=37]="ConvertU32ToF32",R[R.ConvertU32ToF64=38]="ConvertU32ToF64",R[R.ConvertI64ToF32=39]="ConvertI64ToF32",R[R.ConvertI64ToF64=40]="ConvertI64ToF64",R[R.ConvertU64ToF32=41]="ConvertU64ToF32",R[R.ConvertU64ToF64=42]="ConvertU64ToF64",R[R.PromoteF32ToF64=43]="PromoteF32ToF64",R[R.DemoteF64ToF32=44]="DemoteF64ToF32",R[R.ReinterpretI32ToF32=45]="ReinterpretI32ToF32",R[R.ReinterpretI64ToF64=46]="ReinterpretI64ToF64",R[R.Extend8I32=47]="Extend8I32",R[R.Extend16I32=48]="Extend16I32",R[R.Extend8I64=49]="Extend8I64",R[R.Extend16I64=50]="Extend16I64",R[R.Extend32I64=51]="Extend32I64",R[R.TruncSatF32ToI32=52]="TruncSatF32ToI32",R[R.TruncSatF32ToU32=53]="TruncSatF32ToU32",R[R.TruncSatF64ToI32=54]="TruncSatF64ToI32",R[R.TruncSatF64ToU32=55]="TruncSatF64ToU32",R[R.TruncSatF32ToI64=56]="TruncSatF32ToI64",R[R.TruncSatF32ToU64=57]="TruncSatF32ToU64",R[R.TruncSatF64ToI64=58]="TruncSatF64ToI64",R[R.TruncSatF64ToU64=59]="TruncSatF64ToU64",R[R.SplatI8x16=60]="SplatI8x16",R[R.SplatI16x8=61]="SplatI16x8",R[R.SplatI32x4=62]="SplatI32x4",R[R.SplatI64x2=63]="SplatI64x2",R[R.SplatF32x4=64]="SplatF32x4",R[R.SplatF64x2=65]="SplatF64x2",R[R.NotV128=66]="NotV128",R[R.AnyTrueV128=67]="AnyTrueV128",R[R.AbsI8x16=68]="AbsI8x16",R[R.NegI8x16=69]="NegI8x16",R[R.AllTrueI8x16=70]="AllTrueI8x16",R[R.BitmaskI8x16=71]="BitmaskI8x16",R[R.PopcntI8x16=72]="PopcntI8x16",R[R.AbsI16x8=73]="AbsI16x8",R[R.NegI16x8=74]="NegI16x8",R[R.AllTrueI16x8=75]="AllTrueI16x8",R[R.BitmaskI16x8=76]="BitmaskI16x8",R[R.AbsI32x4=77]="AbsI32x4",R[R.NegI32x4=78]="NegI32x4",R[R.AllTrueI32x4=79]="AllTrueI32x4",R[R.BitmaskI32x4=80]="BitmaskI32x4",R[R.AbsI64x2=81]="AbsI64x2",R[R.NegI64x2=82]="NegI64x2",R[R.AllTrueI64x2=83]="AllTrueI64x2",R[R.BitmaskI64x2=84]="BitmaskI64x2",R[R.AbsF32x4=85]="AbsF32x4",R[R.NegF32x4=86]="NegF32x4",R[R.SqrtF32x4=87]="SqrtF32x4",R[R.CeilF32x4=88]="CeilF32x4",R[R.FloorF32x4=89]="FloorF32x4",R[R.TruncF32x4=90]="TruncF32x4",R[R.NearestF32x4=91]="NearestF32x4",R[R.AbsF64x2=92]="AbsF64x2",R[R.NegF64x2=93]="NegF64x2",R[R.SqrtF64x2=94]="SqrtF64x2",R[R.CeilF64x2=95]="CeilF64x2",R[R.FloorF64x2=96]="FloorF64x2",R[R.TruncF64x2=97]="TruncF64x2",R[R.NearestF64x2=98]="NearestF64x2",R[R.ExtaddPairwiseI8x16ToI16x8=99]="ExtaddPairwiseI8x16ToI16x8",R[R.ExtaddPairwiseU8x16ToU16x8=100]="ExtaddPairwiseU8x16ToU16x8",R[R.ExtaddPairwiseI16x8ToI32x4=101]="ExtaddPairwiseI16x8ToI32x4",R[R.ExtaddPairwiseU16x8ToU32x4=102]="ExtaddPairwiseU16x8ToU32x4",R[R.TruncSatF32x4ToI32x4=103]="TruncSatF32x4ToI32x4",R[R.TruncSatF32x4ToU32x4=104]="TruncSatF32x4ToU32x4",R[R.ConvertI32x4ToF32x4=105]="ConvertI32x4ToF32x4",R[R.ConvertU32x4ToF32x4=106]="ConvertU32x4ToF32x4",R[R.ExtendLowI8x16ToI16x8=107]="ExtendLowI8x16ToI16x8",R[R.ExtendHighI8x16ToI16x8=108]="ExtendHighI8x16ToI16x8",R[R.ExtendLowU8x16ToU16x8=109]="ExtendLowU8x16ToU16x8",R[R.ExtendHighU8x16ToU16x8=110]="ExtendHighU8x16ToU16x8",R[R.ExtendLowI16x8ToI32x4=111]="ExtendLowI16x8ToI32x4",R[R.ExtendHighI16x8ToI32x4=112]="ExtendHighI16x8ToI32x4",R[R.ExtendLowU16x8ToU32x4=113]="ExtendLowU16x8ToU32x4",R[R.ExtendHighU16x8ToU32x4=114]="ExtendHighU16x8ToU32x4",R[R.ExtendLowI32x4ToI64x2=115]="ExtendLowI32x4ToI64x2",R[R.ExtendHighI32x4ToI64x2=116]="ExtendHighI32x4ToI64x2",R[R.ExtendLowU32x4ToU64x2=117]="ExtendLowU32x4ToU64x2",R[R.ExtendHighU32x4ToU64x2=118]="ExtendHighU32x4ToU64x2",R[R.ConvertLowI32x4ToF64x2=119]="ConvertLowI32x4ToF64x2",R[R.ConvertLowU32x4ToF64x2=120]="ConvertLowU32x4ToF64x2",R[R.TruncSatF64x2ToI32x4Zero=121]="TruncSatF64x2ToI32x4Zero",R[R.TruncSatF64x2ToU32x4Zero=122]="TruncSatF64x2ToU32x4Zero",R[R.DemoteZeroF64x2ToF32x4=123]="DemoteZeroF64x2ToF32x4",R[R.PromoteLowF32x4ToF64x2=124]="PromoteLowF32x4ToF64x2",R[R._last=124]="_last",R[R.ClzSize=125]="ClzSize",R[R.CtzSize=126]="CtzSize",R[R.PopcntSize=127]="PopcntSize",R[R.EqzSize=128]="EqzSize",R))(Ji||{}),jr=(y=>(y[y.AddI32=0]="AddI32",y[y.SubI32=1]="SubI32",y[y.MulI32=2]="MulI32",y[y.DivI32=3]="DivI32",y[y.DivU32=4]="DivU32",y[y.RemI32=5]="RemI32",y[y.RemU32=6]="RemU32",y[y.AndI32=7]="AndI32",y[y.OrI32=8]="OrI32",y[y.XorI32=9]="XorI32",y[y.ShlI32=10]="ShlI32",y[y.ShrI32=11]="ShrI32",y[y.ShrU32=12]="ShrU32",y[y.RotlI32=13]="RotlI32",y[y.RotrI32=14]="RotrI32",y[y.EqI32=15]="EqI32",y[y.NeI32=16]="NeI32",y[y.LtI32=17]="LtI32",y[y.LtU32=18]="LtU32",y[y.LeI32=19]="LeI32",y[y.LeU32=20]="LeU32",y[y.GtI32=21]="GtI32",y[y.GtU32=22]="GtU32",y[y.GeI32=23]="GeI32",y[y.GeU32=24]="GeU32",y[y.AddI64=25]="AddI64",y[y.SubI64=26]="SubI64",y[y.MulI64=27]="MulI64",y[y.DivI64=28]="DivI64",y[y.DivU64=29]="DivU64",y[y.RemI64=30]="RemI64",y[y.RemU64=31]="RemU64",y[y.AndI64=32]="AndI64",y[y.OrI64=33]="OrI64",y[y.XorI64=34]="XorI64",y[y.ShlI64=35]="ShlI64",y[y.ShrI64=36]="ShrI64",y[y.ShrU64=37]="ShrU64",y[y.RotlI64=38]="RotlI64",y[y.RotrI64=39]="RotrI64",y[y.EqI64=40]="EqI64",y[y.NeI64=41]="NeI64",y[y.LtI64=42]="LtI64",y[y.LtU64=43]="LtU64",y[y.LeI64=44]="LeI64",y[y.LeU64=45]="LeU64",y[y.GtI64=46]="GtI64",y[y.GtU64=47]="GtU64",y[y.GeI64=48]="GeI64",y[y.GeU64=49]="GeU64",y[y.AddF32=50]="AddF32",y[y.SubF32=51]="SubF32",y[y.MulF32=52]="MulF32",y[y.DivF32=53]="DivF32",y[y.CopysignF32=54]="CopysignF32",y[y.MinF32=55]="MinF32",y[y.MaxF32=56]="MaxF32",y[y.EqF32=57]="EqF32",y[y.NeF32=58]="NeF32",y[y.LtF32=59]="LtF32",y[y.LeF32=60]="LeF32",y[y.GtF32=61]="GtF32",y[y.GeF32=62]="GeF32",y[y.AddF64=63]="AddF64",y[y.SubF64=64]="SubF64",y[y.MulF64=65]="MulF64",y[y.DivF64=66]="DivF64",y[y.CopysignF64=67]="CopysignF64",y[y.MinF64=68]="MinF64",y[y.MaxF64=69]="MaxF64",y[y.EqF64=70]="EqF64",y[y.NeF64=71]="NeF64",y[y.LtF64=72]="LtF64",y[y.LeF64=73]="LeF64",y[y.GtF64=74]="GtF64",y[y.GeF64=75]="GeF64",y[y.EqI8x16=76]="EqI8x16",y[y.NeI8x16=77]="NeI8x16",y[y.LtI8x16=78]="LtI8x16",y[y.LtU8x16=79]="LtU8x16",y[y.GtI8x16=80]="GtI8x16",y[y.GtU8x16=81]="GtU8x16",y[y.LeI8x16=82]="LeI8x16",y[y.LeU8x16=83]="LeU8x16",y[y.GeI8x16=84]="GeI8x16",y[y.GeU8x16=85]="GeU8x16",y[y.EqI16x8=86]="EqI16x8",y[y.NeI16x8=87]="NeI16x8",y[y.LtI16x8=88]="LtI16x8",y[y.LtU16x8=89]="LtU16x8",y[y.GtI16x8=90]="GtI16x8",y[y.GtU16x8=91]="GtU16x8",y[y.LeI16x8=92]="LeI16x8",y[y.LeU16x8=93]="LeU16x8",y[y.GeI16x8=94]="GeI16x8",y[y.GeU16x8=95]="GeU16x8",y[y.EqI32x4=96]="EqI32x4",y[y.NeI32x4=97]="NeI32x4",y[y.LtI32x4=98]="LtI32x4",y[y.LtU32x4=99]="LtU32x4",y[y.GtI32x4=100]="GtI32x4",y[y.GtU32x4=101]="GtU32x4",y[y.LeI32x4=102]="LeI32x4",y[y.LeU32x4=103]="LeU32x4",y[y.GeI32x4=104]="GeI32x4",y[y.GeU32x4=105]="GeU32x4",y[y.EqI64x2=106]="EqI64x2",y[y.NeI64x2=107]="NeI64x2",y[y.LtI64x2=108]="LtI64x2",y[y.GtI64x2=109]="GtI64x2",y[y.LeI64x2=110]="LeI64x2",y[y.GeI64x2=111]="GeI64x2",y[y.EqF32x4=112]="EqF32x4",y[y.NeF32x4=113]="NeF32x4",y[y.LtF32x4=114]="LtF32x4",y[y.GtF32x4=115]="GtF32x4",y[y.LeF32x4=116]="LeF32x4",y[y.GeF32x4=117]="GeF32x4",y[y.EqF64x2=118]="EqF64x2",y[y.NeF64x2=119]="NeF64x2",y[y.LtF64x2=120]="LtF64x2",y[y.GtF64x2=121]="GtF64x2",y[y.LeF64x2=122]="LeF64x2",y[y.GeF64x2=123]="GeF64x2",y[y.AndV128=124]="AndV128",y[y.OrV128=125]="OrV128",y[y.XorV128=126]="XorV128",y[y.AndnotV128=127]="AndnotV128",y[y.AddI8x16=128]="AddI8x16",y[y.AddSatI8x16=129]="AddSatI8x16",y[y.AddSatU8x16=130]="AddSatU8x16",y[y.SubI8x16=131]="SubI8x16",y[y.SubSatI8x16=132]="SubSatI8x16",y[y.SubSatU8x16=133]="SubSatU8x16",y[y.MinI8x16=134]="MinI8x16",y[y.MinU8x16=135]="MinU8x16",y[y.MaxI8x16=136]="MaxI8x16",y[y.MaxU8x16=137]="MaxU8x16",y[y.AvgrU8x16=138]="AvgrU8x16",y[y.AddI16x8=139]="AddI16x8",y[y.AddSatI16x8=140]="AddSatI16x8",y[y.AddSatU16x8=141]="AddSatU16x8",y[y.SubI16x8=142]="SubI16x8",y[y.SubSatI16x8=143]="SubSatI16x8",y[y.SubSatU16x8=144]="SubSatU16x8",y[y.MulI16x8=145]="MulI16x8",y[y.MinI16x8=146]="MinI16x8",y[y.MinU16x8=147]="MinU16x8",y[y.MaxI16x8=148]="MaxI16x8",y[y.MaxU16x8=149]="MaxU16x8",y[y.AvgrU16x8=150]="AvgrU16x8",y[y.Q15mulrSatI16x8=151]="Q15mulrSatI16x8",y[y.ExtmulLowI16x8=152]="ExtmulLowI16x8",y[y.ExtmulHighI16x8=153]="ExtmulHighI16x8",y[y.ExtmulLowU16x8=154]="ExtmulLowU16x8",y[y.ExtmulHighU16x8=155]="ExtmulHighU16x8",y[y.AddI32x4=156]="AddI32x4",y[y.SubI32x4=157]="SubI32x4",y[y.MulI32x4=158]="MulI32x4",y[y.MinI32x4=159]="MinI32x4",y[y.MinU32x4=160]="MinU32x4",y[y.MaxI32x4=161]="MaxI32x4",y[y.MaxU32x4=162]="MaxU32x4",y[y.DotI16x8=163]="DotI16x8",y[y.ExtmulLowI32x4=164]="ExtmulLowI32x4",y[y.ExtmulHighI32x4=165]="ExtmulHighI32x4",y[y.ExtmulLowU32x4=166]="ExtmulLowU32x4",y[y.ExtmulHighU32x4=167]="ExtmulHighU32x4",y[y.AddI64x2=168]="AddI64x2",y[y.SubI64x2=169]="SubI64x2",y[y.MulI64x2=170]="MulI64x2",y[y.ExtmulLowI64x2=171]="ExtmulLowI64x2",y[y.ExtmulHighI64x2=172]="ExtmulHighI64x2",y[y.ExtmulLowU64x2=173]="ExtmulLowU64x2",y[y.ExtmulHighU64x2=174]="ExtmulHighU64x2",y[y.AddF32x4=175]="AddF32x4",y[y.SubF32x4=176]="SubF32x4",y[y.MulF32x4=177]="MulF32x4",y[y.DivF32x4=178]="DivF32x4",y[y.MinF32x4=179]="MinF32x4",y[y.MaxF32x4=180]="MaxF32x4",y[y.PminF32x4=181]="PminF32x4",y[y.PmaxF32x4=182]="PmaxF32x4",y[y.AddF64x2=183]="AddF64x2",y[y.SubF64x2=184]="SubF64x2",y[y.MulF64x2=185]="MulF64x2",y[y.DivF64x2=186]="DivF64x2",y[y.MinF64x2=187]="MinF64x2",y[y.MaxF64x2=188]="MaxF64x2",y[y.PminF64x2=189]="PminF64x2",y[y.PmaxF64x2=190]="PmaxF64x2",y[y.NarrowI16x8ToI8x16=191]="NarrowI16x8ToI8x16",y[y.NarrowU16x8ToU8x16=192]="NarrowU16x8ToU8x16",y[y.NarrowI32x4ToI16x8=193]="NarrowI32x4ToI16x8",y[y.NarrowU32x4ToU16x8=194]="NarrowU32x4ToU16x8",y[y.SwizzleI8x16=195]="SwizzleI8x16",y[y._last=195]="_last",y[y.AddSize=196]="AddSize",y[y.SubSize=197]="SubSize",y[y.MulSize=198]="MulSize",y[y.DivISize=199]="DivISize",y[y.DivUSize=200]="DivUSize",y[y.RemISize=201]="RemISize",y[y.RemUSize=202]="RemUSize",y[y.AndSize=203]="AndSize",y[y.OrSize=204]="OrSize",y[y.XorSize=205]="XorSize",y[y.ShlSize=206]="ShlSize",y[y.ShrISize=207]="ShrISize",y[y.ShrUSize=208]="ShrUSize",y[y.RotlSize=209]="RotlSize",y[y.RotrSize=210]="RotrSize",y[y.EqSize=211]="EqSize",y[y.NeSize=212]="NeSize",y[y.LtISize=213]="LtISize",y[y.LtUSize=214]="LtUSize",y[y.LeISize=215]="LeISize",y[y.LeUSize=216]="LeUSize",y[y.GtISize=217]="GtISize",y[y.GtUSize=218]="GtUSize",y[y.GeISize=219]="GeISize",y[y.GeUSize=220]="GeUSize",y))(jr||{}),Ru=(a=>(a[a.Add=0]="Add",a[a.Sub=1]="Sub",a[a.And=2]="And",a[a.Or=3]="Or",a[a.Xor=4]="Xor",a[a.Xchg=5]="Xchg",a))(Ru||{}),Au=(l=>(l[l.ExtractLaneI8x16=0]="ExtractLaneI8x16",l[l.ExtractLaneU8x16=1]="ExtractLaneU8x16",l[l.ExtractLaneI16x8=2]="ExtractLaneI16x8",l[l.ExtractLaneU16x8=3]="ExtractLaneU16x8",l[l.ExtractLaneI32x4=4]="ExtractLaneI32x4",l[l.ExtractLaneI64x2=5]="ExtractLaneI64x2",l[l.ExtractLaneF32x4=6]="ExtractLaneF32x4",l[l.ExtractLaneF64x2=7]="ExtractLaneF64x2",l))(Au||{}),Nu=(a=>(a[a.ReplaceLaneI8x16=0]="ReplaceLaneI8x16",a[a.ReplaceLaneI16x8=1]="ReplaceLaneI16x8",a[a.ReplaceLaneI32x4=2]="ReplaceLaneI32x4",a[a.ReplaceLaneI64x2=3]="ReplaceLaneI64x2",a[a.ReplaceLaneF32x4=4]="ReplaceLaneF32x4",a[a.ReplaceLaneF64x2=5]="ReplaceLaneF64x2",a))(Nu||{}),Lu=(f=>(f[f.ShlI8x16=0]="ShlI8x16",f[f.ShrI8x16=1]="ShrI8x16",f[f.ShrU8x16=2]="ShrU8x16",f[f.ShlI16x8=3]="ShlI16x8",f[f.ShrI16x8=4]="ShrI16x8",f[f.ShrU16x8=5]="ShrU16x8",f[f.ShlI32x4=6]="ShlI32x4",f[f.ShrI32x4=7]="ShrI32x4",f[f.ShrU32x4=8]="ShrU32x4",f[f.ShlI64x2=9]="ShlI64x2",f[f.ShrI64x2=10]="ShrI64x2",f[f.ShrU64x2=11]="ShrU64x2",f))(Lu||{}),Cu=(f=>(f[f.Load8Splat=0]="Load8Splat",f[f.Load16Splat=1]="Load16Splat",f[f.Load32Splat=2]="Load32Splat",f[f.Load64Splat=3]="Load64Splat",f[f.Load8x8S=4]="Load8x8S",f[f.Load8x8U=5]="Load8x8U",f[f.Load16x4S=6]="Load16x4S",f[f.Load16x4U=7]="Load16x4U",f[f.Load32x2S=8]="Load32x2S",f[f.Load32x2U=9]="Load32x2U",f[f.Load32Zero=10]="Load32Zero",f[f.Load64Zero=11]="Load64Zero",f))(Cu||{}),Fu=(l=>(l[l.Load8Lane=0]="Load8Lane",l[l.Load16Lane=1]="Load16Lane",l[l.Load32Lane=2]="Load32Lane",l[l.Load64Lane=3]="Load64Lane",l[l.Store8Lane=4]="Store8Lane",l[l.Store16Lane=5]="Store16Lane",l[l.Store32Lane=6]="Store32Lane",l[l.Store64Lane=7]="Store64Lane",l))(Fu||{}),ku=(e=>(e[e.Bitselect=0]="Bitselect",e))(ku||{}),Os=(n=>(n[n.RefIsNull=0]="RefIsNull",n[n.RefIsFunc=1]="RefIsFunc",n[n.RefIsData=2]="RefIsData",n[n.RefIsI31=3]="RefIsI31",n))(Os||{}),Xc=(n=>(n[n.RefAsNonNull=0]="RefAsNonNull",n[n.RefAsFunc=1]="RefAsFunc",n[n.RefAsData=2]="RefAsData",n[n.RefAsI31=3]="RefAsI31",n))(Xc||{}),qc=(s=>(s[s.BrOnNull=0]="BrOnNull",s[s.BrOnCast=1]="BrOnCast",s[s.BrOnFunc=2]="BrOnFunc",s[s.BrOnData=3]="BrOnData",s[s.BrOnI31=4]="BrOnI31",s))(qc||{}),ws=(i=>(i[i.Default=0]="Default",i[i.PreserveSideeffects=1]="PreserveSideeffects",i[i.TraverseCalls=2]="TraverseCalls",i))(ws||{}),un=class{constructor(e,t){this.buffer=e;this.offset=t}},zs=class{constructor(e,t,i){this.ref=e;this.useShadowStack=t;this.sizeType=i;this.hasTemporaryFunction=!1;this.cachedStringsToPointers=new Map;this.cachedPointersToStrings=new Map;assert(i==F.I32||i==F.I64),this.lit=jt(Pu())}static create(e,t){return new zs(Jc(),e,t)}static createFrom(e,t,i){var n=Sn(e),s=new zs($f(n,e.length),t,i);return ne(changetype(n)),s}i32(e){var t=this.lit;return e_(t,e),pi(this.ref,t)}i64(e,t=0){var i=this.lit;return t_(i,e,t),pi(this.ref,i)}usize(e){return i64_is(e)?this.sizeType==F.I64?this.i64(i64_low(e),i64_high(e)):(assert(i64_is_u32(e)),this.i32(i64_low(e))):this.sizeType==F.I64?this.i64(i32(e)):this.i32(i32(e))}f32(e){var t=this.lit;return r_(t,e),pi(this.ref,t)}f64(e){var t=this.lit;return i_(t,e),pi(this.ref,t)}v128(e){assert(e.length==16);var t=this.lit;for(let i=0;i<16;++i)Re(t+i,e[i]);return n_(t,t),pi(this.ref,t)}ref_null(e){return rf(this.ref,e)}ref_eq(e,t){return of(this.ref,e,t)}unary(e,t){if(e>124){let i=this.sizeType==F.I64;switch(e){case 125:return this.unary(i?1:0,t);case 126:return this.unary(i?3:2,t);case 127:return this.unary(i?5:4,t);case 128:return this.unary(i?21:20,t)}assert(!1)}return O_(this.ref,e,t)}binary(e,t,i){if(e>195){let n=this.sizeType==F.I64;switch(e){case 196:return this.binary(n?25:0,t,i);case 197:return this.binary(n?26:1,t,i);case 198:return this.binary(n?27:2,t,i);case 199:return this.binary(n?28:3,t,i);case 200:return this.binary(n?29:4,t,i);case 201:return this.binary(n?30:5,t,i);case 202:return this.binary(n?31:6,t,i);case 203:return this.binary(n?32:7,t,i);case 204:return this.binary(n?33:8,t,i);case 205:return this.binary(n?34:9,t,i);case 206:return this.binary(n?35:10,t,i);case 207:return this.binary(n?36:11,t,i);case 208:return this.binary(n?37:12,t,i);case 209:return this.binary(n?38:13,t,i);case 210:return this.binary(n?39:14,t,i);case 211:return this.binary(n?40:15,t,i);case 212:return this.binary(n?41:16,t,i);case 213:return this.binary(n?42:17,t,i);case 214:return this.binary(n?43:18,t,i);case 215:return this.binary(n?44:19,t,i);case 216:return this.binary(n?45:20,t,i);case 217:return this.binary(n?46:21,t,i);case 218:return this.binary(n?47:22,t,i);case 219:return this.binary(n?48:23,t,i);case 220:return this.binary(n?49:24,t,i)}assert(!1)}return M_(this.ref,e,t,i)}memory_size(){return T_(this.ref)}memory_grow(e){return b_(this.ref,e)}table_size(e){var t=this.allocStringCached(e);return pf(this.ref,t)}table_grow(e,t,i=0){var n=this.allocStringCached(e);return cf(this.ref,n,i,t)}local_get(e,t){return m_(this.ref,e,t)}tostack(e){if(this.useShadowStack){let t=It(e);return assert(t==F.I32||t==F.Unreachable),this.call(h.tostack,[e],t)}return e}local_tee(e,t,i,n=F.Auto){return n==F.Auto&&(n=It(t)),i&&this.useShadowStack&&(t=this.tostack(t)),E_(this.ref,e,t,n)}global_get(e,t){var i=this.allocStringCached(e);return y_(this.ref,i,t)}table_get(e,t,i){var n=this.allocStringCached(e);return lf(this.ref,n,t,i)}load(e,t,i,n,s=0,a=e){return I_(this.ref,e,t,s,a,n,i)}store(e,t,i,n,s=0,a=e){return A_(this.ref,e,s,a,t,i,n)}atomic_load(e,t,i,n=0){return R_(this.ref,e,n,i,t)}atomic_store(e,t,i,n,s=0){return N_(this.ref,e,s,t,i,n)}atomic_rmw(e,t,i,n,s,a){return z_(this.ref,e,t,i,n,s,a)}atomic_cmpxchg(e,t,i,n,s,a){return W_(this.ref,e,t,i,n,s,a)}atomic_wait(e,t,i,n){return Y_(this.ref,e,t,i,n)}atomic_notify(e,t){return H_(this.ref,e,t)}atomic_fence(){return K_(this.ref)}local_set(e,t,i){return i&&this.useShadowStack&&(t=this.tostack(t)),d_(this.ref,e,t)}global_set(e,t){var i=this.allocStringCached(e);return g_(this.ref,i,t)}table_set(e,t,i){var n=this.allocStringCached(e);return uf(this.ref,n,t,i)}block(e,t,i=F.None){var n=this.allocStringCached(e),s=me(t),a=a_(this.ref,n,s,t.length,i);return ne(s),a}flatten(e,t=F.None){var i=e.length;if(i==0)return this.nop();if(i==1){let n=e[0];switch(ee(n)){case 19:case 50:case 23:return n}let s=le(n);return assert(s==F.Unreachable||s==t),n}return this.block(null,e,t)}br(e,t=0,i=0){var n=this.allocStringCached(e);return u_(this.ref,n,t,i)}drop(e){return Ou(this.ref,e)}maybeDrop(e){var t=It(e);return t!=F.None&&t!=F.Unreachable?Ou(this.ref,e):e}maybeDropCondition(e,t){return(ni(e,this.ref)&~(pn.ReadsLocal|pn.ReadsGlobal))!=0?this.block(null,[this.drop(e),t],le(t)):t}loop(e,t){var i=this.allocStringCached(e);return l_(this.ref,i,t)}if(e,t,i=0){return o_(this.ref,e,t,i)}nop(){return G_(this.ref)}return(e=0){return D_(this.ref,e)}select(e,t,i,n){return B_(this.ref,i,e,t,n)}switch(e,t,i,n=0){var s=e.length,a=new Array(s);for(let c=0;c<s;++c)a[c]=this.allocStringCached(e[c]);var o=me(a),l=this.allocStringCached(t),p=p_(this.ref,o,s,l,i,n);return ne(o),p}call(e,t,i,n=!1){var s=this.allocStringCached(e),a=me(t),o=n?__(this.ref,s,a,t?t.length:0,i):c_(this.ref,s,a,t?t.length:0,i);return ne(a),o}return_call(e,t,i){return this.call(e,t,i,!0)}call_indirect(e,t,i,n,s,a=!1){var o=this.allocStringCached(e??"0"),l=me(i),p=a?h_(this.ref,o,t,l,i?i.length:0,n,s):f_(this.ref,o,t,l,i?i.length:0,n,s);return ne(l),p}return_call_indirect(e,t,i,n,s){return this.call_indirect(e,t,i,n,s,!0)}unreachable(){return V_(this.ref)}memory_copy(e,t,i){return ef(this.ref,e,t,i)}memory_fill(e,t,i){return tf(this.ref,e,t,i)}try(e,t,i,n,s=null){var a=i.length,o=new Array(a);for(let E=0;E<a;++E)o[E]=this.allocStringCached(i[E]);var l=me(o),p=me(n),c=this.allocStringCached(e),_=this.allocStringCached(s),f=_f(this.ref,c,t,l,a,p,n.length,_);return ne(p),ne(l),f}throw(e,t){var i=this.allocStringCached(e),n=me(t),s=ff(this.ref,i,n,t.length);return ne(n),s}rethrow(e){var t=this.allocStringCached(e);return hf(this.ref,t)}pop(e){return Ef(this.ref,e)}tuple_make(e){var t=me(e),i=mf(this.ref,t,e.length);return ne(t),i}tuple_extract(e,t){return df(this.ref,e,t)}simd_extract(e,t,i){return X_(this.ref,e,t,i)}simd_replace(e,t,i,n){return q_(this.ref,e,t,i,n)}simd_shuffle(e,t,i){assert(i.length==16);var n=Sn(i),s=Q_(this.ref,e,t,n);return ne(n),s}simd_ternary(e,t,i,n){return Z_(this.ref,e,t,i,n)}simd_shift(e,t,i){return j_(this.ref,e,t,i)}simd_load(e,t,i,n){return J_(this.ref,e,i,n,t)}simd_loadstorelane(e,t,i,n,s,a){return $_(this.ref,e,i,n,s,t,a)}ref_is(e,t){return nf(this.ref,e,t)}ref_as(e,t){return sf(this.ref,e,t)}ref_func(e,t){var i=this.allocStringCached(e);return af(this.ref,i,t)}i31_new(e){return yf(this.ref,e)}i31_get(e,t){return gf(this.ref,e,t)}addGlobal(e,t,i,n){var s=this.allocStringCached(e);return Ff(this.ref,s,t,i,n)}getGlobal(e){var t=this.allocStringCached(e);return kf(this.ref,t)}removeGlobal(e){var t=this.allocStringCached(e);Pf(this.ref,t)}addTag(e,t,i){var n=this.allocStringCached(e);return Uf(this.ref,n,t,i)}getTag(e){var t=this.allocStringCached(e);return Bf(this.ref,t)}removeTag(e){var t=this.allocStringCached(e);Df(this.ref,t)}addFunction(e,t,i,n,s){var a=this.allocStringCached(e),o=me(n),l=ri(this.ref,a,t,i,o,n?n.length:0,s);return ne(o),l}getFunction(e){var t=this.allocStringCached(e);return ii(this.ref,t)}removeFunction(e){var t=this.allocStringCached(e);on(this.ref,t)}hasFunction(e){var t=this.allocStringCached(e);return ii(this.ref,t)!=0}addTemporaryFunction(e,t,i){this.hasTemporaryFunction=assert(!this.hasTemporaryFunction);var n=this.allocStringCached(""),s=me(t),a=ri(this.ref,n,Oe(t),e,0,0,i);return ne(s),a}removeTemporaryFunction(){this.hasTemporaryFunction=!assert(this.hasTemporaryFunction);var e=this.allocStringCached("");on(this.ref,e)}setStart(e){Qf(this.ref,e)}addFunctionExport(e,t){var i=this.allocStringCached(e),n=this.allocStringCached(t);return Ls(this.ref,i,n)}addTableExport(e,t){var i=this.allocStringCached(e),n=this.allocStringCached(t);return Af(this.ref,i,n)}addMemoryExport(e,t){var i=this.allocStringCached(e),n=this.allocStringCached(t);return Nf(this.ref,i,n)}addGlobalExport(e,t){var i=this.allocStringCached(e),n=this.allocStringCached(t);return Lf(this.ref,i,n)}addTagExport(e,t){var i=this.allocStringCached(e),n=this.allocStringCached(t);return Cf(this.ref,i,n)}removeExport(e){var t=this.allocStringCached(e);Fs(this.ref,t)}hasExport(e){var t=this.allocStringCached(e);return Cs(this.ref,t)!=0}addFunctionImport(e,t,i,n,s){var a=this.allocStringCached(e),o=this.allocStringCached(t),l=this.allocStringCached(i);If(this.ref,a,o,l,n,s)}addTableImport(e,t,i){var n=this.allocStringCached(e),s=this.allocStringCached(t),a=this.allocStringCached(i);vf(this.ref,n,s,a)}addMemoryImport(e,t,i,n=!1){var s=this.allocStringCached(e),a=this.allocStringCached(t),o=this.allocStringCached(i);xf(this.ref,s,a,o,n)}addGlobalImport(e,t,i,n,s=!1){var a=this.allocStringCached(e),o=this.allocStringCached(t),l=this.allocStringCached(i);Sf(this.ref,a,o,l,n,s)}addTagImport(e,t,i,n,s){var a=this.allocStringCached(e),o=this.allocStringCached(t),l=this.allocStringCached(i);Rf(this.ref,a,o,l,n,s)}setMemory(e,t,i,n,s=null,a=!1){var o=this.allocStringCached(s),l=i.length,p=new Array(l),c=new Uint8Array(l),_=new Array(l),f=new Array(l);for(let S=0;S<l;++S){let v=i[S],L=v.buffer,O=v.offset;p[S]=Sn(L),c[S]=0,_[S]=n==2?this.i64(i64_low(O),i64_high(O)):this.i32(i64_low(O)),f[S]=L.length}var E=me(p),g=Sn(c),b=me(_),x=N2(f);qf(this.ref,e,t,o,E,g,b,x,l,a),ne(x),ne(b),ne(g),ne(E);for(let S=l-1;S>=0;--S)ne(p[S])}addFunctionTable(e,t,i,n,s){var a=this.allocStringCached(e),o=n.length,l=new Array(o);for(let _=0;_<o;++_)l[_]=this.allocStringCached(n[_]);var p=me(l),c=Yf(this.ref,a);c?(Hf(c,t),Kf(c,i)):c=Wf(this.ref,a,t,i,F.Funcref),Xf(this.ref,a,a,p,o,s),ne(p)}addCustomSection(e,t){var i=this.allocStringCached(e),n=Sn(t);sh(this.ref,i,n,t.length),ne(n)}getOptimizeLevel(){return mh()}setOptimizeLevel(e){dh(e)}getShrinkLevel(){return Eh()}setShrinkLevel(e){yh(e)}getDebugInfo(){return gh()}setDebugInfo(e){Th(e)}getLowMemoryUnused(){return bh()}setLowMemoryUnused(e){Ih(e)}getZeroFilledMemory(){return vh()}setZeroFilledMemory(e){xh(e)}getFastMath(){return Sh()}setFastMath(e){Rh(e)}getPassArgument(e){var t=this.allocStringCached(e),i=Ah(t);return i?Ge(i):null}setPassArgument(e,t){var i=this.allocStringCached(e),n=this.allocStringCached(t);Nh(i,n)}clearPassArguments(){Lh()}getAlwaysInlineMaxSize(){return Ch()}setAlwaysInlineMaxSize(e){Fh(e)}getFlexibleInlineMaxSize(){return kh()}setFlexibleInlineMaxSize(e){Ph(e)}getOneCallerInlineMaxSize(){return Oh()}setOneCallerInlineMaxSize(e){wh(e)}getAllowInliningFunctionsWithLoops(){return Mh()}setAllowInliningFunctionsWithLoops(e){Uh(e)}getFeatures(){return ih(this.ref)}setFeatures(e){nh(this.ref,e)}runPasses(e,t=0){var i=e.length,n=new Array(i);for(let a=0;a<i;++a)n[a]=Vs(e[a]);var s=me(n);t?Tf(t,this.ref,s,i):jf(this.ref,s,i),ne(s);for(let a=i-1;a>=0;--a)ne(n[a])}optimize(e,t,i=!1,n=!1){if((e>=3||t>=2)&&(e=4),this.setOptimizeLevel(e),this.setShrinkLevel(t),this.setDebugInfo(i),this.setZeroFilledMemory(n),this.setFastMath(!0),this.clearPassArguments(),e>=2&&t==0?(this.setAlwaysInlineMaxSize(12),this.setFlexibleInlineMaxSize(70),this.setOneCallerInlineMaxSize(200),this.setAllowInliningFunctionsWithLoops(e>=3)):(this.setAlwaysInlineMaxSize(e<=1||t>=2?2:6),this.setFlexibleInlineMaxSize(65),this.setOneCallerInlineMaxSize(80),this.setAllowInliningFunctionsWithLoops(!1)),e>0||t>0){let s=new Array;s.push("duplicate-function-elimination"),s.push("remove-unused-module-elements"),e>=2&&(s.push("once-reduction"),s.push("inlining"),s.push("simplify-globals-optimizing")),(e>=3||t>=1)&&(s.push("rse"),s.push("vacuum"),s.push("code-folding"),s.push("ssa-nomerge"),s.push("local-cse"),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),s.push("precompute-propagate"),s.push("simplify-globals-optimizing")),e>=3&&(s.push("simplify-locals-nostructure"),s.push("flatten"),s.push("vacuum"),s.push("simplify-locals-notee-nostructure"),s.push("vacuum"),s.push("licm"),s.push("merge-locals"),s.push("reorder-locals"),s.push("dae-optimizing")),s.push("optimize-instructions"),(e>=3||t>=1)&&s.push("dce"),s.push("remove-unused-brs"),s.push("remove-unused-names"),e>=3||t>=2?(s.push("inlining"),s.push("precompute-propagate"),s.push("simplify-globals-optimizing")):s.push("precompute"),(e>=2||t>=1)&&s.push("pick-load-signs"),s.push("simplify-locals-notee-nostructure"),s.push("vacuum"),(e>=2||t>=1)&&s.push("local-cse"),s.push("reorder-locals"),s.push("coalesce-locals"),s.push("simplify-locals"),s.push("coalesce-locals"),s.push("reorder-locals"),s.push("vacuum"),(e>=2||t>=1)&&(s.push("rse"),s.push("vacuum")),(e>=3||t>=1)&&(s.push("merge-locals"),s.push("vacuum")),(e>=2||t>=1)&&(s.push("simplify-globals-optimizing"),s.push("simplify-globals-optimizing")),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),e>=3&&s.push("optimize-instructions"),(e>=2||t>=1)&&(s.push("simplify-globals-optimizing"),s.push("dae-optimizing")),(e>=2||t>=2)&&s.push("inlining-optimizing"),this.getLowMemoryUnused()&&(e>=3||t>=1?s.push("optimize-added-constants-propagate"):s.push("optimize-added-constants")),s.push("duplicate-import-elimination"),e>=2||t>=2?s.push("simplify-globals-optimizing"):(s.push("simplify-globals"),s.push("vacuum")),e>=2&&(this.getFeatures()&1024)!=0&&(s.push("heap2local"),s.push("merge-locals"),s.push("local-subtyping")),e>=2||t>=1?(s.push("precompute-propagate"),s.push("simplify-globals-optimizing"),s.push("simplify-globals-optimizing")):s.push("precompute"),s.push("directize"),s.push("dae-optimizing"),s.push("inlining-optimizing"),(e>=2||t>=1)&&(s.push("code-folding"),s.push("ssa-nomerge"),s.push("rse"),s.push("code-pushing"),e>=3&&(s.push("simplify-globals"),s.push("vacuum"),s.push("precompute-propagate"),s.push("inlining-optimizing"),s.push("directize"),s.push("dae-optimizing"),s.push("local-cse"),s.push("merge-locals"),s.push("coalesce-locals"),s.push("simplify-locals"),s.push("vacuum"),s.push("inlining"),s.push("precompute-propagate"),s.push("rse"),s.push("vacuum"),s.push("ssa-nomerge"),s.push("simplify-locals"),s.push("coalesce-locals")),s.push("remove-unused-brs"),s.push("remove-unused-names"),s.push("merge-blocks"),s.push("vacuum"),s.push("optimize-instructions"),s.push("simplify-globals-optimizing")),s.push("duplicate-function-elimination"),s.push("memory-packing"),s.push("remove-unused-module-elements"),this.runPasses(s)}}validate(){return Zf(this.ref)==1}interpret(){eh(this.ref)}toBinary(e=null){var t=this.lit;assert(Pu()>=12);var i=Vs(e),n=0,s=0;Jf(t,this.ref,i),n=assert(Rn(t));var a=Rn(t+4);s=Rn(t+8);var o=new wu(C2(n,a),Ge(s));return i&&ne(i),ne(n),s&&ne(s),o}toText(e=!0){throw new Error("not implemented")}allocStringCached(e){if(e==null)return 0;var t=this.cachedStringsToPointers;if(t.has(e))return changetype(t.get(e));var i=Vs(e);return t.set(e,i),i}readStringCached(e){if(e==0)return null;var t=this.cachedPointersToStrings;if(t.has(e))return changetype(t.get(e));var i=Ge(e);return t.set(e,i),i}dispose(){assert(this.ref);for(let e=Map_values(this.cachedStringsToPointers),t=0,i=e.length;t<i;++t){let n=unchecked(e[t]);ne(n)}this.cachedStringsToPointers.clear(),this.cachedPointersToStrings.clear(),ne(this.lit),$c(this.ref),this.ref=0}createRelooper(){return An.create(this)}tryCopyTrivialExpression(e){switch(nt(e)){case 8:case 10:case 14:case 20:case 22:case 23:case 37:case 41:case 60:return this.copyExpression(e)}return 0}copyExpression(e){return s_(e,this.ref)}runExpression(e,t,i=50,n=1){var s=fh(this.ref,t,i,n),a=hh(s,e);return a&&(assert(ee(a)==14),assert(le(a)==le(e))),a}addDebugInfoFile(e){var t=Vs(e),i=th(this.ref,t);return ne(t),i}getDebugInfoFile(e){return Ge(rh(this.ref,e))}setDebugLocation(e,t,i,n,s){bf(e,t,i,n,s)}},lt=zs;lt.UNLIMITED_MEMORY=-1,lt.UNLIMITED_TABLE=-1;function Oe(r){if(!r)return F.None;switch(r.length){case 0:return F.None;case 1:return r[0]}var e=me(r),t=Qc(e,r.length);return ne(e),t}function Yl(r){var e=Zc(r),t=jt(e<<2);jc(r,t);var i=new Array(e);for(let n=0;n<e;++n)i[n]=Rn(t+(n<<2));return ne(t),i}function ee(r){return nt(r)}function le(r){return It(r)}function ie(r){return L_(r)}function Be(r){return C_(r)}function $e(r){return F_(r)}function Ye(r){return k_(r)}function He(r){return P_(r)}function ge(r){if(ee(r)!=14)return!1;var e=le(r);return e==F.I32?ie(r)==0:e==F.I64?(Be(r)|$e(r))==0:e==F.F32?Ye(r)==0:e==F.F64?He(r)==0:!1}function Je(r){if(ee(r)!=14)return!1;var e=le(r);return e==F.I32?ie(r)!=0:e==F.I64?(Be(r)|$e(r))!=0:e==F.F32?Ye(r)!=0:e==F.F64?He(r)!=0:!1}function ot(r){return Qr(r)}function cs(r){return Bt(r)}function lr(r){return sr(r)}function Xi(r){return Rs(r)}function $i(r){return Ge(ss(r))}function qi(r){return U_(r)}function We(r){return Vi(r)}function Ce(r){return zi(r)}function Qi(r){return w_(r)}function _s(r){return Gi(r)}function Al(r){return S_(r)}function r2(r){return x_(r)}function i2(r){return Bi(r)}function Nl(r){return v_(r)}function n2(r){return xs(r)}function s2(r){return Ss(r)}function a2(r){return ar(r)}function o2(r){return Di(r)}function en(r){return Ge(Ci(r))}function tn(r){return Hr(r)}function rn(r,e){return Kr(r,e)}function fs(r){return Fi(r)}function Zi(r){return ki(r)}function Zr(r){return Pi(r)}function l2(r){return Ge(es(r))}function u2(r){return Oi(r)}function p2(r){return Ge(ts(r))}function c2(r){return Xr(r)}function Ll(r){return Wi(r)}function Cl(r){return Yi(r)}function _2(r){return Hi(r)}function f2(r){return Ki(r)}function h2(r){return or(r)}function ji(r){return Ge(qr(r))}function at(r){return Mt(r)}function Fe(r,e){return Ut(r,e)}function m2(r){return Ui(r)}function d2(r){return wt(r)}function E2(r){return Ge(ti(r))}function y2(r){return sn(r)}function g2(r){return an(r)}function T2(r){var e=As(r),t=new Array(e);for(let i=0;i<e;++i)t[i]=Ns(r,i);return t}function b2(r){return Ge(Of(r))}function I2(r){return wf(r)}function Ql(r){return Mf(r)}function v2(r){return us(r)}function x2(r){return Ge(Gf(r))}function S2(r){return Vf(r)}function R2(r){return zf(r)}var An=class{constructor(e,t){this.module=e;this.ref=t}static create(e){return new An(e,oh(e.ref))}addBlock(e){return lh(this.ref,e)}addBranch(e,t,i=0,n=0){uh(e,t,i,n)}addBlockWithSwitch(e,t){return ph(this.ref,e,t)}addBranchForSwitch(e,t,i,n=0){var s=A2(i);ch(e,t,s,i.length,n),ne(s)}renderAndDispose(e,t){return _h(this.ref,e,t)}},Ms=class{constructor(e,t){this.values=new Array;this.indexes=new Array;this.cases=new Array;this.defaultIndex=-1;this.module=e,this.condition=t}addCase(e,t){var i=this.cases,n=i.indexOf(t);n<0&&(n=i.length,i.push(t)),this.values.push(e),this.indexes.push(n)}addDefault(e){assert(this.defaultIndex==-1);var t=this.cases;this.defaultIndex=t.length,t.push(e)}render(e,t=""){var i=this.module,n=this.cases,s=n.length;if(!s)return i.drop(this.condition);var a=this.values,o=a.length,l=this.indexes,p=new Array(1+o+1),c=new Array(s);for(let b=0;b<s;++b)c[b]="case"+b.toString()+t;p[0]=i.local_set(e,this.condition,!1);for(let b=0;b<o;++b){let x=l[b];p[1+b]=i.br(c[x],i.binary(15,i.local_get(e,F.I32),i.i32(a[b])))}var _=this.defaultIndex,f="default"+t;p[1+o]=i.br(~_?c[_]:f);var E=i.block(c[0],p);for(let b=1;b<s;++b){let x=n[b-1];x.unshift(E),E=i.block(c[b],x)}var g=n[s-1];return g.unshift(E),i.block(~_?null:f,g)}},pn=(S=>(S[S.None=0]="None",S[S.Branches=1]="Branches",S[S.Calls=2]="Calls",S[S.ReadsLocal=4]="ReadsLocal",S[S.WritesLocal=8]="WritesLocal",S[S.ReadsGlobal=16]="ReadsGlobal",S[S.WritesGlobal=32]="WritesGlobal",S[S.ReadsMemory=64]="ReadsMemory",S[S.WritesMemory=128]="WritesMemory",S[S.ReadsTable=256]="ReadsTable",S[S.WritesTable=512]="WritesTable",S[S.ImplicitTrap=1024]="ImplicitTrap",S[S.IsAtomic=2048]="IsAtomic",S[S.Throws=4096]="Throws",S[S.DanglingPop=8192]="DanglingPop",S[S.TrapsNeverHappen=16384]="TrapsNeverHappen",S[S.Any=32767]="Any",S))(pn||{});function ni(r,e){return ah(r,e)}function Gs(r,e){return(ni(r,e)&-21)!=0}function Sn(r){if(!r)return 0;var e=r.length,t=jt(e);for(let i=0;i<e;++i)Re(t+i,r[i]);return t}function A2(r){if(!r)return 0;var e=r.length,t=jt(e<<2),i=t;for(let n=0;n<e;++n){let s=r[n];Ws(i,s),i+=4}return t}function N2(r){if(!r)return 0;var e=r.length,t=jt(e<<2),i=t;for(let n=0;n<e;++n){let s=r[n];Ws(i,s),i+=4}return t}function me(r){if(!r)return 0;assert(ASC_TARGET!=2);var e=r.length,t=jt(e<<2),i=t;for(let n=0,s=e;n<s;++n){let a=r[n];Ws(i,a),i+=4}return t}function L2(r){var e=0;for(let t=0,i=r.length;t<i;++t){let n=r.charCodeAt(t)>>>0;n<=127?e+=1:n<=2047?e+=2:Fr(n)&&t+1<i&&kr(r.charCodeAt(t+1))?(t++,e+=4):e+=3}return e}function Vs(r){if(r==null)return 0;var e=L2(r),t=jt(e+1)>>>0,i=t;if(e==r.length)for(let n=0,s=r.length;n<s;++n){let a=r.charCodeAt(n)>>>0;Re(i++,a)}else for(let n=0,s=r.length;n<s;++n){let a=r.charCodeAt(n)>>>0,o;a<=127?Re(i++,a):a<=2047?(Re(i++,192|a>>>6),Re(i++,128|a&63)):Fr(a)&&n+1<s&&kr(o=r.charCodeAt(n+1))?(a=Js(a,o),++n,Re(i++,240|a>>>18),Re(i++,128|a>>>12&63),Re(i++,128|a>>>6&63),Re(i++,128|a&63)):(Re(i++,224|a>>>12),Re(i++,128|a>>>6&63),Re(i++,128|a&63))}return Re(i,0),t}function C2(r,e){var t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=ci(r+i);return t}function Ge(r){if(!r)return null;for(var e=new Array,t,i,n,s;t=ci(r++);){if(!(t&128)){e.push(t);continue}if(i=ci(r++)&63,(t&224)==192){e.push((t&31)<<6|i);continue}if(n=ci(r++)&63,(t&240)==224?t=(t&15)<<12|i<<6|n:(s=ci(r++)&63,(t&248)==240?t=(t&7)<<18|i<<12|n<<6|s:assert(!1,"Invalid UTF8 sequence during readString")),t<65536)e.push(t);else{let a=t-65536;e.push(yi|a>>>10),e.push(Cr|a&1023)}}return String.fromCharCodes(e)}var wu=class{constructor(e,t){this.output=e;this.sourceMap=t}};function Us(r){if(It(r)!=F.Unreachable)return!1;switch(nt(r)){case 23:case 19:return!1;case 4:return Xr(r)!=0;case 1:if(!Ci(r)){let e=Hr(r);return e>0&&Us(Kr(r,e-1))}}return!0}lt.prototype.toText=function(e=!0){return e?Ei.wrapModule(this.ref).emitStackIR(!0):Ei.wrapModule(this.ref).emitText()};var{_BinaryenTypeCreate:Qc,_BinaryenTypeArity:Zc,_BinaryenTypeExpand:jc,_BinaryenModuleCreate:Jc,_BinaryenModuleDispose:$c,_BinaryenSizeofLiteral:Pu,_BinaryenLiteralInt32:e_,_BinaryenLiteralInt64:t_,_BinaryenLiteralFloat32:r_,_BinaryenLiteralFloat64:i_,_BinaryenLiteralVec128:n_,_BinaryenLiteralFloat32Bits:eO,_BinaryenLiteralFloat64Bits:tO,_BinaryenExpressionGetId:nt,_BinaryenExpressionGetType:It,_BinaryenExpressionSetType:rO,_BinaryenExpressionPrint:iO,_BinaryenExpressionCopy:s_,_BinaryenExpressionFinalize:ju,_BinaryenBlock:a_,_BinaryenBlockGetName:Ci,_BinaryenBlockSetName:nO,_BinaryenBlockGetNumChildren:Hr,_BinaryenBlockGetChildAt:Kr,_BinaryenBlockSetChildAt:Ju,_BinaryenBlockAppendChild:sO,_BinaryenBlockInsertChildAt:aO,_BinaryenBlockRemoveChildAt:oO,_BinaryenIf:o_,_BinaryenIfGetCondition:Fi,_BinaryenIfSetCondition:$u,_BinaryenIfGetIfTrue:ki,_BinaryenIfSetIfTrue:ep,_BinaryenIfGetIfFalse:Pi,_BinaryenIfSetIfFalse:tp,_BinaryenLoop:l_,_BinaryenLoopGetName:es,_BinaryenLoopSetName:lO,_BinaryenLoopGetBody:Oi,_BinaryenLoopSetBody:rp,_BinaryenBreak:u_,_BinaryenBreakGetName:ts,_BinaryenBreakSetName:uO,_BinaryenBreakGetCondition:Xr,_BinaryenBreakSetCondition:ip,_BinaryenBreakGetValue:Lo,_BinaryenBreakSetValue:np,_BinaryenSwitch:p_,_BinaryenSwitchGetNumNames:sp,_BinaryenSwitchGetNameAt:ap,_BinaryenSwitchSetNameAt:pO,_BinaryenSwitchAppendName:cO,_BinaryenSwitchInsertNameAt:_O,_BinaryenSwitchRemoveNameAt:fO,_BinaryenSwitchGetDefaultName:op,_BinaryenSwitchSetDefaultName:hO,_BinaryenSwitchGetCondition:Co,_BinaryenSwitchSetCondition:lp,_BinaryenSwitchGetValue:Fo,_BinaryenSwitchSetValue:up,_BinaryenCall:c_,_BinaryenCallGetTarget:qr,_BinaryenCallSetTarget:mO,_BinaryenCallGetNumOperands:Mt,_BinaryenCallGetOperandAt:Ut,_BinaryenCallSetOperandAt:rs,_BinaryenCallAppendOperand:dO,_BinaryenCallInsertOperandAt:EO,_BinaryenCallRemoveOperandAt:yO,_BinaryenCallIsReturn:gO,_BinaryenCallSetReturn:TO,_BinaryenReturnCall:__,_BinaryenCallIndirect:f_,_BinaryenCallIndirectGetTable:bO,_BinaryenCallIndirectSetTable:IO,_BinaryenCallIndirectGetTarget:ko,_BinaryenCallIndirectSetTarget:pp,_BinaryenCallIndirectGetNumOperands:wi,_BinaryenCallIndirectGetOperandAt:Mi,_BinaryenCallIndirectSetOperandAt:is,_BinaryenCallIndirectAppendOperand:vO,_BinaryenCallIndirectInsertOperandAt:xO,_BinaryenCallIndirectRemoveOperandAt:SO,_BinaryenCallIndirectIsReturn:RO,_BinaryenCallIndirectSetReturn:AO,_BinaryenReturnCallIndirect:h_,_BinaryenLocalGet:m_,_BinaryenLocalGetGetIndex:Qr,_BinaryenLocalGetSetIndex:NO,_BinaryenLocalSet:d_,_BinaryenLocalSetIsTee:Rs,_BinaryenLocalSetGetIndex:Bt,_BinaryenLocalSetSetIndex:LO,_BinaryenLocalSetGetValue:sr,_BinaryenLocalSetSetValue:ns,_BinaryenLocalTee:E_,_BinaryenGlobalGet:y_,_BinaryenGlobalGetGetName:ss,_BinaryenGlobalGetSetName:CO,_BinaryenGlobalSet:g_,_BinaryenGlobalSetGetName:cp,_BinaryenGlobalSetSetName:FO,_BinaryenGlobalSetGetValue:Po,_BinaryenGlobalSetSetValue:_p,_BinaryenMemorySize:T_,_BinaryenMemoryGrow:b_,_BinaryenMemoryGrowGetDelta:Ui,_BinaryenMemoryGrowSetDelta:fp,_BinaryenLoad:I_,_BinaryenLoadIsAtomic:kO,_BinaryenLoadSetAtomic:PO,_BinaryenLoadIsSigned:v_,_BinaryenLoadSetSigned:OO,_BinaryenLoadGetOffset:x_,_BinaryenLoadSetOffset:wO,_BinaryenLoadGetBytes:S_,_BinaryenLoadSetBytes:MO,_BinaryenLoadGetAlign:UO,_BinaryenLoadSetAlign:BO,_BinaryenLoadGetPtr:Bi,_BinaryenLoadSetPtr:hp,_BinaryenAtomicLoad:R_,_BinaryenStore:A_,_BinaryenStoreIsAtomic:DO,_BinaryenStoreSetAtomic:GO,_BinaryenStoreGetBytes:xs,_BinaryenStoreSetBytes:VO,_BinaryenStoreGetOffset:Ss,_BinaryenStoreSetOffset:zO,_BinaryenStoreGetAlign:WO,_BinaryenStoreSetAlign:YO,_BinaryenStoreGetPtr:ar,_BinaryenStoreSetPtr:as,_BinaryenStoreGetValue:Di,_BinaryenStoreSetValue:mp,_BinaryenStoreGetValueType:HO,_BinaryenStoreSetValueType:KO,_BinaryenAtomicStore:N_,_BinaryenConst:pi,_BinaryenConstGetValueI32:L_,_BinaryenConstSetValueI32:XO,_BinaryenConstGetValueI64Low:C_,_BinaryenConstSetValueI64Low:qO,_BinaryenConstGetValueI64High:F_,_BinaryenConstSetValueI64High:QO,_BinaryenConstGetValueF32:k_,_BinaryenConstSetValueF32:ZO,_BinaryenConstGetValueF64:P_,_BinaryenConstSetValueF64:jO,_BinaryenConstGetValueV128:JO,_BinaryenConstSetValueV128:$O,_BinaryenUnary:O_,_BinaryenUnaryGetOp:w_,_BinaryenUnarySetOp:ew,_BinaryenUnaryGetValue:Gi,_BinaryenUnarySetValue:dp,_BinaryenBinary:M_,_BinaryenBinaryGetOp:U_,_BinaryenBinarySetOp:tw,_BinaryenBinaryGetLeft:Vi,_BinaryenBinarySetLeft:Ep,_BinaryenBinaryGetRight:zi,_BinaryenBinarySetRight:yp,_BinaryenSelect:B_,_BinaryenSelectGetIfTrue:Wi,_BinaryenSelectSetIfTrue:gp,_BinaryenSelectGetIfFalse:Yi,_BinaryenSelectSetIfFalse:Tp,_BinaryenSelectGetCondition:Hi,_BinaryenSelectSetCondition:bp,_BinaryenDrop:Ou,_BinaryenDropGetValue:Ki,_BinaryenDropSetValue:Ip,_BinaryenReturn:D_,_BinaryenReturnGetValue:or,_BinaryenReturnSetValue:os,_BinaryenNop:G_,_BinaryenUnreachable:V_,_BinaryenAtomicRMW:z_,_BinaryenAtomicRMWGetOp:rw,_BinaryenAtomicRMWSetOp:iw,_BinaryenAtomicRMWGetBytes:nw,_BinaryenAtomicRMWSetBytes:sw,_BinaryenAtomicRMWGetOffset:aw,_BinaryenAtomicRMWSetOffset:ow,_BinaryenAtomicRMWGetPtr:Oo,_BinaryenAtomicRMWSetPtr:vp,_BinaryenAtomicRMWGetValue:wo,_BinaryenAtomicRMWSetValue:xp,_BinaryenAtomicCmpxchg:W_,_BinaryenAtomicCmpxchgGetBytes:lw,_BinaryenAtomicCmpxchgSetBytes:uw,_BinaryenAtomicCmpxchgGetOffset:pw,_BinaryenAtomicCmpxchgSetOffset:cw,_BinaryenAtomicCmpxchgGetPtr:Mo,_BinaryenAtomicCmpxchgSetPtr:Sp,_BinaryenAtomicCmpxchgGetExpected:Uo,_BinaryenAtomicCmpxchgSetExpected:Rp,_BinaryenAtomicCmpxchgGetReplacement:Bo,_BinaryenAtomicCmpxchgSetReplacement:Ap,_BinaryenAtomicWait:Y_,_BinaryenAtomicWaitGetPtr:Do,_BinaryenAtomicWaitSetPtr:Np,_BinaryenAtomicWaitGetExpected:Go,_BinaryenAtomicWaitSetExpected:Lp,_BinaryenAtomicWaitGetTimeout:Vo,_BinaryenAtomicWaitSetTimeout:Cp,_BinaryenAtomicWaitGetExpectedType:_w,_BinaryenAtomicWaitSetExpectedType:fw,_BinaryenAtomicNotify:H_,_BinaryenAtomicNotifyGetPtr:zo,_BinaryenAtomicNotifySetPtr:Fp,_BinaryenAtomicNotifyGetNotifyCount:Wo,_BinaryenAtomicNotifySetNotifyCount:kp,_BinaryenAtomicFence:K_,_BinaryenAtomicFenceGetOrder:hw,_BinaryenAtomicFenceSetOrder:mw,_BinaryenSIMDExtract:X_,_BinaryenSIMDExtractGetOp:dw,_BinaryenSIMDExtractSetOp:Ew,_BinaryenSIMDExtractGetVec:Yo,_BinaryenSIMDExtractSetVec:Pp,_BinaryenSIMDExtractGetIndex:yw,_BinaryenSIMDExtractSetIndex:gw,_BinaryenSIMDReplace:q_,_BinaryenSIMDReplaceGetOp:Tw,_BinaryenSIMDReplaceSetOp:bw,_BinaryenSIMDReplaceGetVec:Ho,_BinaryenSIMDReplaceSetVec:Op,_BinaryenSIMDReplaceGetIndex:Iw,_BinaryenSIMDReplaceSetIndex:vw,_BinaryenSIMDReplaceGetValue:Ko,_BinaryenSIMDReplaceSetValue:wp,_BinaryenSIMDShuffle:Q_,_BinaryenSIMDShuffleGetLeft:Xo,_BinaryenSIMDShuffleSetLeft:Mp,_BinaryenSIMDShuffleGetRight:qo,_BinaryenSIMDShuffleSetRight:Up,_BinaryenSIMDShuffleGetMask:xw,_BinaryenSIMDShuffleSetMask:Sw,_BinaryenSIMDTernary:Z_,_BinaryenSIMDTernaryGetOp:Rw,_BinaryenSIMDTernarySetOp:Aw,_BinaryenSIMDTernaryGetA:Qo,_BinaryenSIMDTernarySetA:Bp,_BinaryenSIMDTernaryGetB:Zo,_BinaryenSIMDTernarySetB:Dp,_BinaryenSIMDTernaryGetC:jo,_BinaryenSIMDTernarySetC:Gp,_BinaryenSIMDShift:j_,_BinaryenSIMDShiftGetOp:Nw,_BinaryenSIMDShiftSetOp:Lw,_BinaryenSIMDShiftGetVec:Jo,_BinaryenSIMDShiftSetVec:Vp,_BinaryenSIMDShiftGetShift:$o,_BinaryenSIMDShiftSetShift:zp,_BinaryenSIMDLoad:J_,_BinaryenSIMDLoadGetOp:Cw,_BinaryenSIMDLoadSetOp:Fw,_BinaryenSIMDLoadGetOffset:kw,_BinaryenSIMDLoadSetOffset:Pw,_BinaryenSIMDLoadGetAlign:Ow,_BinaryenSIMDLoadSetAlign:ww,_BinaryenSIMDLoadGetPtr:el,_BinaryenSIMDLoadSetPtr:Wp,_BinaryenSIMDLoadStoreLane:$_,_BinaryenSIMDLoadStoreLaneGetOp:Mw,_BinaryenSIMDLoadStoreLaneSetOp:Uw,_BinaryenSIMDLoadStoreLaneGetOffset:Bw,_BinaryenSIMDLoadStoreLaneSetOffset:Dw,_BinaryenSIMDLoadStoreLaneGetAlign:Gw,_BinaryenSIMDLoadStoreLaneSetAlign:Vw,_BinaryenSIMDLoadStoreLaneGetIndex:zw,_BinaryenSIMDLoadStoreLaneSetIndex:Ww,_BinaryenSIMDLoadStoreLaneGetPtr:tl,_BinaryenSIMDLoadStoreLaneSetPtr:Yp,_BinaryenSIMDLoadStoreLaneGetVec:rl,_BinaryenSIMDLoadStoreLaneSetVec:Hp,_BinaryenSIMDLoadStoreLaneIsStore:Yw,_BinaryenMemoryInit:Hw,_BinaryenMemoryInitGetSegment:Kw,_BinaryenMemoryInitSetSegment:Xw,_BinaryenMemoryInitGetDest:il,_BinaryenMemoryInitSetDest:Kp,_BinaryenMemoryInitGetOffset:nl,_BinaryenMemoryInitSetOffset:Xp,_BinaryenMemoryInitGetSize:sl,_BinaryenMemoryInitSetSize:qp,_BinaryenDataDrop:qw,_BinaryenDataDropGetSegment:Qw,_BinaryenDataDropSetSegment:Zw,_BinaryenMemoryCopy:ef,_BinaryenMemoryCopyGetDest:al,_BinaryenMemoryCopySetDest:Qp,_BinaryenMemoryCopyGetSource:ol,_BinaryenMemoryCopySetSource:Zp,_BinaryenMemoryCopyGetSize:ll,_BinaryenMemoryCopySetSize:jp,_BinaryenMemoryFill:tf,_BinaryenMemoryFillGetDest:ul,_BinaryenMemoryFillSetDest:Jp,_BinaryenMemoryFillGetValue:pl,_BinaryenMemoryFillSetValue:$p,_BinaryenMemoryFillGetSize:cl,_BinaryenMemoryFillSetSize:ec,_BinaryenRefNull:rf,_BinaryenRefIs:nf,_BinaryenRefIsGetOp:jw,_BinaryenRefIsSetOp:Jw,_BinaryenRefIsGetValue:_l,_BinaryenRefIsSetValue:tc,_BinaryenRefAs:sf,_BinaryenRefAsGetOp:$w,_BinaryenRefAsSetOp:eM,_BinaryenRefAsGetValue:tM,_BinaryenRefAsSetValue:rM,_BinaryenRefFunc:af,_BinaryenRefFuncGetFunc:rc,_BinaryenRefFuncSetFunc:iM,_BinaryenRefEq:of,_BinaryenRefEqGetLeft:fl,_BinaryenRefEqSetLeft:ic,_BinaryenRefEqGetRight:hl,_BinaryenRefEqSetRight:nc,_BinaryenTableGet:lf,_BinaryenTableGetGetTable:nM,_BinaryenTableGetSetTable:sM,_BinaryenTableGetGetIndex:aM,_BinaryenTableGetSetIndex:oM,_BinaryenTableSet:uf,_BinaryenTableSetGetTable:lM,_BinaryenTableSetSetTable:uM,_BinaryenTableSetGetIndex:pM,_BinaryenTableSetSetIndex:cM,_BinaryenTableSetGetValue:_M,_BinaryenTableSetSetValue:fM,_BinaryenTableSize:pf,_BinaryenTableSizeGetTable:hM,_BinaryenTableSizeSetTable:mM,_BinaryenTableGrow:cf,_BinaryenTableGrowGetTable:dM,_BinaryenTableGrowSetTable:EM,_BinaryenTableGrowGetValue:yM,_BinaryenTableGrowSetValue:gM,_BinaryenTableGrowGetDelta:TM,_BinaryenTableGrowSetDelta:bM,_BinaryenTry:_f,_BinaryenTryGetName:IM,_BinaryenTrySetName:vM,_BinaryenTryGetBody:ml,_BinaryenTrySetBody:sc,_BinaryenTryGetNumCatchTags:xM,_BinaryenTryGetNumCatchBodies:dl,_BinaryenTryGetCatchTagAt:SM,_BinaryenTrySetCatchTagAt:RM,_BinaryenTryAppendCatchTag:AM,_BinaryenTryInsertCatchTagAt:NM,_BinaryenTryRemoveCatchTagAt:LM,_BinaryenTryGetCatchBodyAt:El,_BinaryenTrySetCatchBodyAt:ac,_BinaryenTryAppendCatchBody:CM,_BinaryenTryInsertCatchBodyAt:FM,_BinaryenTryRemoveCatchBodyAt:kM,_BinaryenTryHasCatchAll:PM,_BinaryenTryGetDelegateTarget:OM,_BinaryenTrySetDelegateTarget:wM,_BinaryenTryIsDelegate:MM,_BinaryenThrow:ff,_BinaryenThrowGetTag:oc,_BinaryenThrowSetTag:UM,_BinaryenThrowGetNumOperands:yl,_BinaryenThrowGetOperandAt:gl,_BinaryenThrowSetOperandAt:lc,_BinaryenThrowAppendOperand:BM,_BinaryenThrowInsertOperandAt:DM,_BinaryenThrowRemoveOperandAt:GM,_BinaryenRethrow:hf,_BinaryenRethrowGetTarget:VM,_BinaryenRethrowSetDepth:zM,_BinaryenTupleMake:mf,_BinaryenTupleMakeGetNumOperands:Tl,_BinaryenTupleMakeGetOperandAt:bl,_BinaryenTupleMakeSetOperandAt:uc,_BinaryenTupleMakeAppendOperand:WM,_BinaryenTupleMakeInsertOperandAt:YM,_BinaryenTupleMakeRemoveOperandAt:HM,_BinaryenTupleExtract:df,_BinaryenTupleExtractGetTuple:Il,_BinaryenTupleExtractSetTuple:pc,_BinaryenTupleExtractGetIndex:KM,_BinaryenTupleExtractSetIndex:XM,_BinaryenPop:Ef,_BinaryenI31New:yf,_BinaryenI31NewGetValue:vl,_BinaryenI31NewSetValue:cc,_BinaryenI31Get:gf,_BinaryenI31GetGetI31:xl,_BinaryenI31GetSetI31:_c,_BinaryenI31GetIsSigned:qM,_BinaryenI31GetSetSigned:QM,_BinaryenAddFunction:ri,_BinaryenGetFunction:ii,_BinaryenRemoveFunction:on,_BinaryenGetNumFunctions:fc,_BinaryenGetFunctionByIndex:hc,_BinaryenFunctionGetName:ti,_BinaryenFunctionGetParams:sn,_BinaryenFunctionGetResults:an,_BinaryenFunctionGetNumVars:As,_BinaryenFunctionGetVar:Ns,_BinaryenFunctionGetNumLocals:Vl,_BinaryenFunctionHasLocalName:ZM,_BinaryenFunctionGetLocalName:jM,_BinaryenFunctionSetLocalName:JM,_BinaryenFunctionGetBody:wt,_BinaryenFunctionSetBody:ls,_BinaryenFunctionOptimize:$M,_BinaryenFunctionRunPasses:Tf,_BinaryenFunctionSetDebugLocation:bf,_BinaryenAddFunctionImport:If,_BinaryenAddTableImport:vf,_BinaryenAddMemoryImport:xf,_BinaryenAddGlobalImport:Sf,_BinaryenAddTagImport:Rf,_BinaryenAddFunctionExport:Ls,_BinaryenAddTableExport:Af,_BinaryenAddMemoryExport:Nf,_BinaryenAddGlobalExport:Lf,_BinaryenAddTagExport:Cf,_BinaryenGetExport:Cs,_BinaryenRemoveExport:Fs,_BinaryenGetNumExports:eU,_BinaryenGetExportByIndex:tU,_BinaryenExportGetKind:Nc,_BinaryenExportGetName:Lc,_BinaryenExportGetValue:Cc,_BinaryenAddGlobal:Ff,_BinaryenGetGlobal:kf,_BinaryenRemoveGlobal:Pf,_BinaryenGetNumGlobals:mc,_BinaryenGetGlobalByIndex:dc,_BinaryenGlobalGetName:Of,_BinaryenGlobalGetType:wf,_BinaryenGlobalIsMutable:Mf,_BinaryenGlobalGetInitExpr:us,_BinaryenAddTag:Uf,_BinaryenGetTag:Bf,_BinaryenRemoveTag:Df,_BinaryenTagGetName:Gf,_BinaryenTagGetParams:Vf,_BinaryenTagGetResults:zf,_BinaryenAddTable:Wf,_BinaryenRemoveTable:rU,_BinaryenGetNumTables:iU,_BinaryenGetTable:Yf,_BinaryenGetTableByIndex:nU,_BinaryenTableGetName:sU,_BinaryenTableSetName:aU,_BinaryenTableGetInitial:oU,_BinaryenTableSetInitial:Hf,_BinaryenTableHasMax:lU,_BinaryenTableGetMax:uU,_BinaryenTableSetMax:Kf,_BinaryenAddActiveElementSegment:Xf,_BinaryenAddPassiveElementSegment:pU,_BinaryenRemoveElementSegment:cU,_BinaryenGetNumElementSegments:_U,_BinaryenGetElementSegment:fU,_BinaryenGetElementSegmentByIndex:hU,_BinaryenSetMemory:qf,_BinaryenGetNumMemorySegments:mU,_BinaryenGetMemorySegmentByteOffset:dU,_BinaryenGetMemorySegmentByteLength:EU,_BinaryenCopyMemorySegmentData:yU,_BinaryenSetStart:Qf,_BinaryenModuleParse:gU,_BinaryenModulePrint:TU,_BinaryenModulePrintAsmjs:bU,_BinaryenModuleValidate:Zf,_BinaryenModuleOptimize:IU,_BinaryenModuleRunPasses:jf,_BinaryenModuleAutoDrop:vU,_BinaryenModuleAllocateAndWrite:Jf,_BinaryenModuleRead:$f,_BinaryenModuleInterpret:eh,_BinaryenModuleAddDebugInfoFileName:th,_BinaryenModuleGetDebugInfoFileName:rh,_BinaryenModuleGetFeatures:ih,_BinaryenModuleSetFeatures:nh,_BinaryenAddCustomSection:sh,_BinaryenExpressionGetSideEffects:ah,_RelooperCreate:oh,_RelooperAddBlock:lh,_RelooperAddBranch:uh,_RelooperAddBlockWithSwitch:ph,_RelooperAddBranchForSwitch:ch,_RelooperRenderAndDispose:_h,_ExpressionRunnerCreate:fh,_ExpressionRunnerSetLocalValue:xU,_ExpressionRunnerSetGlobalValue:SU,_ExpressionRunnerRunAndDispose:hh,_BinaryenGetOptimizeLevel:mh,_BinaryenSetOptimizeLevel:dh,_BinaryenGetShrinkLevel:Eh,_BinaryenSetShrinkLevel:yh,_BinaryenGetDebugInfo:gh,_BinaryenSetDebugInfo:Th,_BinaryenGetLowMemoryUnused:bh,_BinaryenSetLowMemoryUnused:Ih,_BinaryenGetZeroFilledMemory:vh,_BinaryenSetZeroFilledMemory:xh,_BinaryenGetFastMath:Sh,_BinaryenSetFastMath:Rh,_BinaryenGetPassArgument:Ah,_BinaryenSetPassArgument:Nh,_BinaryenClearPassArguments:Lh,_BinaryenGetAlwaysInlineMaxSize:Ch,_BinaryenSetAlwaysInlineMaxSize:Fh,_BinaryenGetFlexibleInlineMaxSize:kh,_BinaryenSetFlexibleInlineMaxSize:Ph,_BinaryenGetOneCallerInlineMaxSize:Oh,_BinaryenSetOneCallerInlineMaxSize:wh,_BinaryenGetAllowInliningFunctionsWithLoops:Mh,_BinaryenSetAllowInliningFunctionsWithLoops:Uh,_malloc:jt,_free:ne,__i32_store8:Re,__i32_store16:RU,__i32_store:Ws,__f32_store:AU,__f64_store:NU,__i32_load8_s:LU,__i32_load8_u:ci,__i32_load16_s:CU,__i32_load16_u:FU,__i32_load:Rn,__f32_load:kU,__f64_load:PU}=Ei;var Ys=new Float64Array(1),Bh=new Float32Array(Ys.buffer),_i=new Int32Array(Ys.buffer);globalThis.f32_as_i32=function(e){return Bh[0]=e,_i[0]};globalThis.i32_as_f32=function(e){return _i[0]=e,Bh[0]};globalThis.f64_as_i64=function(e){return Ys[0]=e,i64_new(_i[0],_i[1])};globalThis.i64_as_f64=function(e){return _i[0]=i64_low(e),_i[1]=i64_high(e),Ys[0]};import Ae from"long";globalThis.i64_zero=Ae.ZERO;globalThis.i64_one=Ae.ONE;globalThis.i64_neg_one=Ae.fromInt(-1);globalThis.i64_is=function(e){return Ae.isLong(e)};globalThis.i64_new=function(e,t){return Ae.fromBits(e,t)};globalThis.i64_low=function(e){return e.low};globalThis.i64_high=function(e){return e.high};globalThis.i64_not=function(e){return e.not()};globalThis.i64_clz=function(e){return e.clz()};globalThis.i64_ctz=function(e){return e.ctz()};globalThis.i64_add=function(e,t){return e.add(t)};globalThis.i64_sub=function(e,t){return e.sub(t)};globalThis.i64_mul=function(e,t){return e.mul(t)};globalThis.i64_pow=function(e,t){var i=t.low,n=t.high;if(n<=0){if(n<0)return e.eq(globalThis.i64_neg_one)?i&1?e:Ae.ONE:e.eq(Ae.ONE)?e:Ae.ZERO;if(i==0)return Ae.ONE;if(i==1)return e;if(i==2)return e.mul(e)}for(var s=Ae.ONE;i|n;)i&1&&(s=s.mul(e)),t=t.shru(1),e=e.mul(e),i=t.low,n=t.high;return s};globalThis.i64_div=function(e,t){return e.div(t)};globalThis.i64_div_u=function(e,t){return e.toUnsigned().div(t.toUnsigned()).toSigned()};globalThis.i64_rem=function(e,t){return e.mod(t)};globalThis.i64_rem_u=function(e,t){return e.toUnsigned().mod(t.toUnsigned()).toSigned()};globalThis.i64_and=function(e,t){return e.and(t)};globalThis.i64_or=function(e,t){return e.or(t)};globalThis.i64_xor=function(e,t){return e.xor(t)};globalThis.i64_shl=function(e,t){return e.shl(t)};globalThis.i64_shr=function(e,t){return e.shr(t)};globalThis.i64_shr_u=function(e,t){return e.shru(t)};globalThis.i64_eq=function(e,t){return e.eq(t)};globalThis.i64_ne=function(e,t){return e.ne(t)};globalThis.i64_gt=function(e,t){return e.gt(t)};globalThis.i64_align=function(e,t){assert(t&&(t&t-1)==0);var i=Ae.fromInt(t-1);return e.add(i).and(i.not())};globalThis.i64_is_i8=function(e){return e.high===0&&e.low>=0&&e.low<=i8.MAX_VALUE||e.high===-1&&e.low>=i8.MIN_VALUE&&e.low<0};globalThis.i64_is_i16=function(e){return e.high===0&&e.low>=0&&e.low<=i16.MAX_VALUE||e.high===-1&&e.low>=i16.MIN_VALUE&&e.low<0};globalThis.i64_is_i32=function(e){return e.high===0&&e.low>=0||e.high===-1&&e.low<0};globalThis.i64_is_u8=function(e){return e.high===0&&e.low>>>0<=u8.MAX_VALUE};globalThis.i64_is_u16=function(e){return e.high===0&&e.low>>>0<=u16.MAX_VALUE};globalThis.i64_is_u32=function(e){return e.high===0};globalThis.i64_is_bool=function(e){return(e.high|e.low&-2)===0};var k2=Ae.fromNumber(f32.MIN_SAFE_INTEGER),P2=Ae.fromNumber(f32.MAX_SAFE_INTEGER);globalThis.i64_is_f32=function(e){return e.gte(k2)&&e.lte(P2)};var O2=Ae.fromNumber(f64.MIN_SAFE_INTEGER),w2=Ae.fromNumber(f64.MAX_SAFE_INTEGER);globalThis.i64_is_f64=function(e){return e.gte(O2)&&e.lte(w2)};globalThis.i64_to_f32=function(e){return Math.fround(e.toNumber())};globalThis.i64_to_f64=function(e){return e.toNumber()};globalThis.i64_to_string=function(e,t){return t?e.toUnsigned().toString():e.toString()};globalThis.Map_keys=function(e){return Array.from(e.keys())};globalThis.Map_values=function(e){return Array.from(e.values())};globalThis.Set_values=function(e){return Array.from(e.values())};var Nn=class{constructor(e,t=!1){this.seen=new Map;this.program=e,this.includePrivate=t}walk(){for(let e=Map_values(this.program.filesByName),t=0,i=e.length;t<i;++t){let n=unchecked(e[t]);n.source.sourceKind==1&&this.visitFile(n)}}visitFile(e){var t=e.exports;if(t)for(let n=Map_keys(t),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]),l=assert(t.get(o));this.visitElement(o,l)}var i=e.exportsStar;if(i)for(let n=0,s=i.length;n<s;++n){let a=unchecked(i[n]);this.visitFile(a)}}visitElement(e,t){if(!(t.is(512)&&!this.includePrivate)){var i=this.seen;if(!t.is(131072)&&i.has(t)){this.visitAlias(e,t,assert(i.get(t)));return}switch(i.set(t,e),t.kind){case 0:{t.is(4194304)&&this.visitGlobal(e,t);break}case 2:{t.is(4194304)&&this.visitEnum(e,t);break}case 3:break;case 4:{this.visitFunctionInstances(e,t);break}case 6:{this.visitClassInstances(e,t);break}case 11:{let n=t;n.is(4194304)&&this.visitField(e,n);break}case 12:{let n=t.instance;if(!n)break;t=n}case 13:{let n=t,s=n.getterInstance;s&&this.visitFunction(e,s);let a=n.setterInstance;a&&this.visitFunction(e,a);break}case 14:{Dh(t)&&this.visitNamespace(e,t);break}case 16:break;default:assert(!1)}}}visitFunctionInstances(e,t){var i=t.instances;if(i)for(let n=Map_values(i),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]);o.is(4194304)&&this.visitFunction(e,o)}}visitClassInstances(e,t){var i=t.instances;if(i)for(let n=Map_values(i),s=0,a=n.length;s<a;++s){let o=unchecked(n[s]);o.is(4194304)&&this.visitClass(e,o)}}};function Dh(r){var e=r.members;if(e)for(let t=Map_values(e),i=0,n=t.length;i<n;++i){let s=unchecked(t[i]);switch(s.kind){case 4:{let a=s.instances;if(a){for(let o=Map_values(a),l=0,p=o.length;l<p;++l)if(unchecked(o[l]).is(4194304))return!0}break}case 6:{let a=s.instances;if(a){for(let o=Map_values(a),l=0,p=o.length;l<p;++l)if(unchecked(o[l]).is(4194304))return!0}break}default:{if(s.is(4194304)||Dh(s))return!0;break}}}return!1}var Rr=class extends Nn{constructor(e,t,i=!1){super(e,i);this.sb=[];this.indentLevel=0;this.needsLiftBuffer=!1;this.needsLowerBuffer=!1;this.needsLiftString=!1;this.needsLowerString=!1;this.needsLiftArray=!1;this.needsLowerArray=!1;this.needsLiftTypedArray=!1;this.needsLowerTypedArray=!1;this.needsLiftStaticArray=!1;this.needsLowerStaticArray=!1;this.needsLiftInternref=!1;this.needsLowerInternref=!1;this.needsRetain=!1;this.needsRelease=!1;this.needsNotNull=!1;this.deferredLifts=new Set;this.deferredLowers=new Set;this.deferredCode=new Array;this.exports=new Array;this.importMappings=new Map;this.esm=t}static build(e,t=!0){return new Rr(e,t).build()}visitGlobal(e,t){var i=this.sb,n=t.type;this.exports.push(e),Sr(n,Nt.EXPORT)||(V(i,this.indentLevel),i.push(e),i.push(`: {
`),V(i,++this.indentLevel),i.push("// "),i.push(t.internalName),i.push(": "),i.push(n.toString()),i.push(`
`),V(i,this.indentLevel),i.push(`valueOf() { return this.value; },
`),V(i,this.indentLevel),i.push(`get value() {
`),V(i,++this.indentLevel),i.push("return "),this.makeLiftFromValue("exports."+e+".value",n,i),i.push(`;
`),V(i,--this.indentLevel),i.push("}"),t.is(8)||(i.push(`,
`),V(i,this.indentLevel),i.push(`set value(value) {
`),V(i,++this.indentLevel),i.push("exports."),i.push(e),i.push(".value = "),this.makeLowerToValue("value",n,i),i.push(`;
`),V(i,--this.indentLevel),i.push("}")),i.push(`
`),V(i,--this.indentLevel),i.push(`},
`)),this.visitNamespace(e,t)}visitEnum(e,t){var i=this.sb;this.exports.push(e),V(i,this.indentLevel),i.push(e),i.push(`: (values => (
`),V(i,++this.indentLevel),i.push("// "),i.push(t.internalName),i.push(`
`);var n=t.members;if(n)for(let s=Map_values(n),a=0,o=s.length;a<o;++a){let l=s[a];l.kind==3&&(V(i,this.indentLevel),i.push("values[values."),i.push(l.name),l.is(16777216)?(i.push(" = "),i.push(i64_low(l.constantIntegerValue).toString())):(i.push(' = exports["'),i.push(de(e+"."+l.name,34)),i.push('"].valueOf()')),i.push('] = "'),i.push(de(l.name,34)),i.push(`",
`))}V(i,this.indentLevel),i.push(`values
`),V(i,--this.indentLevel),i.push(`))({}),
`),this.visitNamespace(e,t)}makeGlobalImport(e,t,i){var n=this.sb,s=i.type;V(n,this.indentLevel),ke(t)?n.push(t):(n.push('"'),n.push(de(t,34)),n.push('": '));let a=this.ensureModuleId(e);Sr(s,Nt.IMPORT)?(n.push(`(
`),V(n,this.indentLevel+1),n.push("// "),n.push(i.internalName),n.push(": "),n.push(i.type.toString()),n.push(`
`),V(n,this.indentLevel+1),e!="env"&&(n.push("__module"),n.push(a.toString()),n.push(".")),n.push(t),n.push(`
`),V(n,this.indentLevel),n.push(")")):(n.push(`{
`),V(n,++this.indentLevel),n.push("// "),n.push(i.internalName),n.push(": "),n.push(i.type.toString()),n.push(`
`),V(n,this.indentLevel),n.push(`// not supported: cannot lower before instantiate completes
`),V(n,--this.indentLevel),n.push("}")),n.push(`,
`)}makeFunctionImport(e,t,i,n=null){var s=this.sb,a=i.signature;if(V(s,this.indentLevel),ke(t)?s.push(t):(s.push('"'),s.push(de(t,34)),s.push('"')),Mu(a,Nt.IMPORT)&&!n)s.push(`: (
`),V(s,this.indentLevel+1),s.push("// "),s.push(i.internalName),s.push(i.signature.toString()),s.push(`
`),V(s,this.indentLevel+1),e!="env"&&(s.push(e),s.push(".")),s.push(t),s.push(`
`),V(s,this.indentLevel),s.push(")");else{s.push("(");let o=a.parameterTypes,l=new Array;for(let _=0,f=o.length;_<f;++_)l.push(i.getParameterName(_));s.push(l.join(", ")),s.push(`) {
`),V(s,++this.indentLevel),s.push("// "),s.push(i.internalName),s.push(i.signature.toString()),s.push(`
`);for(let _=0,f=o.length;_<f;++_){let E=o[_];if(!Sr(E,Nt.EXPORT)){let g=i.getParameterName(_);V(s,this.indentLevel),s.push(g),s.push(" = "),this.makeLiftFromValue(g,E,s),s.push(`;
`)}}let p=new Array,c=this.ensureModuleId(e);n?(p.push(`(() => {
`),V(p,1),p.push(`// @external.js
`),Gh(n,1,p),p.push(`
})()`)):(e!="env"&&(p.push("__module"),p.push(c.toString()),p.push(".")),p.push(t),p.push("("),p.push(l.join(", ")),p.push(")")),n=p.join(""),p.length=0,Gh(n,this.indentLevel,p,!0),n=p.join(""),V(s,this.indentLevel),a.returnType!=u.void?(s.push("return "),this.makeLowerToValue(n,a.returnType,s),s.push(`;
`)):(s.push(n),s.push(`;
`)),V(s,--this.indentLevel),s.push("}")}s.push(`,
`)}visitFunction(e,t){if(!t.is(512)){var i=this.sb,n=t.signature;if(this.exports.push(e),!Mu(n,Nt.EXPORT)){V(i,this.indentLevel),i.push(e),i.push("(");let s=n.parameterTypes,a=0;for(let p=0,c=s.length;p<c;++p)s[p].isInternalReference&&a++,p>0&&i.push(", "),i.push(t.getParameterName(p));i.push(`) {
`),V(i,++this.indentLevel),i.push("// "),i.push(t.internalName),i.push(n.toString()),i.push(`
`);let o=new Array;for(let p=0,c=s.length;p<c;++p){let _=s[p];if(!Sr(_,Nt.IMPORT)){let f=t.getParameterName(p);V(i,this.indentLevel),i.push(f),i.push(" = ");let E=_.isInternalReference&&--a>0;E&&(this.needsRetain=!0,this.needsRelease=!0,i.push("__retain("),o.push(f)),this.makeLowerToValue(f,_,i),E&&i.push(")"),i.push(`;
`)}}o.length&&(V(i,this.indentLevel++),i.push(`try {
`)),n.requiredParameters<s.length&&(V(i,this.indentLevel),i.push(`exports.__setArgumentsLength(arguments.length);
`));let l=new Array;l.push("exports."),l.push(e),l.push("(");for(let p=0,c=s.length;p<c;++p)p>0&&l.push(", "),l.push(t.getParameterName(p));if(l.push(")"),n.returnType!=u.void?(V(i,this.indentLevel),i.push("return "),this.makeLiftFromValue(l.join(""),n.returnType,i)):(V(i,this.indentLevel),i.push(l.join(""))),i.push(`;
`),o.length){V(i,this.indentLevel-1),i.push(`} finally {
`);for(let p=0,c=o.length;p<c;++p)V(i,this.indentLevel),i.push("__release("),i.push(o[p]),i.push(`);
`);V(i,--this.indentLevel),i.push(`}
`)}V(i,--this.indentLevel),i.push(`},
`)}this.visitNamespace(e,t)}}visitClass(e,t){}visitInterface(e,t){this.visitClass(e,t)}visitField(e,t){}visitNamespace(e,t){}visitAlias(e,t,i){}getExternalCode(e){let t=gt(10,e.decoratorNodes);if(t){let i=t.args;if(i&&i.length==1){let n=i[0];if(n.kind==16){let s=n;if(s.literalKind==2)return s.value;if(s.literalKind==3){let a=s.parts;if(a.length==1)return a[0]}}}}return null}build(){var e=this.exports,t=this.program.moduleImports,i=this.program,n=i.options,s=this.sb;s.push(""),V(s,this.indentLevel++),this.esm||s.push("export "),s.push(`async function instantiate(module, imports = {}) {
`);let a=s.push("")-1;V(s,this.indentLevel++),s.push(`const adaptedImports = {
`);let o=s.length;for(let g=Map_keys(t),b=0,x=g.length;b<x;++b){let S=g[b],v=this.ensureModuleId(S),L=t.get(S);V(s,this.indentLevel),ke(S)?s.push(S):(s.push('"'),s.push(de(S,34)),s.push('"'));let O=s.length;s.push(": Object.assign(Object.create("),S=="env"?s.push("globalThis"):(s.push("__module"),s.push(v.toString())),s.push("), "),S=="env"&&s.push("imports.env || {}, "),s.push(`{
`),++this.indentLevel;let C=0;for(let k=Map_keys(L),D=0,Y=k.length;D<Y;++D){let z=k[D],K=assert(L.get(z));if(K.kind==5){let Z=K,ue=this.getExternalCode(Z);(!Mu(Z.signature,Nt.IMPORT)||!ke(z)||ue)&&(this.makeFunctionImport(S,z,K,ue),++C)}else if(K.kind==0){let Z=K;(!Sr(Z.type,Nt.IMPORT)||!ke(z))&&(this.makeGlobalImport(S,z,Z),++C)}}--this.indentLevel,C?(V(s,this.indentLevel),s.push(`}),
`)):(s.length=O,S=="env"?s.push(": Object.assign(Object.create(globalThis), imports.env || {})"):(s.push(": __module"),s.push(v.toString())),s.push(`,
`))}--this.indentLevel;let l=s.length>o;l?(V(s,this.indentLevel),s.push(`};
`)):s.length=o-2;var p=this.importMappings,c=new Array;for(let g=Map_keys(p),b=0,x=g.length;b<x;++b){let S=g[b];if(S=="env")c.push(`  const env = imports.env;
`);else{let v=p.get(S);c.push("  const __module"),c.push(v.toString()),c.push(" = imports"),ke(S)?(c.push("."),c.push(S)):(c.push('["'),c.push(de(S,34)),c.push('"]')),c.push(`;
`)}}s[a]=c.join(""),V(s,this.indentLevel),s.push("const { exports } = await WebAssembly.instantiate(module"),l?s.push(`, adaptedImports);
`):s.push(`, imports);
`),V(s,this.indentLevel),s.push(`const memory = exports.memory || imports.env.memory;
`),V(s,this.indentLevel++),s.push(`const adaptedExports = Object.setPrototypeOf({
`),o=s.length,this.walk(),--this.indentLevel;let _=s.length>o;_?(V(s,this.indentLevel),s.push(`}, exports);
`)):this.needsLiftBuffer||this.needsLowerBuffer||this.needsLiftString||this.needsLowerString||this.needsLiftArray||this.needsLowerArray||this.needsLiftTypedArray||this.needsLowerTypedArray||this.needsLiftStaticArray?s.length=o-2:s.length=o-4;var f=this.deferredCode;if(f.length)for(let g=0,b=f.length;g<b;++g)s.push(f[g]);if(this.needsLiftBuffer){let g=i.OBJECTInstance,b=g.offsetof("rtSize")-g.nextMemoryOffset;s.push(`  function __liftBuffer(pointer) {
    if (!pointer) return null;
    return memory.buffer.slice(pointer, pointer + new Uint32Array(memory.buffer)[pointer - ${-b} >>> 2]);
  }
`)}if(this.needsLowerBuffer){let g=i.arrayBufferInstance.id;s.push(`  function __lowerBuffer(value) {
    if (value == null) return 0;
    const pointer = exports.__new(value.byteLength, ${g}) >>> 0;
    new Uint8Array(memory.buffer).set(new Uint8Array(value), pointer);
    return pointer;
  }
`)}if(this.needsLiftString){let g=i.OBJECTInstance,b=g.offsetof("rtSize")-g.nextMemoryOffset,x=1024;s.push(`  function __liftString(pointer) {
    if (!pointer) return null;
    const
      end = pointer + new Uint32Array(memory.buffer)[pointer - ${-b} >>> 2] >>> 1,
      memoryU16 = new Uint16Array(memory.buffer);
    let
      start = pointer >>> 1,
      string = "";
    while (end - start > ${x}) string += String.fromCharCode(...memoryU16.subarray(start, start += ${x}));
    return string + String.fromCharCode(...memoryU16.subarray(start, end));
  }
`)}if(this.needsLowerString){let g=i.stringInstance.id;s.push(`  function __lowerString(value) {
    if (value == null) return 0;
    const
      length = value.length,
      pointer = exports.__new(length << 1, ${g}) >>> 0,
      memoryU16 = new Uint16Array(memory.buffer);
    for (let i = 0; i < length; ++i) memoryU16[(pointer >>> 1) + i] = value.charCodeAt(i);
    return pointer;
  }
`)}if(this.needsLiftArray){let g=i.arrayBufferViewInstance.offsetof("dataStart"),b=i.arrayBufferViewInstance.nextMemoryOffset;s.push(`  function __liftArray(liftElement, align, pointer) {
    if (!pointer) return null;
    const
      memoryU32 = new Uint32Array(memory.buffer),
      dataStart = memoryU32[pointer + ${g} >>> 2],
      length = memoryU32[pointer + ${b} >>> 2],
      values = new Array(length);
    for (let i = 0; i < length; ++i) values[i] = liftElement(dataStart + (i << align >>> 0));
    return values;
  }
`)}if(this.needsLowerArray){let g=i.arrayBufferInstance.id,b=i.arrayBufferViewInstance,x=b.nextMemoryOffset+4,S=b.offsetof("buffer"),v=b.offsetof("dataStart"),L=b.offsetof("byteLength"),O=L+4;s.push(`  function __lowerArray(lowerElement, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, ${g})) >>> 0,
      header = exports.__pin(exports.__new(${x}, id)) >>> 0,
      memoryU32 = new Uint32Array(memory.buffer);
    memoryU32[header + ${S} >>> 2] = buffer;
    memoryU32[header + ${v} >>> 2] = buffer;
    memoryU32[header + ${L} >>> 2] = length << align;
    memoryU32[header + ${O} >>> 2] = length;
    for (let i = 0; i < length; ++i) lowerElement(buffer + (i << align >>> 0), values[i]);
    exports.__unpin(buffer);
    exports.__unpin(header);
    return header;
  }
`)}if(this.needsLiftTypedArray){let g=i.arrayBufferViewInstance,b=g.offsetof("dataStart"),x=g.offsetof("byteLength");s.push(`  function __liftTypedArray(constructor, pointer) {
    if (!pointer) return null;
    const memoryU32 = new Uint32Array(memory.buffer);
    return new constructor(
      memory.buffer,
      memoryU32[pointer + ${b} >>> 2],
      memoryU32[pointer + ${x} >>> 2] / constructor.BYTES_PER_ELEMENT
    ).slice();
  }
`)}if(this.needsLowerTypedArray){let g=i.arrayBufferInstance.id,b=i.arrayBufferViewInstance,x=b.nextMemoryOffset,S=b.offsetof("buffer"),v=b.offsetof("dataStart"),L=b.offsetof("byteLength");s.push(`  function __lowerTypedArray(constructor, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, ${g})) >>> 0,
      header = exports.__new(${x}, id) >>> 0,
      memoryU32 = new Uint32Array(memory.buffer);
    memoryU32[header + ${S} >>> 2] = buffer;
    memoryU32[header + ${v} >>> 2] = buffer;
    memoryU32[header + ${L} >>> 2] = length << align;
    new constructor(memory.buffer, buffer, length).set(values);
    exports.__unpin(buffer);
    return header;
  }
`)}if(this.needsLiftStaticArray){let g=i.OBJECTInstance,b=g.offsetof("rtSize")-g.nextMemoryOffset;s.push(`  function __liftStaticArray(liftElement, align, pointer) {
    if (!pointer) return null;
    const
      length = new Uint32Array(memory.buffer)[pointer - ${-b} >>> 2] >>> align,
      values = new Array(length);
    for (let i = 0; i < length; ++i) values[i] = liftElement(pointer + (i << align >>> 0));
    return values;
  }
`)}this.needsLowerStaticArray&&s.push(`  function __lowerStaticArray(lowerElement, id, align, values) {
    if (values == null) return 0;
    const
      length = values.length,
      buffer = exports.__pin(exports.__new(length << align, id)) >>> 0;
    for (let i = 0; i < length; i++) lowerElement(buffer + (i << align >>> 0), values[i]);
    exports.__unpin(buffer);
    return buffer;
  }
`),this.needsLiftInternref&&(this.needsRetain=!0,this.needsRelease=!0,s.push(`  const registry = new FinalizationRegistry(__release);
  class Internref extends Number {}
  function __liftInternref(pointer) {
    if (!pointer) return null;
    const sentinel = new Internref(__retain(pointer));
    registry.register(sentinel, pointer);
    return sentinel;
  }
`)),this.needsLowerInternref&&s.push(`  function __lowerInternref(value) {
    if (value == null) return 0;
    if (value instanceof Internref) return value.valueOf();
    throw TypeError("internref expected");
  }
`),(this.needsRetain||this.needsRelease)&&s.push(`  const refcounts = new Map();
`),this.needsRetain&&s.push(`  function __retain(pointer) {
    if (pointer) {
      const refcount = refcounts.get(pointer);
      if (refcount) refcounts.set(pointer, refcount + 1);
      else refcounts.set(exports.__pin(pointer), 1);
    }
    return pointer;
  }
`),this.needsRelease&&s.push(`  function __release(pointer) {
    if (pointer) {
      const refcount = refcounts.get(pointer);
      if (refcount === 1) exports.__unpin(pointer), refcounts.delete(pointer);
      else if (refcount) refcounts.set(pointer, refcount - 1);
      else throw Error(\`invalid refcount '\${refcount}' for reference '\${pointer}'\`);
    }
  }
`),this.needsNotNull&&s.push(`  function __notnull() {
    throw TypeError("value must not be null");
  }
`);var E=n.exportStart;if(E&&s.push(`  exports.${E}();
`),_?s.push(`  return adaptedExports;
}
`):s.push(`  return exports;
}
`),--this.indentLevel,assert(this.indentLevel==0),this.esm){s.push(`export const {
  `);for(let x=0,S=e.length;x<S;++x)x>0&&s.push(`,
  `),s.push(e[x]);s.push(`
} = await (async url => instantiate(
  await (
    typeof globalThis.fetch === "function"
      ? WebAssembly.compileStreaming(globalThis.fetch(url))
      : WebAssembly.compile(await (await import("node:fs/promises")).readFile(url))
  ), {
`);let g=!1,b=new Array;for(let x=Map_keys(p),S=0,v=x.length;S<v;++S){let L=x[S];if(L=="env")V(s,2),s.push(`env: globalThis,
`);else{let O=this.ensureModuleId(L);V(s,2),ke(L)?s.push(L):(s.push('"'),s.push(de(L,34)),s.push('"')),s.push(": __maybeDefault(__import"),s.push(O.toString()),s.push(`),
`),b.push("import * as __import"),b.push(O.toString()),b.push(' from "'),b.push(de(L,34)),b.push(`";
`),g=!0}}s[0]=b.join(""),s.push(`  }
))(new URL("${de(n.basenameHint,34)}.wasm", import.meta.url));
`),g&&s.push(`function __maybeDefault(module) {
  return typeof module.default === "object" && Object.keys(module).length == 1
    ? module.default
    : module;
}
`)}return s.join("")}ensureModuleId(e){if(e=="env")return-1;var t=this.importMappings;let i=t.has(e)?i32(t.get(e)):t.size;return t.set(e,i),i}isPlainObject(e){if(e.base)return!1;var t=e.members;if(t)for(let i=Map_values(t),n=0,s=i.length;n<s;++n){let a=i[n];if(a.isAny(1536)||a.is(262144)&&a.declaration.range!=this.program.nativeRange)return!1}return!0}makeLiftFromValue(e,t,i=this.sb){if(t.isInternalReference){let n=assert(t.getClass());if(n.extends(this.program.arrayBufferInstance.prototype))i.push("__liftBuffer("),this.needsLiftBuffer=!0;else if(n.extends(this.program.stringInstance.prototype))i.push("__liftString("),this.needsLiftString=!0;else if(n.extends(this.program.arrayPrototype)){let s=n.getArrayValueType();i.push("__liftArray("),this.makeLiftFromMemory(s,i),i.push(", "),i.push(s.alignLog2.toString()),i.push(", "),this.needsLiftArray=!0}else if(n.extends(this.program.staticArrayPrototype)){let s=n.getArrayValueType();i.push("__liftStaticArray("),this.makeLiftFromMemory(s,i),i.push(", "),i.push(s.alignLog2.toString()),i.push(", "),this.needsLiftStaticArray=!0}else if(n.extends(this.program.arrayBufferViewInstance.prototype))i.push("__liftTypedArray("),n.name=="Uint64Array"?i.push("BigUint64Array"):n.name=="Int64Array"?i.push("BigInt64Array"):i.push(n.name),i.push(", "),this.needsLiftTypedArray=!0;else if(this.isPlainObject(n)){if(i.push("__liftRecord"),i.push(n.id.toString()),i.push("("),!this.deferredLifts.has(n)){this.deferredLifts.add(n);let s=this.indentLevel;this.indentLevel=1,this.deferredCode.push(this.makeLiftRecord(n)),this.indentLevel=s}}else i.push("__liftInternref("),this.needsLiftInternref=!0;i.push(e),e.startsWith("new Uint32Array(")||i.push(" >>> 0"),i.push(")")}else i.push(e),t.isUnsignedIntegerValue&&t.size==32?i.push(" >>> 0"):t==u.bool&&i.push(" != 0")}makeLowerToValue(e,t,i=this.sb){if(t.isInternalReference){let n=assert(t.getClass());if(n.extends(this.program.arrayBufferInstance.prototype))i.push("__lowerBuffer("),this.needsLowerBuffer=!0;else if(n.extends(this.program.stringInstance.prototype))i.push("__lowerString("),this.needsLowerString=!0;else if(n.extends(this.program.arrayPrototype)){let s=n.getArrayValueType();i.push("__lowerArray("),this.makeLowerToMemory(s,i),i.push(", "),i.push(n.id.toString()),i.push(", "),i.push(n.getArrayValueType().alignLog2.toString()),i.push(", "),this.needsLowerArray=!0}else if(n.extends(this.program.staticArrayPrototype)){let s=n.getArrayValueType();i.push("__lowerStaticArray("),this.makeLowerToMemory(s,i),i.push(", "),i.push(n.id.toString()),i.push(", "),i.push(n.getArrayValueType().alignLog2.toString()),i.push(", "),this.needsLowerStaticArray=!0}else if(n.extends(this.program.arrayBufferViewInstance.prototype)){let s=n.getArrayValueType();i.push("__lowerTypedArray("),s==u.u64?i.push("BigUint64Array"):s==u.i64?i.push("BigInt64Array"):i.push(n.name),i.push(", "),i.push(n.id.toString()),i.push(", "),i.push(n.getArrayValueType().alignLog2.toString()),i.push(", "),this.needsLowerTypedArray=!0}else if(this.isPlainObject(n)){if(i.push("__lowerRecord"),i.push(n.id.toString()),i.push("("),!this.deferredLowers.has(n)){this.deferredLowers.add(n);let s=this.indentLevel;this.indentLevel=1,this.deferredCode.push(this.makeLowerRecord(n)),this.indentLevel=s}}else i.push("__lowerInternref("),this.needsLowerInternref=!0;i.push(e),i.push(")"),t.is(512)||(this.needsNotNull=!0,i.push(" || __notnull()"))}else i.push(e),t.isIntegerValue&&t.size==64?i.push(" || 0n"):t==u.bool&&i.push(" ? 1 : 0")}makeLiftFromMemory(e,t=this.sb,i=null){if(i||(t.push("pointer => "),i="pointer"),e.isInternalReference){let n=new Array;n.push("new Uint32Array(memory.buffer)["),n.push(i),n.push(" >>> 2]"),this.makeLiftFromValue(n.join(""),e,t)}else{if(e==u.i8)t.push("new Int8Array(memory.buffer)[");else if(e==u.u8||e==u.bool)t.push("new Uint8Array(memory.buffer)[");else if(e==u.i16)t.push("new Int16Array(memory.buffer)[");else if(e==u.u16)t.push("new Uint16Array(memory.buffer)[");else if(e==u.i32||e==u.isize32)t.push("new Int32Array(memory.buffer)[");else if(e==u.u32||e==u.usize32)t.push("new Uint32Array(memory.buffer)[");else if(e==u.i64||e==u.isize64)t.push("new BigInt64Array(memory.buffer)[");else if(e==u.u64||e==u.usize64)t.push("new BigUint64Array(memory.buffer)[");else if(e==u.f32)t.push("new Float32Array(memory.buffer)[");else if(e==u.f64)t.push("new Float64Array(memory.buffer)[");else{t.push('{ throw Error("unsupported type"); }');return}t.push(i),t.push(" >>> "),t.push(e.alignLog2.toString()),t.push("]"),e==u.bool&&t.push(" != 0")}}makeLowerToMemory(e,t=this.sb,i=null,n=null){let s=!0;if((!i||!n)&&(t.push("(pointer, value) => { "),i="pointer",n="value",s=!1),e.isInternalReference)t.push("new Uint32Array(memory.buffer)[");else if(e==u.i8)t.push("new Int8Array(memory.buffer)[");else if(e==u.u8||e==u.bool)t.push("new Uint8Array(memory.buffer)[");else if(e==u.i16)t.push("new Int16Array(memory.buffer)[");else if(e==u.u16)t.push("new Uint16Array(memory.buffer)[");else if(e==u.i32||e==u.isize32)t.push("new Int32Array(memory.buffer)[");else if(e==u.u32||e==u.usize32)t.push("new Uint32Array(memory.buffer)[");else if(e==u.i64||e==u.isize64)t.push("new BigInt64Array(memory.buffer)[");else if(e==u.u64||e==u.usize64)t.push("new BigUint64Array(memory.buffer)[");else if(e==u.f32)t.push("new Float32Array(memory.buffer)[");else if(e==u.f64)t.push("new Float64Array(memory.buffer)[");else{s?t.push('(() => { throw Error("unsupported type") })()'):t.push('throw Error("unsupported type"); }');return}t.push(i),t.push(" >>> "),t.push(e.alignLog2.toString()),t.push("] = "),this.makeLowerToValue(n,e,t),s||t.push("; }")}makeLiftRecord(e){assert(this.isPlainObject(e));var t=new Array;V(t,this.indentLevel),t.push("function __liftRecord"),t.push(e.id.toString()),t.push(`(pointer) {
`),V(t,++this.indentLevel),t.push("// "),t.push(e.type.toString()),t.push(`
`),V(t,this.indentLevel),t.push(`// Hint: Opt-out from lifting as a record by providing an empty constructor
`),V(t,this.indentLevel),t.push(`if (!pointer) return null;
`),V(t,this.indentLevel++),t.push(`return {
`);var i=e.members;if(i)for(let n=Map_keys(i),s=0,a=n.length;s<a;++s){let o=n[s],l=assert(i.get(o));if(l.kind!=11)continue;let p=l;V(t,this.indentLevel),t.push(p.name),t.push(": "),this.makeLiftFromMemory(p.type,t,"pointer + "+p.memoryOffset.toString()),t.push(`,
`)}return V(t,--this.indentLevel),t.push(`};
`),V(t,--this.indentLevel),t.push(`}
`),t.join("")}makeLowerRecord(e){assert(this.isPlainObject(e));var t=new Array;V(t,this.indentLevel),t.push("function __lowerRecord"),t.push(e.id.toString()),t.push(`(value) {
`),V(t,++this.indentLevel),t.push("// "),t.push(e.type.toString()),t.push(`
`),V(t,this.indentLevel),t.push(`// Hint: Opt-out from lowering as a record by providing an empty constructor
`),V(t,this.indentLevel),t.push(`if (value == null) return 0;
`),V(t,this.indentLevel),t.push("const pointer = exports.__pin(exports.__new("),t.push(e.nextMemoryOffset.toString()),t.push(", "),t.push(e.id.toString()),t.push(`));
`);var i=e.members;if(i)for(let n=Map_keys(i),s=0,a=n.length;s<a;++s){let o=n[s],l=assert(i.get(o));if(l.kind!=11)continue;let p=l;V(t,this.indentLevel),this.makeLowerToMemory(p.type,t,"pointer + "+p.memoryOffset.toString(),"value."+o),t.push(`;
`)}return V(t,this.indentLevel),t.push(`exports.__unpin(pointer);
`),V(t,this.indentLevel),t.push(`return pointer;
`),V(t,--this.indentLevel),t.push(`}
`),t.join("")}},Nt=(t=>(t[t.IMPORT=0]="IMPORT",t[t.EXPORT=1]="EXPORT",t))(Nt||{});function Sr(r,e){if(e==0){if(r.isIntegerValue&&r.size==64||r==u.bool)return!1}else if(r.isUnsignedIntegerValue&&r.size==32||r==u.bool)return!1;return!r.isInternalReference}function Mu(r,e){var t=r.parameterTypes,i=e==0?1:0;for(let n=0,s=t.length;n<s;++n)if(!Sr(t[n],i))return!1;return!!Sr(r.returnType,e)}function Gh(r,e,t,i=!1){for(var n=0,s=r.length,a=0;a<s;)r.charCodeAt(a)==10&&(i?i=!1:V(t,e),t.push(r.substring(n,n=a+1))),++a;n<s&&(i||V(t,e),t.push(r.substring(n)))}var Ar=class extends Nn{constructor(e,t,i=!1){super(e,i);this.sb=[];this.indentLevel=0;this.seenObjectTypes=new Map;this.deferredTypings=new Array;this.esm=t}static build(e,t=!0){return new Ar(e,t).build()}visitGlobal(e,t){var i=this.sb,n=t.type,s=this.toTypeScriptType(n,fi.EXPORT);V(i,this.indentLevel),i.push("/** "),i.push(t.internalName),i.push(` */
`),V(i,this.indentLevel),i.push("export "),this.esm&&i.push("declare "),i.push("const "),i.push(e),i.push(`: {
`),V(i,++this.indentLevel),i.push("/** @type `"),i.push(n.toString()),i.push("` */\n"),V(i,this.indentLevel),i.push("get value(): "),i.push(s),t.is(8)?i.push(`
`):(i.push(`;
`),V(i,this.indentLevel),i.push("set value(value: "),i.push(s),i.push(`);
`)),V(i,--this.indentLevel),i.push(`};
`)}visitEnum(e,t){var i=this.sb;V(i,this.indentLevel),i.push("/** "),i.push(t.internalName),i.push(` */
`),V(i,this.indentLevel++),i.push("export "),this.esm&&i.push("declare "),i.push("enum "),i.push(e),i.push(` {
`);var n=t.members;if(n)for(let s=Map_keys(n),a=0,o=s.length;a<o;++a){let l=unchecked(s[a]);assert(n.get(l)).kind==3&&(V(i,this.indentLevel),i.push("/** @type `i32` */\n"),V(i,this.indentLevel),i.push(l),i.push(`,
`))}V(i,--this.indentLevel),i.push(`}
`)}visitFunction(e,t){var i=this.sb,n=t.signature;V(i,this.indentLevel),i.push(`/**
`),V(i,this.indentLevel),i.push(" * "),i.push(t.internalName),i.push(`
`);var s=n.parameterTypes,a=s.length;for(let p=0;p<a;++p)V(i,this.indentLevel),i.push(" * @param "),i.push(t.getParameterName(p)),i.push(" `"),i.push(s[p].toString()),i.push("`\n");var o=n.returnType;o!=u.void&&(V(i,this.indentLevel),i.push(" * @returns `"),i.push(o.toString()),i.push("`\n")),V(i,this.indentLevel),i.push(` */
`),V(i,this.indentLevel),i.push("export "),this.esm&&i.push("declare "),i.push("function "),i.push(e),i.push("(");var l=n.requiredParameters;for(let p=0;p<a;++p)p&&i.push(", "),i.push(t.getParameterName(p)),p>=l&&i.push("?"),i.push(": "),i.push(this.toTypeScriptType(s[p],fi.IMPORT));i.push("): "),i.push(this.toTypeScriptType(o,fi.EXPORT)),i.push(`;
`)}visitClass(e,t){}visitInterface(e,t){}visitField(e,t){}visitNamespace(e,t){}visitAlias(e,t,i){}build(){var e=this.sb;this.esm||(e.push(`declare namespace __AdaptedExports {
`),++this.indentLevel),this.walk(),this.esm||(--this.indentLevel,e.push(`}
`));var t=this.deferredTypings;for(let i=0,n=t.length;i<n;++i)e.push(t[i]);if(!this.esm){e.push(`/** Instantiates the compiled WebAssembly module with the given imports. */
`),e.push(`export declare function instantiate(module: WebAssembly.Module, imports: {
`);let i=this.program.moduleImports;for(let n=Map_keys(i),s=0,a=n.length;s<a;++s){let o=n[s];e.push("  "),ke(o)?e.push(o):(e.push('"'),e.push(de(o,34)),e.push('"')),e.push(`: unknown,
`)}e.push(`}): Promise<typeof __AdaptedExports>;
`)}return e.join("")}isPlainObject(e){if(e.base)return!1;var t=e.members;if(t)for(let i=Map_values(t),n=0,s=i.length;n<s;++n){let a=i[n];if(a.isAny(1536)||a.is(262144)&&a.declaration.range!=this.program.nativeRange)return!1}return!0}toTypeScriptType(e,t){if(e.isInternalReference){let i=new Array,n=assert(e.getClass());if(n.extends(this.program.arrayBufferInstance.prototype))i.push("ArrayBuffer");else if(n.extends(this.program.stringInstance.prototype))i.push("string");else if(n.extends(this.program.arrayPrototype)||n.extends(this.program.staticArrayPrototype)){let s=n.getArrayValueType();i.push("Array<"),i.push(this.toTypeScriptType(s,t)),i.push(">")}else if(n.extends(this.program.arrayBufferViewInstance.prototype)){let s=n.getArrayValueType();s==u.i8?i.push("Int8Array"):s==u.u8?n.extends(this.program.uint8ClampedArrayPrototype)?i.push("Uint8ClampedArray"):i.push("Uint8Array"):s==u.i16?i.push("Int16Array"):s==u.u16?i.push("Uint16Array"):s==u.i32?i.push("Int32Array"):s==u.u32?i.push("Uint32Array"):s==u.i64?i.push("BigInt64Array"):s==u.u64?i.push("BigUint64Array"):s==u.f32?i.push("Float32Array"):s==u.f64?i.push("Float64Array"):i.push("unknown")}else{let s=this.seenObjectTypes,a;s.has(n)?(a=assert(s.get(n)),i.push(a),this.isPlainObject(n)&&i.push(t==fi.EXPORT?"<never>":"<undefined>")):(this.isPlainObject(n)?(a="__Record"+n.id.toString(),i.push(a),i.push(t==fi.EXPORT?"<never>":"<undefined>"),this.deferredTypings.push(this.makeRecordType(n,t))):(a="__Internref"+n.id.toString(),i.push(a),this.deferredTypings.push(this.makeInternrefType(n))),s.set(n,a))}return e.is(512)&&i.push(" | null"),i.join("")}else{if(e==u.bool)return"boolean";if(e==u.void)return"void";if(e.isNumericValue)return e.isLongIntegerValue?"bigint":"number"}return"unknown"}makeRecordType(e,t){var i=new Array,n=e.members;if(i.push("/** "),i.push(e.internalName),i.push(` */
declare interface __Record`),i.push(e.id.toString()),i.push(`<TOmittable> {
`),n)for(let s=Map_keys(n),a=0,o=s.length;a<o;++a){let l=s[a],p=assert(n.get(l));if(p.kind!=11)continue;let c=p;i.push("  /** @type `"),i.push(c.type.toString()),i.push("` */\n  "),i.push(c.name),i.push(": "),i.push(this.toTypeScriptType(c.type,t)),this.fieldAcceptsUndefined(c.type)&&i.push(" | TOmittable"),i.push(`;
`)}return i.push(`}
`),i.join("")}fieldAcceptsUndefined(e){return e.isInternalReference?e.is(512):!0}makeInternrefType(e){var t=new Array;t.push("/** "),t.push(e.internalName),t.push(` */
`),t.push("declare class __Internref"),t.push(e.id.toString()),t.push(` extends Number {
`);var i=e;do t.push("  private __nominal"),t.push(i.id.toString()),t.push(`: symbol;
`),i=i.base;while(i);return t.push(`}
`),t.join("")}},fi=(t=>(t[t.IMPORT=0]="IMPORT",t[t.EXPORT=1]="EXPORT",t))(fi||{});function M2(){return new Ps}function U2(r,e){r.target=e}function B2(r,e){r.runtime=e}function D2(r,e){r.noAssert=e}function G2(r,e){r.exportMemory=e}function V2(r,e){r.importMemory=e}function z2(r,e){r.initialMemory=e}function W2(r,e){r.maximumMemory=e}function Y2(r,e){r.sharedMemory=e}function H2(r,e){r.importTable=e}function K2(r,e){r.exportTable=e}function X2(r,e){r.sourceMap=e}function q2(r,e){r.memoryBase=e}function Q2(r,e){r.tableBase=e}function Z2(r,e,t){var i=r.globalAliases;i||(r.globalAliases=i=new Map),i.set(e,t)}function j2(r,e){var t=r.globalAliases;t&&t.delete(e)}function J2(r,e){r.exportStart=e}function $2(r,e){r.noUnsafe=e}function eS(r,e){r.lowMemoryLimit=e}function tS(r,e){r.exportRuntime=e}var rS=16384;function iS(r,e){r.stackSize=e}function nS(r,e,t,i){r.bundleMajorVersion=e,r.bundleMinorVersion=t,r.bundlePatchVersion=i}var sS=1,aS=2,oS=4,lS=8,uS=16,pS=32,cS=64,_S=128,fS=256,hS=512,mS=1024,dS=2048;function ES(r,e){r.features|=e}function yS(r,e){r.features&=~e}function gS(r,e,t){r.optimizeLevelHint=e,r.shrinkLevelHint=t}function TS(r,e){r.basenameHint=e}function bS(r,e){r.pedantic=e}function IS(r){return new gs(r)}function vS(r){return r.diagnosticsOffset<r.diagnostics.length?r.diagnostics[r.diagnosticsOffset++]:null}function xS(r,e){return r.getSource(e)}function SS(r){return r.code}function RS(r){return r.category}function AS(r){return r.message}function NS(r){return r.range}function LS(r){return r.relatedRange}function CS(r){return r.start}function FS(r){return r.end}function kS(r){return r.source}function PS(r){return r.normalizedPath}function OS(r){return r.category==1}function wS(r){return r.category==2}function MS(r){return r.category==3}function US(r,e,t,i=!1){r.parser.parseFile(e,t,i)}function BS(r){return r.parser.nextFile()}function DS(r,e){return r.parser.getDependee(e)}function GS(r){r.initialize()}function VS(r){return r.parser.finish(),new si(r).compile()}function zS(r,e){return Ar.build(r,e)}function WS(r,e){return Rr.build(r,e)}function YS(r){return r.ref}function HS(r){return r.validate()}function KS(r,e,t,i=!1,n=!1){r.optimize(e,t,i,n)}var Hs=class{constructor(){this.sb=[];this.indentLevel=0}static build(e){var t=new Hs;return t.visitNode(e),t.finish()}visitNode(e){switch(e.kind){case 0:{this.visitSource(e);break}case 1:{this.visitNamedTypeNode(e);break}case 2:{this.visitFunctionTypeNode(e);break}case 4:{this.visitTypeParameter(e);break}case 13:case 18:case 23:case 24:case 25:case 26:case 6:{this.visitIdentifierExpression(e);break}case 7:{this.visitAssertionExpression(e);break}case 8:{this.visitBinaryExpression(e);break}case 9:{this.visitCallExpression(e);break}case 10:{this.visitClassExpression(e);break}case 11:{this.visitCommaExpression(e);break}case 12:{this.visitElementAccessExpression(e);break}case 14:{this.visitFunctionExpression(e);break}case 15:{this.visitInstanceOfExpression(e);break}case 16:{this.visitLiteralExpression(e);break}case 17:{this.visitNewExpression(e);break}case 20:{this.visitParenthesizedExpression(e);break}case 21:{this.visitPropertyAccessExpression(e);break}case 22:{this.visitTernaryExpression(e);break}case 27:{this.visitUnaryPostfixExpression(e);break}case 28:{this.visitUnaryPrefixExpression(e);break}case 30:{this.visitBlockStatement(e);break}case 31:{this.visitBreakStatement(e);break}case 32:{this.visitContinueStatement(e);break}case 33:{this.visitDoStatement(e);break}case 34:{this.visitEmptyStatement(e);break}case 35:{this.visitExportStatement(e);break}case 36:{this.visitExportDefaultStatement(e);break}case 37:{this.visitExportImportStatement(e);break}case 38:{this.visitExpressionStatement(e);break}case 39:{this.visitForStatement(e);break}case 40:{this.visitForOfStatement(e);break}case 41:{this.visitIfStatement(e);break}case 42:{this.visitImportStatement(e);break}case 43:{this.visitReturnStatement(e);break}case 44:{this.visitSwitchStatement(e);break}case 45:{this.visitThrowStatement(e);break}case 46:{this.visitTryStatement(e);break}case 47:{this.visitVariableStatement(e);break}case 49:{this.visitWhileStatement(e);break}case 50:{this.visitModuleDeclaration(e);break}case 51:{this.visitClassDeclaration(e);break}case 52:{this.visitEnumDeclaration(e);break}case 53:{this.visitEnumValueDeclaration(e);break}case 54:{this.visitFieldDeclaration(e);break}case 55:{this.visitFunctionDeclaration(e);break}case 56:{this.visitImportDeclaration(e);break}case 57:{this.visitInterfaceDeclaration(e);break}case 58:{this.visitMethodDeclaration(e);break}case 59:{this.visitNamespaceDeclaration(e);break}case 60:{this.visitTypeDeclaration(e);break}case 61:{this.visitVariableDeclaration(e);break}case 62:{this.serializeDecorator(e);break}case 63:{this.visitExportMember(e);break}case 5:{this.serializeParameter(e);break}case 64:{this.visitSwitchCase(e);break}case 65:{this.visitIndexSignature(e);break}default:assert(!1)}}visitSource(e){var t=e.statements;for(let i=0,n=t.length;i<n;++i)this.visitNodeAndTerminate(t[i])}visitTypeNode(e){switch(e.kind){case 1:{this.visitNamedTypeNode(e);break}case 2:{this.visitFunctionTypeNode(e);break}default:assert(!1)}}visitTypeName(e){this.visitIdentifierExpression(e.identifier);for(var t=this.sb,i=e.next;i;)t.push("."),this.visitIdentifierExpression(i.identifier),i=i.next}visitNamedTypeNode(e){this.visitTypeName(e.name);var t=e.typeArguments;if(t){let i=t.length,n=this.sb;if(i){n.push("<"),this.visitTypeNode(t[0]);for(let s=1;s<i;++s)n.push(", "),this.visitTypeNode(t[s]);n.push(">")}e.isNullable&&n.push(" | null")}}visitFunctionTypeNode(e){var t=e.isNullable,i=this.sb;i.push(t?"((":"(");var n=e.explicitThisType;n&&(i.push("this: "),this.visitTypeNode(n));var s=e.parameters,a=s.length;if(a){n&&i.push(", "),this.serializeParameter(s[0]);for(let l=1;l<a;++l)i.push(", "),this.serializeParameter(s[l])}var o=e.returnType;o?(i.push(") => "),this.visitTypeNode(o)):i.push(") => void"),t&&i.push(") | null")}visitTypeParameter(e){this.visitIdentifierExpression(e.name);var t=e.extendsType;t&&(this.sb.push(" extends "),this.visitTypeNode(t));var i=e.defaultType;i&&(this.sb.push("="),this.visitTypeNode(i))}visitIdentifierExpression(e){e.isQuoted?this.visitStringLiteral(e.text):this.sb.push(e.text)}visitArrayLiteralExpression(e){var t=this.sb;t.push("[");var i=e.elementExpressions,n=i.length;if(n){let s=i[0];s&&this.visitNode(s);for(let a=1;a<n;++a)s=i[a],t.push(", "),s&&this.visitNode(s)}t.push("]")}visitObjectLiteralExpression(e){var t=this.sb,i=e.names,n=e.values,s=i.length;if(assert(s==n.length),s){t.push(`{
`),V(t,++this.indentLevel),this.visitNode(i[0]),t.push(": "),this.visitNode(n[0]);for(let a=1;a<s;++a){t.push(`,
`),V(t,this.indentLevel);let o=i[a],l=n[a];o==l?this.visitNode(o):(this.visitNode(o),t.push(": "),this.visitNode(l))}t.push(`
`),V(t,--this.indentLevel),t.push("}")}else t.push("{}")}visitAssertionExpression(e){var t=this.sb;switch(e.assertionKind){case 0:{t.push("<"),this.visitTypeNode(assert(e.toType)),t.push(">"),this.visitNode(e.expression);break}case 1:{this.visitNode(e.expression),t.push(" as "),this.visitTypeNode(assert(e.toType));break}case 2:{this.visitNode(e.expression),t.push("!");break}case 3:{this.visitNode(e.expression),t.push(" as const");break}default:assert(!1)}}visitBinaryExpression(e){var t=this.sb;this.visitNode(e.left),t.push(" "),t.push(ye(e.operator)),t.push(" "),this.visitNode(e.right)}visitCallExpression(e){this.visitNode(e.expression),this.visitArguments(e.typeArguments,e.args)}visitArguments(e,t){var i=this.sb;if(e){let s=e.length;if(s){i.push("<"),this.visitTypeNode(e[0]);for(let a=1;a<s;++a)i.push(", "),this.visitTypeNode(e[a]);i.push(">(")}}else i.push("(");var n=t.length;if(n){this.visitNode(t[0]);for(let s=1;s<n;++s)i.push(", "),this.visitNode(t[s])}i.push(")")}visitClassExpression(e){var t=e.declaration;this.visitClassDeclaration(t)}visitCommaExpression(e){var t=e.expressions,i=assert(t.length);this.visitNode(t[0]);var n=this.sb;for(let s=1;s<i;++s)n.push(","),this.visitNode(t[s])}visitElementAccessExpression(e){var t=this.sb;this.visitNode(e.expression),t.push("["),this.visitNode(e.elementExpression),t.push("]")}visitFunctionExpression(e){var t=e.declaration;t.arrowKind?assert(t.name.text.length==0):t.name.text.length?this.sb.push("function "):this.sb.push("function"),this.visitFunctionCommon(t)}visitLiteralExpression(e){switch(e.literalKind){case 0:{this.visitFloatLiteralExpression(e);break}case 1:{this.visitIntegerLiteralExpression(e);break}case 2:{this.visitStringLiteralExpression(e);break}case 3:{this.visitTemplateLiteralExpression(e);break}case 4:{this.visitRegexpLiteralExpression(e);break}case 5:{this.visitArrayLiteralExpression(e);break}case 6:{this.visitObjectLiteralExpression(e);break}default:{assert(!1);break}}}visitFloatLiteralExpression(e){this.sb.push(e.value.toString())}visitInstanceOfExpression(e){this.visitNode(e.expression),this.sb.push(" instanceof "),this.visitTypeNode(e.isType)}visitIntegerLiteralExpression(e){this.sb.push(i64_to_string(e.value))}visitStringLiteral(e){var t=this.sb;t.push('"'),t.push(de(e,34)),t.push('"')}visitStringLiteralExpression(e){this.visitStringLiteral(e.value)}visitTemplateLiteralExpression(e){var t=this.sb,i=e.tag,n=e.parts,s=e.expressions;i&&this.visitNode(i),t.push("`"),t.push(de(n[0],96)),assert(n.length==s.length+1);for(let a=0,o=s.length;a<o;++a)t.push("${"),this.visitNode(s[a]),t.push("}"),t.push(de(n[a+1],96));t.push("`")}visitRegexpLiteralExpression(e){var t=this.sb;t.push("/"),t.push(e.pattern),t.push("/"),t.push(e.patternFlags)}visitNewExpression(e){this.sb.push("new "),this.visitTypeName(e.typeName),this.visitArguments(e.typeArguments,e.args)}visitParenthesizedExpression(e){var t=this.sb;t.push("("),this.visitNode(e.expression),t.push(")")}visitPropertyAccessExpression(e){this.visitNode(e.expression),this.sb.push("."),this.visitIdentifierExpression(e.property)}visitTernaryExpression(e){var t=this.sb;this.visitNode(e.condition),t.push(" ? "),this.visitNode(e.ifThen),t.push(" : "),this.visitNode(e.ifElse)}visitUnaryExpression(e){switch(e.kind){case 27:{this.visitUnaryPostfixExpression(e);break}case 28:{this.visitUnaryPrefixExpression(e);break}default:assert(!1)}}visitUnaryPostfixExpression(e){this.visitNode(e.operand),this.sb.push(ye(e.operator))}visitUnaryPrefixExpression(e){this.sb.push(ye(e.operator)),this.visitNode(e.operand)}visitNodeAndTerminate(e){this.visitNode(e);var t=this.sb;if(!t.length||e.kind==47||e.kind==38)t.push(`;
`);else{let i=t[t.length-1],n=i.length-1;n>=0&&(i.charCodeAt(n)==125||i.charCodeAt(n)==59)?t.push(`
`):t.push(`;
`)}}visitBlockStatement(e){var t=this.sb,i=e.statements,n=i.length;if(n){t.push(`{
`);let s=++this.indentLevel;for(let a=0;a<n;++a)V(t,s),this.visitNodeAndTerminate(i[a]);V(t,--this.indentLevel),t.push("}")}else t.push("{}")}visitBreakStatement(e){var t=e.label;t?(this.sb.push("break "),this.visitIdentifierExpression(t)):this.sb.push("break")}visitContinueStatement(e){var t=e.label;t?(this.sb.push("continue "),this.visitIdentifierExpression(t)):this.sb.push("continue")}visitClassDeclaration(e,t=!1){var i=e.decorators;if(i)for(let _=0,f=i.length;_<f;++_)this.serializeDecorator(i[_]);var n=this.sb;t?n.push("export default "):this.serializeExternalModifiers(e),e.is(128)&&n.push("abstract "),e.name.text.length?(n.push("class "),this.visitIdentifierExpression(e.name)):n.push("class");var s=e.typeParameters;if(s!=null&&s.length>0){n.push("<"),this.visitTypeParameter(s[0]);for(let _=1,f=s.length;_<f;++_)n.push(", "),this.visitTypeParameter(s[_]);n.push(">")}var a=e.extendsType;a&&(n.push(" extends "),this.visitTypeNode(a));var o=e.implementsTypes;if(o){let _=o.length;if(_){n.push(" implements "),this.visitTypeNode(o[0]);for(let f=1;f<_;++f)n.push(", "),this.visitTypeNode(o[f])}}var l=e.indexSignature,p=e.members,c=p.length;if(l||c){n.push(` {
`);let _=++this.indentLevel;l&&(V(n,_),this.visitNodeAndTerminate(l));for(let f=0,E=p.length;f<E;++f){let g=p[f];(g.kind!=54||g.parameterIndex<0)&&(V(n,_),this.visitNodeAndTerminate(g))}V(n,--this.indentLevel),n.push("}")}else n.push(" {}")}visitDoStatement(e){var t=this.sb;t.push("do "),this.visitNode(e.statement),e.statement.kind==30?t.push(" while ("):(t.push(`;
`),V(t,this.indentLevel),t.push("while (")),this.visitNode(e.condition),t.push(")")}visitEmptyStatement(e){}visitEnumDeclaration(e,t=!1){var i=this.sb;t?i.push("export default "):this.serializeExternalModifiers(e),e.is(8)&&i.push("const "),i.push("enum "),this.visitIdentifierExpression(e.name);var n=e.values,s=n.length;if(s){i.push(` {
`);let a=++this.indentLevel;V(i,a),this.visitEnumValueDeclaration(e.values[0]);for(let o=1;o<s;++o)i.push(`,
`),V(i,a),this.visitEnumValueDeclaration(e.values[o]);i.push(`
`),V(i,--this.indentLevel),i.push("}")}else i.push(" {}")}visitEnumValueDeclaration(e){this.visitIdentifierExpression(e.name);var t=e.initializer;t&&(this.sb.push(" = "),this.visitNode(t))}visitExportImportStatement(e){var t=this.sb;t.push("export import "),this.visitIdentifierExpression(e.externalName),t.push(" = "),this.visitIdentifierExpression(e.name)}visitExportMember(e){this.visitIdentifierExpression(e.localName),e.exportedName.text!=e.localName.text&&(this.sb.push(" as "),this.visitIdentifierExpression(e.exportedName))}visitExportStatement(e){var t=this.sb;e.isDeclare&&t.push("declare ");var i=e.members;if(i==null)t.push("export *");else if(i.length>0){let s=i.length;t.push(`export {
`);let a=++this.indentLevel;V(t,a),this.visitExportMember(i[0]);for(let o=1;o<s;++o)t.push(`,
`),V(t,a),this.visitExportMember(i[o]);--this.indentLevel,t.push(`
}`)}else t.push("export {}");var n=e.path;n&&(t.push(" from "),this.visitStringLiteralExpression(n)),t.push(";")}visitExportDefaultStatement(e){var t=e.declaration;switch(t.kind){case 52:{this.visitEnumDeclaration(t,!0);break}case 55:{this.visitFunctionDeclaration(t,!0);break}case 51:{this.visitClassDeclaration(t,!0);break}case 57:{this.visitInterfaceDeclaration(t,!0);break}case 59:{this.visitNamespaceDeclaration(t,!0);break}default:assert(!1)}}visitExpressionStatement(e){this.visitNode(e.expression)}visitFieldDeclaration(e){var t=e.decorators;if(t)for(let a=0,o=t.length;a<o;++a)this.serializeDecorator(t[a]);this.serializeAccessModifiers(e),this.visitIdentifierExpression(e.name);var i=this.sb;e.flags&8192&&i.push("!");var n=e.type;n&&(i.push(": "),this.visitTypeNode(n));var s=e.initializer;s&&(i.push(" = "),this.visitNode(s))}visitForStatement(e){var t=this.sb;t.push("for (");var i=e.initializer;i&&this.visitNode(i);var n=e.condition;n?(t.push("; "),this.visitNode(n)):t.push(";");var s=e.incrementor;s?(t.push("; "),this.visitNode(s)):t.push(";"),t.push(") "),this.visitNode(e.statement)}visitForOfStatement(e){var t=this.sb;t.push("for ("),this.visitNode(e.variable),t.push(" of "),this.visitNode(e.iterable),t.push(") "),this.visitNode(e.statement)}visitFunctionDeclaration(e,t=!1){var i=this.sb,n=e.decorators;if(n)for(let s=0,a=n.length;s<a;++s)this.serializeDecorator(n[s]);t?i.push("export default "):(this.serializeExternalModifiers(e),this.serializeAccessModifiers(e)),e.name.text.length?i.push("function "):i.push("function"),this.visitFunctionCommon(e)}visitFunctionCommon(e){var t=this.sb;this.visitIdentifierExpression(e.name);var i=e.signature,n=e.typeParameters;if(n){let o=n.length;if(o){t.push("<"),this.visitTypeParameter(n[0]);for(let l=1;l<o;++l)t.push(", "),this.visitTypeParameter(n[l]);t.push(">")}}if(e.arrowKind==2){let o=i.parameters;assert(o.length==1),assert(!i.explicitThisType),this.serializeParameter(o[0])}else{t.push("(");let o=i.parameters,l=o.length,p=i.explicitThisType;if(p&&(t.push("this: "),this.visitTypeNode(p)),l){p&&t.push(", "),this.serializeParameter(o[0]);for(let c=1;c<l;++c)t.push(", "),this.serializeParameter(o[c])}}var s=e.body,a=i.returnType;e.arrowKind?s?(e.arrowKind==2?assert(xe(a)):xe(a)?t.push(")"):(t.push("): "),this.visitTypeNode(a)),t.push(" => "),this.visitNode(s)):(assert(!xe(a)),t.push(" => "),this.visitTypeNode(a)):(!xe(a)&&!e.isAny(266240)?(t.push("): "),this.visitTypeNode(a)):t.push(")"),s&&(t.push(" "),this.visitNode(s)))}visitIfStatement(e){var t=this.sb;t.push("if ("),this.visitNode(e.condition),t.push(") ");var i=e.ifTrue;this.visitNode(i),i.kind!=30&&t.push(`;
`);var n=e.ifFalse;n&&(i.kind==30?t.push(" else "):t.push("else "),this.visitNode(n))}visitImportDeclaration(e){var t=e.foreignName,i=e.name;this.visitIdentifierExpression(t),t.text!=i.text&&(this.sb.push(" as "),this.visitIdentifierExpression(i))}visitImportStatement(e){var t=this.sb;t.push("import ");var i=e.declarations,n=e.namespaceName;if(i){let s=i.length;if(s){t.push(`{
`);let a=++this.indentLevel;V(t,a),this.visitImportDeclaration(i[0]);for(let o=1;o<s;++o)t.push(`,
`),V(t,a),this.visitImportDeclaration(i[o]);--this.indentLevel,t.push(`
} from `)}else t.push("{} from ")}else n&&(t.push("* as "),this.visitIdentifierExpression(n),t.push(" from "));this.visitStringLiteralExpression(e.path)}visitIndexSignature(e){var t=this.sb;t.push("[key: "),this.visitTypeNode(e.keyType),t.push("]: "),this.visitTypeNode(e.valueType)}visitInterfaceDeclaration(e,t=!1){var i=e.decorators;if(i)for(let p=0,c=i.length;p<c;++p)this.serializeDecorator(i[p]);var n=this.sb;t?n.push("export default "):this.serializeExternalModifiers(e),n.push("interface "),this.visitIdentifierExpression(e.name);var s=e.typeParameters;if(s!=null&&s.length>0){n.push("<"),this.visitTypeParameter(s[0]);for(let p=1,c=s.length;p<c;++p)n.push(", "),this.visitTypeParameter(s[p]);n.push(">")}var a=e.extendsType;a&&(n.push(" extends "),this.visitTypeNode(a)),n.push(` {
`);var o=++this.indentLevel,l=e.members;for(let p=0,c=l.length;p<c;++p)V(n,o),this.visitNodeAndTerminate(l[p]);--this.indentLevel,n.push("}")}visitMethodDeclaration(e){var t=e.decorators;if(t)for(let i=0,n=t.length;i<n;++i)this.serializeDecorator(t[i]);this.serializeAccessModifiers(e),e.is(2048)?this.sb.push("get "):e.is(4096)&&this.sb.push("set "),this.visitFunctionCommon(e)}visitNamespaceDeclaration(e,t=!1){var i=e.decorators;if(i)for(let o=0,l=i.length;o<l;++o)this.serializeDecorator(i[o]);var n=this.sb;t?n.push("export default "):this.serializeExternalModifiers(e),n.push("namespace "),this.visitIdentifierExpression(e.name);var s=e.members,a=s.length;if(a){n.push(` {
`);let o=++this.indentLevel;for(let l=0,p=s.length;l<p;++l)V(n,o),this.visitNodeAndTerminate(s[l]);V(n,--this.indentLevel),n.push("}")}else n.push(" {}")}visitReturnStatement(e){var t=e.value;t?(this.sb.push("return "),this.visitNode(t)):this.sb.push("return")}visitSwitchCase(e){var t=this.sb,i=e.label;i?(t.push("case "),this.visitNode(i),t.push(`:
`)):t.push(`default:
`);var n=e.statements,s=n.length;if(s){let a=++this.indentLevel;V(t,a),this.visitNodeAndTerminate(n[0]);for(let o=1;o<s;++o)V(t,a),this.visitNodeAndTerminate(n[o]);--this.indentLevel}}visitSwitchStatement(e){var t=this.sb;t.push("switch ("),this.visitNode(e.condition),t.push(`) {
`);var i=++this.indentLevel,n=e.cases;for(let s=0,a=n.length;s<a;++s)V(t,i),this.visitSwitchCase(n[s]),t.push(`
`);--this.indentLevel,t.push("}")}visitThrowStatement(e){this.sb.push("throw "),this.visitNode(e.value)}visitTryStatement(e){var t=this.sb;t.push(`try {
`);var i=++this.indentLevel,n=e.statements;for(let o=0,l=n.length;o<l;++o)V(t,i),this.visitNodeAndTerminate(n[o]);var s=e.catchVariable;if(s){V(t,i-1),t.push("} catch ("),this.visitIdentifierExpression(s),t.push(`) {
`);let o=e.catchStatements;if(o)for(let l=0,p=o.length;l<p;++l)V(t,i),this.visitNodeAndTerminate(o[l])}var a=e.finallyStatements;if(a){V(t,i-1),t.push(`} finally {
`);for(let o=0,l=a.length;o<l;++o)V(t,i),this.visitNodeAndTerminate(a[o])}V(t,i-1),t.push("}")}visitTypeDeclaration(e){var t=e.decorators;if(t)for(let s=0,a=t.length;s<a;++s)this.serializeDecorator(t[s]);var i=this.sb;this.serializeExternalModifiers(e),i.push("type "),this.visitIdentifierExpression(e.name);var n=e.typeParameters;if(n){let s=n.length;if(s){i.push("<");for(let a=0;a<s;++a)this.visitTypeParameter(n[a]);i.push(">")}}i.push(" = "),this.visitTypeNode(e.type)}visitModuleDeclaration(e){var t=this.sb;e.flags&4&&t.push("declare "),t.push('module "'),t.push(de(e.moduleName,34)),t.push('"')}visitVariableDeclaration(e){this.visitIdentifierExpression(e.name);var t=e.type,i=this.sb;e.flags&8192&&i.push("!"),t&&(i.push(": "),this.visitTypeNode(t));var n=e.initializer;n&&(i.push(" = "),this.visitNode(n))}visitVariableStatement(e){var t=e.decorators;if(t)for(let o=0,l=t.length;o<l;++o)this.serializeDecorator(t[o]);var i=this.sb,n=e.declarations,s=assert(n.length),a=n[0];this.serializeExternalModifiers(a),i.push(a.is(8)?"const ":a.is(16)?"let ":"var "),this.visitVariableDeclaration(e.declarations[0]);for(let o=1;o<s;++o)i.push(", "),this.visitVariableDeclaration(e.declarations[o])}visitWhileStatement(e){var t=this.sb;t.push("while ("),this.visitNode(e.condition);var i=e.statement;i.kind==34?t.push(")"):(t.push(") "),this.visitNode(e.statement))}serializeDecorator(e){var t=this.sb;t.push("@"),this.visitNode(e.name);var i=e.args;if(i){t.push("(");let n=i.length;if(n){this.visitNode(i[0]);for(let s=1;s<n;++s)t.push(", "),this.visitNode(i[s])}t.push(`)
`)}else t.push(`
`);V(t,this.indentLevel)}serializeParameter(e){var t=this.sb,i=e.parameterKind,n=e.implicitFieldDeclaration;n&&this.serializeAccessModifiers(n),i==2&&t.push("..."),this.visitIdentifierExpression(e.name);var s=e.type,a=e.initializer;s&&(i==1&&!a&&t.push("?"),xe(s)||(t.push(": "),this.visitTypeNode(s))),a&&(t.push(" = "),this.visitNode(a))}serializeExternalModifiers(e){var t=this.sb;e.is(2)?t.push("export "):e.is(1)?t.push("import "):e.is(4)&&t.push("declare ")}serializeAccessModifiers(e){var t=this.sb;e.is(4)&&t.push("declare "),e.is(256)?t.push("public "):e.is(512)?t.push("private "):e.is(1024)&&t.push("protected "),e.is(32)?t.push("static "):e.is(128)&&t.push("abstract "),e.is(64)&&t.push("readonly ")}finish(){var e=this.sb.join("");return this.sb=[],e}};var CG=Uu;export{Hs as ASTBuilder,da as ArrayLiteralExpression,Ai as ArrowKind,Ea as AssertionExpression,Dr as AssertionKind,Ru as AtomicRMWOp,ya as BinaryExpression,wu as BinaryModule,jr as BinaryOp,Ka as BlockStatement,qc as BrOnOp,Xa as BreakStatement,ga as CallExpression,Li as Class,Hn as ClassDeclaration,Ta as ClassExpression,Is as ClassPrototype,ba as CommaExpression,ha as CommentKind,ma as CommentNode,Pe as CommonFlags,w as CommonNames,Ya as CompiledExpression,si as Compiler,Rl as ConditionKind,wl as ConstantValueKind,Hl as Constraints,Ia as ConstructorExpression,qa as ContinueStatement,rS as DEFAULT_STACK_SIZE,ze as DeclarationStatement,Dt as DeclaredElement,Q as DecoratorFlags,Et as DecoratorKind,fa as DecoratorNode,Dn as DiagnosticCategory,tt as DiagnosticCode,Ve as DiagnosticEmitter,Si as DiagnosticMessage,Qa as DoStatement,Ts as Element,va as ElementAccessExpression,J as ElementKind,Za as EmptyStatement,Ol as Enum,ja as EnumDeclaration,Ml as EnumValue,Ja as EnumValueDeclaration,ro as ExportDefaultStatement,$a as ExportImportStatement,eo as ExportMember,ln as ExportNames,to as ExportStatement,fe as Expression,nr as ExpressionId,ws as ExpressionRunnerFlags,io as ExpressionStatement,Wl as ExternalKind,lS as FEATURE_BULK_MEMORY,cS as FEATURE_EXCEPTION_HANDLING,mS as FEATURE_GC,dS as FEATURE_MEMORY64,hS as FEATURE_MULTI_VALUE,aS as FEATURE_MUTABLE_GLOBALS,oS as FEATURE_NONTRAPPING_F2I,fS as FEATURE_REFERENCE_TYPES,sS as FEATURE_SIGN_EXTENSION,uS as FEATURE_SIMD,_S as FEATURE_TAIL_CALLS,pS as FEATURE_THREADS,Va as FalseExpression,Pt as Feature,ql as FeatureFlags,Qn as Field,no as FieldDeclaration,Sl as FieldFlags,Ul as FieldPrototype,ys as File,xa as FloatLiteralExpression,Me as Flow,hs as FlowFlags,ao as ForOfStatement,so as ForStatement,je as Function,zr as FunctionDeclaration,Sa as FunctionExpression,Ke as FunctionPrototype,pa as FunctionTypeNode,kn as GETTER_PREFIX,$r as Global,Ne as INDEX_SUFFIX,ta as INNER_DELIMITER,Ii as INSTANCE_DELIMITER,it as IdentifierExpression,So as IdentifierHandling,oo as IfStatement,lo as ImportDeclaration,zn as ImportStatement,jn as IndexSignature,Ha as IndexSignatureNode,Ra as InstanceOfExpression,Aa as IntegerLiteralExpression,Jn as Interface,uo as InterfaceDeclaration,Bl as InterfacePrototype,Rr as JSBuilder,Ze as LIBRARY_PREFIX,On as LIBRARY_SUBST,yt as LiteralExpression,we as LiteralKind,Ue as Local,ms as LocalFlags,un as MemorySegment,po as MethodDeclaration,lt as Module,yo as ModuleDeclaration,Vn as NamedTypeNode,bs as Namespace,co as NamespaceDeclaration,Na as NewExpression,P as Node,dt as NodeKind,La as NullExpression,Ca as ObjectLiteralExpression,Fa as OmittedExpression,Le as OperatorKind,Ps as Options,Vd as PARENT_SUBST,Qe as PATH_DELIMITER,vc as Parameter,Br as ParameterKind,_a as ParameterNode,ka as ParenthesizedExpression,Es as Parser,he as Precedence,gs as Program,Zn as Property,Pa as PropertyAccessExpression,ei as PropertyPrototype,se as Range,Xc as RefAsOp,Os as RefIsOp,Oa as RegexpLiteralExpression,An as Relooper,Xn as ReportMode,qn as Resolver,_o as ReturnStatement,Fn as Runtime,Kl as RuntimeFeatures,Pn as SETTER_PREFIX,Au as SIMDExtractOp,Cu as SIMDLoadOp,Fu as SIMDLoadStoreLaneOp,Nu as SIMDReplaceOp,Lu as SIMDShiftOp,ku as SIMDTernaryOp,vi as STATIC_DELIMITER,ra as STUB_DELIMITER,pn as SideEffects,ve as Signature,Vr as Source,Gr as SourceKind,Ao as State,oe as Statement,Ma as StringLiteralExpression,Ua as SuperExpression,Ms as SwitchBuilder,fo as SwitchCase,ho as SwitchStatement,Ar as TSDBuilder,wr as Target,Ba as TemplateLiteralExpression,wa as TernaryExpression,Da as ThisExpression,mo as ThrowStatement,Wr as Token,Kn as Tokenizer,Ga as TrueExpression,Eo as TryStatement,u as Type,go as TypeDeclaration,bt as TypeDefinition,Ot as TypeFlags,ir as TypeKind,ua as TypeName,Wn as TypeNode,ca as TypeParameterNode,F as TypeRef,Gt as TypedElement,Ti as Typeinfo,bi as TypeinfoFlags,Yn as UnaryExpression,Ji as UnaryOp,za as UnaryPostfixExpression,Wa as UnaryPrefixExpression,To as VariableDeclaration,Ri as VariableLikeDeclarationStatement,ur as VariableLikeElement,bo as VariableStatement,Io as VoidStatement,vo as WhileStatement,Z2 as addGlobalAlias,me as allocPtrArray,WS as buildJS,zS as buildTSD,VS as compile,Oe as createType,CG as default,Xu as diagnosticCategoryToColor,Bn as diagnosticCategoryToString,Ln as diagnosticCodeToString,yS as disableFeature,ES as enableFeature,Yl as expandType,Or as featureToString,gt as findDecorator,st as findUsedLocals,qu as formatDiagnostic,qu as formatDiagnosticMessage,We as getBinaryLeft,qi as getBinaryOp,Ce as getBinaryRight,YS as getBinaryenModuleRef,rn as getBlockChildAt,tn as getBlockChildCount,en as getBlockName,c2 as getBreakCondition,p2 as getBreakName,Fe as getCallOperandAt,at as getCallOperandCount,ji as getCallTarget,Ye as getConstValueF32,He as getConstValueF64,ie as getConstValueI32,$e as getConstValueI64High,Be as getConstValueI64Low,xc as getDefaultParameterName,DS as getDependee,RS as getDiagnosticCategory,SS as getDiagnosticCode,AS as getDiagnosticMessage,NS as getDiagnosticRange,LS as getDiagnosticRelatedRange,f2 as getDropValue,ee as getExpressionId,le as getExpressionType,d2 as getFunctionBody,E2 as getFunctionName,y2 as getFunctionParams,g2 as getFunctionResults,T2 as getFunctionVars,$i as getGlobalGetName,v2 as getGlobalInit,b2 as getGlobalName,I2 as getGlobalType,fs as getIfCondition,Zr as getIfFalse,Zi as getIfTrue,Al as getLoadBytes,r2 as getLoadOffset,i2 as getLoadPtr,ot as getLocalGetIndex,cs as getLocalSetIndex,lr as getLocalSetValue,u2 as getLoopBody,l2 as getLoopName,m2 as getMemoryGrowDelta,FS as getRangeEnd,kS as getRangeSource,CS as getRangeStart,h2 as getReturnValue,_2 as getSelectCondition,Cl as getSelectElse,Ll as getSelectThen,ni as getSideEffects,xS as getSource,PS as getSourceNormalizedPath,n2 as getStoreBytes,s2 as getStoreOffset,a2 as getStorePtr,o2 as getStoreValue,x2 as getTagName,S2 as getTagParams,R2 as getTagResults,Qi as getUnaryOp,_s as getUnaryValue,GS as initializeProgram,Je as isConstNonZero,ge as isConstZero,nn as isDeclaredElement,MS as isError,Ql as isGlobalMutable,Ro as isIllegalVariableIdentifier,OS as isInfo,Nl as isLoadSigned,Xi as isLocalTee,xe as isTypeOmitted,No as isTypedElement,wS as isWarning,Te as mangleInternalName,Ni as mangleInternalPath,Gs as mustPreserveSideEffects,Us as needsExplicitUnreachable,M2 as newOptions,IS as newProgram,vS as nextDiagnostic,BS as nextFile,ye as operatorTokenToString,KS as optimize,US as parse,Ge as readString,j2 as removeGlobalAlias,TS as setBasenameHint,nS as setBundleVersion,G2 as setExportMemory,tS as setExportRuntime,J2 as setExportStart,K2 as setExportTable,V2 as setImportMemory,H2 as setImportTable,z2 as setInitialMemory,eS as setLowMemoryLimit,W2 as setMaximumMemory,q2 as setMemoryBase,D2 as setNoAssert,$2 as setNoUnsafe,gS as setOptimizeLevelHints,bS as setPedantic,B2 as setRuntime,Y2 as setSharedMemory,X2 as setSourceMap,iS as setStackSize,Q2 as setTableBase,U2 as setTarget,Qu as tokenFromKeyword,Zu as tokenIsAlsoIdentifier,Ur as typesToRefs,Gn as typesToString,la as util,HS as validate};
//# sourceMappingURL=assemblyscript.js.map
